/**
 * section: current/functions/pow
 * title: Power of a number
 *
 * description: |
 *   Rise a number to a certain power.
 *   For exponents it accepts integers or multiples of .5
 *
 *   ```
 *   pow($number, $exp)
 *   // pow(5, 2) -> 25
 *   // pow(3, 2.5) -> 15.58846
 *   // pow(3, -2) -> 0.11111
 *   ```
 */

@function pow($number, $exp) {
  $result: 1;
  $needs-square-root: false;

  @if type-of($exp) != number {
    // make sure we have the right type of exponent
    @error 'The exponent is not an integer or a multiple of .5';
  } @else if round($exp) != $exp {
    // if we need square root, calculate it and then remove it from the exponent
    $needs-square-root: sqrt($number);
    $exp: $exp - .5;
  }
  // calculate the power

  @if $exp > 0 {
    // if exponent is positive, multiply
    @for $i from 1 through $exp {
      $result: $result * $number;
    }
  } @else if $exp < 0 {
    // if the exponent is negative, divide.
    @for $i from 1 through abs($exp) {
      $result: $result / $number;
    }
  }

  // upate with the square root, if needed
  @if $needs-square-root {
    $result: $result * $needs-square-root;
  }

  @return $result;
}
