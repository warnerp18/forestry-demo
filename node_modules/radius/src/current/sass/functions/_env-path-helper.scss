/**
 * section: current/functions/env-path-helper
 * title: Asset path
 *
 * description: |
 *   Generates the path to an asset, possibly defering to the Rails asset
 *   pipeline helpers.
 *
 *   $path - path to the file
 */

@function env-path-helper($path) {
  $is-radius-rails: function-exists('fc-asset-path');

  @if $is-radius-rails {
    $fragments: str-split($path, '?');
    $path: nth($fragments, 1);
    $query: if(length($fragments) > 1, nth($fragments, 2), '');
    $path: fc-asset-path($path) + $query;
  }

  @return $path;
}
