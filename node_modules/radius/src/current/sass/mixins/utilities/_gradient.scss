/**
 * section: current/mixins/utilities/gradient
 * title: Gradient
 * description: |
 *   @include gradient($orientation,($color-list),[$angle]);
 *   $orientation: string -> horizontal / vertical / radial / angle
 *   $color-list: a list of pairs for color stops (color percentage)
 *              e.g (rgb(0,0,0) 0%, rgb(255,255,255) 15%, rgb(0,0,0) 100%)
 *   $angle: if $orientation: angle, then here you set the angle degree
 *            e.g. @include gradient(angle,(...),50deg);
 */

// scss-lint:disable all
@mixin gradient($orientation, $color-list, $angle:false) {

  // set type of gradient
  $grad-type: linear;

  @if $orientation == radial {
    $grad-type: radial;
  }

  $gradient-direction1: left;
  $gradient-direction2: left top, right top;
  $gradient-direction3: to right;
  $gradient-type: 1;

  // "translate" $orientation
  @if $orientation == radial {

    $gradient-direction1: center, ellipse cover;
    $gradient-direction2: radial, center center, 0, center center, 100%;
    $gradient-direction3: ellipse at center;

  } @else if $orientation == vertical {

    $gradient-direction1: top;
    $gradient-direction2: left top, left bottom;
    $gradient-direction3: to bottom;
    $gradient-type: 0;

  } @else if $orientation == angle {
    $gradient-direction1: $angle - 180;
    $gradient-direction2: $angle; // TO DO
    $gradient-direction3: $angle;
    $gradient-type: 1;
  }

  // fallback in case gradient is not supported
  background: first(first($color-list));

  $gradient-color-format1: $color-list; // this has the correct format

  background: -moz-#{$grad-type}-gradient(
    $gradient-direction1,
    $gradient-color-format1
  );

  background: -webkit-#{$grad-type}-gradient(
    $gradient-direction1,
    $gradient-color-format1
  );

  background: -o-#{$grad-type}-gradient(
    $gradient-direction1,
    $gradient-color-format1
  );

  background: -ms-#{$grad-type}-gradient(
    $gradient-direction1,
    $gradient-color-format1
  );

  background: #{$grad-type}-gradient(
    $gradient-direction3,
    $gradient-color-format1
  );

  $ie-first-color: ie-hex-str(first(first($color-list)));
  $ie-last-color: ie-hex-str(first(last($color-list)));

  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#{$ie-first-color}', endColorstr='#{$ie-last-color}',GradientType=1);
}
// scss-lint:enable all
