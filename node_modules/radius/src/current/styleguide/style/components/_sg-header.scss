$_sg-header: (
  logo-transform-angle: 100deg,
  breakpoint: styleguide(page-breakpoint)
);


@function sg-header($var) {
  @return map-get($_sg-header, $var);
}


.sg-header {
  padding-left: size(1);
  padding-right: size(1);

  color: get-color(white);

  background: get-color(purple);


  @include to(sg-header(breakpoint)) {
    padding-top: size(1);
    padding-bottom: size(1);
  }


  @include from(sg-header(breakpoint)) {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 10;
  }
}


.sg-header__logo {
  @include font(large);

  position: relative;

  display: block;

  color: inherit;
  text-transform: uppercase;
  font-weight: get-const(config, font-weight-bold);
  text-align: center;

  transform-style: preserve-3d;
  perspective: 200px;


  &:before,
  &:after {
    display: block;
    width: 100%;
    height: 100%;

    text-align: center;

    backface-visibility: hidden;
    transform-origin: bottom center;
    transition: all 200ms ease;
    transition-property: transform, color;
  }


  &:before {
    content: attr(data-motto);

    position: absolute;
    bottom: 0;
    left: 0;

    transform: rotateX(sg-header(logo-transform-angle));
  }


  &:after {
    content: attr(data-title);

    letter-spacing: 3px;
  }


  &:hover {
    color: get-color(yellow);
    text-decoration: none;


    &:before {
      transform: rotateX(0);
    }


    &:after {
      transform: rotateX(negative(sg-header(logo-transform-angle)));
    }
  }


  @include to(sg-header(breakpoint)) {
    margin: size(0 auto 1);
  }
}


.sg-header__navigation-button {
  display: none;


  @include to(sg-header(breakpoint)) {
    &.has-js {
      display: block;
    }
  }
}


.sg-header__group-options {
  @include to(sg-header(breakpoint)) {
    &.has-js:not(.is-active) {
      display: none;
    }
  }


  @include from(sg-header(breakpoint)) {
    display: flex;
    align-items: center;
  }
}


.sg-header__navigation {
  @include from(sg-header(breakpoint)) {
    display: flex;
    min-height: size(3.5);
    align-items: stretch;
    align-content: center;

    white-space: nowrap;
  }
}


.sg-header__navigation a {
  position: relative;

  color: inherit;


  &:before {
    content: '';

    position: absolute;

    display: block;
    width: 0;

    background: get-color(yellow);
    transition: width 200ms ease;
  }


  &:hover {
    text-decoration: none;
    color: get-color(yellow);
  }


  @include to(sg-header(breakpoint)) {
    display: block;
    padding: size(.5);

    transition: color 200ms ease;


    &:not(:last-child) {
      border-bottom: 1px solid transparentize(get-color(white), .8);
    }


    &:before {
      right: 0;
      top: 0;
      height: 100%;
    }


    &:hover {
      &:before {
        width: 4px;
      }
    }
  }


  @include from(sg-header(breakpoint)) {
    display: flex;
    align-items: center;
    padding-left: size(.75);
    padding-right: size(.75);


    &:before {
      left: 0;
      right: 0;
      bottom: 0;

      margin-left: auto;
      margin-right: auto;
      height: 4px;
    }


    &:hover:before {
      width: 100%;
    }
  }
}


.sg-header__search {
  color: get-color(black);

  @include from(sg-header(breakpoint)) {
    max-width: size(20);
    padding-right: size(1);
  }
}
