/**
 * section: M2DM/developer/functions/get-config
 * title: get-config
 *
 * description: |
 *   In order to avoid repetition and ensure consistency of basic rules, Radius comes with a configuration map which defines global settings, for instance the `baseline` or the agreed tshirt sizing rules. The configuration map itself lives in `init/config.scss` but you can extract the settings using this method.
 *
 * parameters: |
 *
 *   $key: the id of the setting
 *   $index: the index of the item, if setting contains a list
 *
 * sassUsage: |
 *
 *   get-config(baseline)
 *   get-config(tshirt-scale, 1)
 *
 */

@function get-config($key, $index: false) {
  @if map-has-key($radius-config, $key) {
    $el: map-get($radius-config, $key);

    @if $index {
      @if length($el) >= $index {
        @return nth($el, $index);
      } @else {
        @error "The config property #{$key} does not have an index with index of #{$index}";
      }
    }
    @return $el;

  } @else {
    @error "The key #{$key} does not exist in the configuration map";
  }
}
