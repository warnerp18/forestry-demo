/**
  * section: M2DM/layout-patterns/container-with-aside
  * title: Container with Aside
  *
  * abstractLink: 51f8cc05-c692-4e91-b9a9-c32da32ec7bf
  *
  * description: |
  *
  *  This is a layout component for displaying a small related component beside (that is to the right of) a larger one.<br><br>
  *  
  *  On smaller screens the components will stack.<br><br>
  *
  *  The main panel will always be white. To change the color of the aside panel from its default orange you need to add a theme modifier class to the component element. e.g. u-theme-brand
  *
  * markup: globals/scss/layout-patterns/container-with-aside/aside
*/

.container-with-aside {
  background: get-color(orange, 2x-light);
}

.container-with-aside__main {
  background: get-color(white);
}

@include breakpoint(from mobile-medium) {
  .container-with-aside {
    $vertical-padding: 2.5rem;
    position: relative;

    padding: $vertical-padding 0;

    &::before {
      position: absolute;
      top: $vertical-padding;
      bottom: $vertical-padding;
      left: 0;

      display: inline-block;
      width: 50%;

      background: get-color(white);

      content: "";
    }
  }

  .container-with-aside__columns {
    @include columns(2 1);
    @include page-grid-responsive;
  }

  .container-with-aside__main {
    position: relative;  // necessary to prevent pseudo element appearing in front of this in IE
  }

  .container-with-aside__aside {
    display: flex;
    align-items: center;
  }
}

@include breakpoint(to mobile-medium) {
  .container-with-aside__main > :first-child,
  .container-with-aside__aside > :first-child {
    @include golden-ratio-paddings(7,1,1);
  }

  .container-with-aside__aside {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }
}

@include breakpoint(from desktop-small) {
  .container-with-aside__main-content {
    @include add-gutters(0, 1.5rem);
  }

  .container-with-aside__aside-content {
    @include add-gutters(1.5rem, 0);
  }
}
