/**
 * section: M2DM/components/hero
 * title: Heroes
 *
 * activateComponent: radius-component-hero
 *
 * abstractLink: 89fc7dcd-567d-42d7-9e2a-cc4e913f6e50
 *
 * purpose: Use to set context for a page through a headline introducing the content.
 *
 * description: |
 *  This component often contains a text block component and CTAs. The only difference between the FUNCTIONAL HERO and the BRAND HERO is the Title (different font, size and colour).
 *   <br><br>
 *   When this components is called a certain necessary layout is created. The hero needs to spread across the whole viewport width, but the content inside will be contained within the page grid (see: `layout-patterns/page grid`). The content's layout pattern will follow a 4:1 grid on mobile and a 2:1 on desktop following the golden ratio proportions. For desktop, the content will also be padded with the standard 1.5rem gutter on the left and right side.
 *   <br><br>
 *   This component should always be used in conjunction with the `hero-customisation` mixin for setting the background image and colour. First parameter of this mixin is the relative path to the folder containing all the different versions of the background image; the images should be saved as follows: _portrait-s.jpg_, _portrait-l.jpg_, _landscape-s.jpg_, _landscape-l.jpg_ (from small resolutions to large ones and the screen ratio; check example for info on how each variant should differ).
 *   <br><br>
 *   To load different character-set fonts for other languages, define "$radius-config-brand-font-file" before the radius is loaded on "/m2dm/sass/init/_config.scss".
 *   <br><br>
 *   The `hero__caption` element is optional.
 *
 * sassUsage: |
 *
 *   @include radius-component-hero;
 *
 *   .hero {
 *      @include hero-customisation(images);
 *   }
 *
 *
 * markup: components/hero/example
 *
 */

/**
 * section: M2DM/components/hero/brand
 * title: Brand Hero
 *
 * purpose: Use to set a context for the page and land the brand proposition clearly.
 *
 * description: |
 *   This component contains brand heading, copy text and CTAs following the same layout as the functional hero, the only difference being the usage of the Selfmade Sans font.
 *
 * markup: components/hero/brand-example
 *
 */

/**
 * section: M2DM/components/hero/functional
 * title: Functional Hero
 *
 * purpose: Use to set context for the page through a headline introducing the content.
 *
 * description: |
 *   This component contains section heading, copy text and CTAs following the same layout as the brand hero, the only difference being the usage of the Amasis font for the heading.
 *
 * markup: components/hero/functional-example
 *
 */

/**
 * section: M2DM/components/hero/editorial
 * title: Editorial Hero
 *
 * purpose: Use to set context for content focussed pages.
 *
 * description: |
 *    The titles of these pages are usually longer and require more detail to describe their content and demonstrate relevance to the user. The pages focus more on content than conversion, such as articles, tips and tricks or guides.
 *
 *
 * sassUsage: |
 *
 *   @include radius-component-hero;
 *
 *   .hero--editorial {
 *      @include hero-editorial-customisation("img/hero", #333d65);
 *   }
 *
 *
 * markup: components/hero/editorial-example
 *
 */

// This variable needs to live here as it is used in this file and in sidekick/index
$hero-component-v-padding: 2.5rem;

@import "sidekick/index";

@import "mixins/hero-customisation";
@import "mixins/hero-editorial-customisation";
@import "mixins/hero-sidekick-customisation";


@mixin radius-component-hero {
  // old IE fallback
  .no-flexbox {
    .hero {
      position: relative;
    }


    .hero__content {
      position: absolute;
      top: 50%;

      transform: translateY(-50%);
    }
  }


  .hero {
    position: relative;

    display: flex;
  }

  .hero:not(.hero--editorial),
  .hero__background {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
  }

  //  to fix bug in IE 10/11 need to nest this flexboxed element within another
  .hero:not(.hero--editorial) > :first-child {
    display: flex;
    align-items: center;
  }


  .hero:not(.hero--editorial) > :first-child,
  .hero__background {
    min-height: 60vh;
    padding-top: $hero-component-v-padding;
    padding-bottom: $hero-component-v-padding;


    @media screen and (min-aspect-ratio: 1/1) {
      min-height: 80vh;
    }

    // for landscape screens: (height / width) * ~75vw
    @media screen and (min-aspect-ratio: 4/3) and (max-aspect-ratio: 16/9) {
      min-height: 55vw;
    }

    @media screen and (min-aspect-ratio: 16/9) and (max-aspect-ratio: 21/9) {
      min-height: 40vw;
    }

    @media screen and (min-aspect-ratio: 21/9) {
      min-height: 33vw;
    }
  }


  .hero__caption {
    @include font(small);

    position: absolute;
    bottom: 0;

    padding: 0.5rem 0;

    @include breakpoint(from mobile-medium) {
      right: 0;
      left: 0;

      text-align: center;
    }

    @include breakpoint(from desktop-small) {
      padding: 1rem 0;
    }
  }


  .hero__content {
    @include golden-ratio-paddings(2,false,1);
    @include add-gutters;


    @media screen and (max-aspect-ratio: 1/1) {
      @include golden-ratio-paddings(4,false,1);
    }
  }


  .hero__inner {
    @include page-grid;
  }


  .hero--with-sidekick .hero__caption {
    bottom: 3rem;
  }


  .hero--editorial {
    position: relative;

    display: block;
    margin-bottom: 5rem;

    background: none;


    @include breakpoint(to mobile-medium) {
      margin-bottom: auto;
    }


    .hero__content {
      position: absolute;
      bottom: -2.5rem;

      padding: 2rem;


      @include breakpoint(to mobile-medium) {
        position: relative;
        bottom: auto;
        left: 0;

        padding: 1rem;
        margin-top: -10rem;
      }
    }


    .hero__inner {
      @include page-grid-responsive;
    }
  }
}
