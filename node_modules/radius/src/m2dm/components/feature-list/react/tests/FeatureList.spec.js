import React from 'react';
import { shallow } from 'enzyme';
import FeatureList from '..';

describe('FeatureList', () => {
  let featureList;

  beforeEach(() => {
    featureList = shallow(
      <FeatureList>
        <FeatureList.Item>item list 0</FeatureList.Item>
        <FeatureList.Item>item list 1</FeatureList.Item>
        <FeatureList.Item>item list 2</FeatureList.Item>
        <FeatureList.Item>item list 3</FeatureList.Item>
      </FeatureList>,
    );
  });

  it('renders the list items', () => {
    featureList.find('.feature-list__item').forEach((node, index) => {
      expect(node.html()).toEqual(`<FeatureList.Item>item list ${index}</FeatureList.Item>`);
    });
  });

  describe('when `contrast` props is passed', () => {
    beforeEach(() => {
      featureList.setProps({ contrast: true });
    });

    it('adds the `u-color-white` class on the wrapper', () => {
      expect(featureList.hasClass('u-color-white')).toBe(true);
    });
  });

  describe('`extraClasses` props is passed', () => {
    const extraClasses = 'class-1 class-2 class-3';

    beforeEach(() => {
      featureList.setProps({ extraClasses });
    });

    it('adds the classess on the wrapper', () => {
      expect(featureList.hasClass(extraClasses)).toBe(true);
    });
  });
});
