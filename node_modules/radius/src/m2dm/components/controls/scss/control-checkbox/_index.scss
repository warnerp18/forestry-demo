/**
 * section: M2DM/components/controls/control-checkbox
 * title: Checkbox button
 *
 * activateComponent: radius-component-control-checkbox
 *
 * abstractLink: d78f0396-a867-406b-b24d-9ae6fa27c155
 *
 * purpose: Use to allow users to choose between two different states by turning an option on or off.
 *
 * description: |
 *   A checkbox is not mutually exclusive. Multiple checkboxes can be used when the choices are obvious.
 *
 *   ### Context
 *   The checkbox is a base component and can be used within larger components and layouts.
 *
 *   ### Behaviour
 *   The control button inherits its colours from the secondary button. It has 5 states. Make it clear with words when users can select one or multiple options. The label should be included in the hit radius of the buttons
 *
 *   ### Modifiers
 *   * `control-checkbox--loud` - add this class if you want the checkbox and label to be more visible. This modifier also requires the label to be wrapped inside a span with class `control-checkbox__label` (see example)
 *
 * layout: components/controls/scss/control-checkbox/example
 *
 * markup: components/controls/scss/control-checkbox/example-markup
 */


@mixin radius-component-control-checkbox {
  $variant-padding: 1rem;

  .control-checkbox {
    @extend %toggle-inputs;
  }


  .control-checkbox__icon {
    @extend %toggle-inputs-icon;

    border-radius: 15%;
  }


  .control-checkbox__input:focus + .control-checkbox__icon:not(:hover) {
    @extend %toggle-inputs-focus;
  }


  .control-checkbox__input:checked + .control-checkbox__icon,
  .control-checkbox:hover .control-checkbox__icon {
    @extend %toggle-inputs-hover;
  }


  .control-checkbox__icon::before {
    @extend %toggle-inputs-active;

    width: 80%;
    height: 80%;

    background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDYgMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KPHBvbHlnb24gcG9pbnRzPSIxNi45NjkgMjIuNjI3IDUuNjU2MiAxMS4zMTQgMCAxNi45NzEgMTYuOTY5IDMzLjk0MSA0NS4yNSA1LjY1NjkgMzkuNTk0IDAiIGZpbGw9IiMwMDAiLz4NCjwvZz4NCjwvc3ZnPg0K");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
  }


  .control-checkbox__input:checked + .control-checkbox__icon::before {
    transform: scale(1);
  }


  .control-checkbox--loud {
    padding: 0;
  }


  .control-checkbox--loud .control-checkbox__icon {
    top: $variant-padding;
    left: $variant-padding;
  }


  .control-checkbox--loud .control-checkbox__label {
    display: block;
    padding: $variant-padding;
    padding-bottom: calc(#{$variant-padding} - 1px); // stylelint-disable-line declaration-property-unit-whitelist
    padding-left: $variant-padding + 2rem;

    background: get-color(blue, 3x-light);
    border: 1px solid get-color(grey, x-light);
  }

  .control-checkbox--loud .control-checkbox__input:checked ~ .control-checkbox__label,
  .control-checkbox--loud:hover .control-checkbox__label {
    background: get-color(orange, 3x-light);
  }
}
