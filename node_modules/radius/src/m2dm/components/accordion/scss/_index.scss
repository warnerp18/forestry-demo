/**
 * section: M2DM/components/accordion
 * title: Accordion
 *
 * activateComponent: radius-component-accordion
 * jsModule: accordion
 *
 * abstractLink: 252ebb43-ebe7-4cc6-b37c-a681f7415658
 *
 * purpose: Use to display large amounts of information in a scannable way, for example on an FAQ page.
 *
 * description: |
 *   ### Environment specific behaviour:
 *   When JavaScript is not available the hidden content in the accordion will become visible.
 *
 *   ### Data attributes:
 *   - `[data-js-accordion]`: This attribute should be added to the accordion wrapper.
 *   - `[data-js-accordion-item]`: This attribute should be added to each accordion item underneath the accordion wrapper.
 *   - `[data-js-accordion-trigger]`: This attribute should be added to the element that triggers the opening of the accordion content.
 *
 * markup: components/accordion/example
 */

@mixin radius-component-accordion {
  $text-toggle-color: get-color(blue, contrast);
  $border-color: get-color(grey, 2x-light);
  $icon-size: 1.5rem;
  $icon-bar-length: 0.625rem;
  $icon-bar-width: 0.125rem;
  $padding: 1.5rem;


  .accordion-item {
    position: relative;

    border-bottom: 1px solid $border-color;


    &:first-child {
      border-top: 1px solid $border-color;
    }
  }


  .accordion-item__title {
    @include font(large);

    width: 100%;
    padding: $padding $padding $padding 0;
    margin: 0;

    font-family: get-config(font-family-primary);
    font-weight: bold;
    color: get-color(grey);
    text-align: left;

    cursor: pointer;

    background-color: transparent;
    border: 0;
  }


  .accordion-item__icon {
    position: absolute;
    top: $padding;
    right: 0;

    width: $icon-size;
    height: $icon-size;

    color: $text-toggle-color;

    pointer-events: none;
    border: 1px solid $text-toggle-color;
    border-radius: 50%;


    &::before,
    &::after {
      position: absolute;
      top: 50%;
      left: 50%;

      background-color: $text-toggle-color;
      border-radius: 1px;

      content: "";
    }


    &::before {
      width: $icon-bar-length;
      height: $icon-bar-width;
      margin-top: ($icon-bar-width / 2) * -1;
      margin-left: ($icon-bar-length / 2) * -1;
    }


    &::after {
      width: $icon-bar-width;
      height: $icon-bar-length;
      margin-top: ($icon-bar-length / 2) * -1;
      margin-left: ($icon-bar-width / 2) * -1;
    }
  }


  .accordion-item.is-active .accordion-item__icon::after {
    height: 0;
    margin-top: 0;
  }


  .accordion-item__content {
    @include font(medium);

    display: none;
    margin-bottom: $padding;
  }


  .accordion-item.is-active .accordion-item__title {
    margin-bottom: 0.5rem;
  }


  .accordion-item.is-active .accordion-item__content {
    display: block;
  }
}
