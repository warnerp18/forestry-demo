import React from 'react';
import PropTypes from 'prop-types';

const Terms = ({
  disabled, onTermSelected, loanTerm, termLengths,
}) => {
  function createTerm(duration, isChecked) {
    return (
      <div key={ duration }>
        <label>
          <input
            type="radio"
            name="term"
            value={ duration }
            checked={ isChecked }
            onChange={ () => onTermSelected(duration)}
          />
          <span>{ duration } months</span>
        </label>
      </div>
    );
  }

  return (
    <fieldset disabled={disabled} data-test-loan-terms >
      <legend>Loan term</legend>
      { termLengths.map(t => createTerm(t, t === loanTerm))}
    </fieldset>
  );
};

Terms.propTypes = {
  disabled: PropTypes.bool,
  loanTerm: PropTypes.number,
  onTermSelected: PropTypes.func,
  termLengths: PropTypes.array,
};

export default Terms;
