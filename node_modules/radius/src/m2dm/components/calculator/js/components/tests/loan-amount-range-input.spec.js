import React from 'react';
import { shallow } from 'enzyme';
import LoanAmountRangeInput from '../loan-amount-range-input';

describe('LoanAmountRangeInput component', () => {
  describe('when the component is rendered', () => {
    describe('when the user moves the slider', () => {
      let range;
      let spyOnUpdateLoanAmount;
      beforeEach(() => {
        spyOnUpdateLoanAmount = jasmine.createSpy('spy-on-update-loan-amount');
        range = shallow(<LoanAmountRangeInput updateLoanAmount={ spyOnUpdateLoanAmount}/>);
        range.simulate('change', { target: { value: '180' } });
      });
      it('should update the loan amount', () => {
        expect(spyOnUpdateLoanAmount).toHaveBeenCalledWith(180);
      });
    });
  });
});
