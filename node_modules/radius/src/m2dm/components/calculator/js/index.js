/**
 *
 * section: M2DM/components/calculator
 * title: Calculator
 *
 * jsModule: calculator
 *
 * purpose: Use to allow the user to get an idea of how much a loan will cost them.
 *
 * markup: components/calculator/js/markup
 */

import React from 'react';
import { render } from 'react-dom';
import { Provider } from 'react-redux';
import { createStore } from 'redux';
import reducer from './reducer';
import Calculator from './components/calculator';

const defaultState = {
  errorMessage: '',
  disabled: false,
  loanAmount: 250000,
  loanTerm: 36,
  minLoanAmount: 5000,
  maxLoanAmount: 1000000,
  locale: 'en-GB',
  termLengths: [6, 12, 24, 36, 48, 60],
};

export default () => {
  if (document.querySelector('[data-js-calculator]')) {
    const store = createStore(reducer, defaultState);

    render(
      <Provider store={ store }>
        <Calculator />
      </Provider>,
      document.querySelector('[data-js-calculator]'),
    );
  }
};
