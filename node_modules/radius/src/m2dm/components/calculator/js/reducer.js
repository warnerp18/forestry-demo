import { UPDATE_LOAN_AMOUNT, UPDATE_TERM } from './actions';

function reducer(state = {}, action) {
  if (action.type === UPDATE_LOAN_AMOUNT) {
    let errorMessage = '';
    let disabled = false;

    if (action.loanAmount < state.minLoanAmount) {
      errorMessage = 'amount is below minimum allowed';
      disabled = true;
    } else if (action.loanAmount > state.maxLoanAmount) {
      errorMessage = 'amount is above maximum allowed';
      disabled = true;
    }

    return Object.assign({}, state, {
      loanAmount: action.loanAmount,
      errorMessage,
      disabled,
    });
  }

  if (action.type === UPDATE_TERM) {
    return Object.assign({}, state, {
      loanTerm: action.loanTerm,
    });
  }

  return state;
}

export default reducer;
