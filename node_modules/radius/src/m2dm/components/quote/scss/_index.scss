/**
 * section: M2DM/components/quote
 * title: Quote
 *
 * activateComponent: radius-component-quote
 *
 * purpose: Use to cite words said by a person or organisation.
 *
 * description: |
 *   Can include a citation (i.e. the quote's author), but this is optional.
 *
 *   There are three class modifiers that can be used. And one further modifier which is set by the page language.
 *
 *   ### Class Modifiers
 *
 *   `quote--trustpilot-author`: For when the quote is sourced from TrustPilot. Makes the author text green.
 *
 *   `quote--large`: Larger, bold font.
 *
 *   `quote--shrink`: On smaller screens, the text gets smaller and switches to the default font.
 *
 *   ### Locale modifier
 *
 *   If the page language is set to `de`, different quote marks are used due to the way the German language works.
 *
 *   When this component is used, it is assumed the correct lang attribute is set on the page.
 *
 *   To observe the difference, use the below select box to switch the lang attribute on the html tag and see the examples change.
 *
 *   <select class="html-lang-input">
 *    <option value="en">en</option>
 *    <option value="de">de</option>
 *   </select>
 *
 * layout: components/quote/example
 *
 * markup: components/quote/example-markup
 */

@mixin radius-component-quote {
  $base-color-lighter: get-color(grey, light);
  $trustpilot-green: #00b67a;
  $compact-layout: tablet-medium;
  $apostrophe-offset: 0.5rem;
  $apostrophe-offset-large: 0.9rem;


  .quote__content {
    margin: 0 0 0.5rem 0; // stylelint-disable-line shorthand-property-no-redundant-values

    @include font(large);
    font-family: get-config(font-family-primary);


    &::before {
      display: inline-block;
      width: $apostrophe-offset;
      margin-left: ($apostrophe-offset * (-1));

      content: "\201C";
    }


    &::after {
      content: "\201D";
    }
  }


  .quote__author {
    @include font(medium);
    font-style: normal;

    color: $base-color-lighter;


    &::before {
      padding-right: 0.3rem;

      content: "\2014";
    }
  }


  html[lang="de"] .quote__content { // stylelint-disable-line selector-no-qualifying-type
    &::before {
      content: "\201E";
    }

    &::after {
      content: "\201C";
    }
  }


  .quote--large .quote__content {
    @include font(x-large);
    font-weight: bold;


    &::before {
      width: $apostrophe-offset-large;
      margin-left: ($apostrophe-offset-large * (-1));
    }
  }


  .quote--shrink .quote__content {
    @include to($compact-layout) {
      @include font(medium);
      font-family: get-config(font-family-default);
    }
  }


  .quote--trustpilot-author .quote__author {
    color: $trustpilot-green;
  }
}
