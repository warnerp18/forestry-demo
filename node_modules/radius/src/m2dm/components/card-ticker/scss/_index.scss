/**
 * section: M2DM/components/card-ticker
 * title: Card Ticker
 *
 * activateComponent: radius-component-card-ticker
 * jsModule: card-ticker
 * jsFunction: cardTicker
 *
 * purpose: Use to deliver the concept of activity on a given task; its content establishes a number of baselines with the clear objective of reassuring the user on the presented activity.
 *
 * description: |
 *   This component will be paired with a label component that will introduce the content presented.
 *   
 *   The contents of the cards are generated dynamically from a text file that is fetched across the network. ([Read more about the Javascript functionality](/M2DM/components/card-ticker/javascript/)).
 *   
 *   **N.B.** Flexbox and CSS animations are not supported in IE9 and below, so this component will not be displayed.
 *
 *   ### Data attributes:
 *   - `[data-js-card-ticker]`: This attribute identifies the wrapper that holds the card-ticker carousel;
 *   - `[data-js-card-ticker-carousel]`: This attribute identifies the card-ticker carousel;
 *   - `[data-js-card-ticker-item]`: This attribute identifies an item within the card-ticker carousel;
 *   - `[data-js-card-ticker-source]`: TThis attribute creates a connection between the component and its source of data.
 *
 * markup: components/card-ticker/example
 */


@mixin radius-component-card-ticker {
  $card-width: 13rem;
  $card-contrast-color: get-color(grey, 2x-light);
  $label-gutter: nth(get-columns-widths(1 4 1), 1) * 1%;
  $card-space: 0.5rem;
  $shift-extra-space: 3 * $card-space;
  $card-translation: ($card-width + $shift-extra-space) * (-1);

  .card-ticker {
    overflow: hidden;
  }


  .card-ticker__inner {
    @include page-grid;
  }


  .card-ticker .card-ticker__label {
    @include from(mobile-large) {
      margin-left: $label-gutter;
    }
  }


  .card-ticker__carousel {
    display: flex;
    align-items: flex-start;

    padding: 1rem 0;
    margin: 0;

    animation: cardTickerItemShift 4.5s cubic-bezier(0.45, 2, 0.56, 0.52) infinite;
  }


  .card-ticker__item {
    flex: 0 0 $card-width;

    margin-right: $card-space;
    margin-left: $card-space;

    background-color: get-color(white);
    border: 1px solid $card-contrast-color;
    border-radius: 0.25rem;

    box-shadow: 0 1px 1px 0 $card-contrast-color;
  }


  .card-ticker__item-content {
    margin: 1rem;
  }


  .no-flexbox .card-ticker {
    display: none;
  }


  @keyframes cardTickerItemShift {
    0% {
      transform: translateX(0);
    }

    10%,
    100% {
      transform: translateX(#{$card-translation});
    }
  }
}
