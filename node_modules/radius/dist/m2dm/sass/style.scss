$radius-config-asset-path: "https://dgnvhpcjbd3ba.cloudfront.net/radius/8.0.0";
/**
 * section: M2DM
 * title: M2DM
 *
 * description:
 *   This is our M2DM collection of components.
 */

// import core dependencies
/*! normalize.css v7.0.0 | MIT License | github.com/necolas/normalize.css */

/* Document
   ========================================================================== */

/**
 * 1. Correct the line height in all browsers.
 * 2. Prevent adjustments of font size after orientation changes in
 *    IE on Windows Phone and in iOS.
 */

html {
  line-height: 1.15; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}

/* Sections
   ========================================================================== */

/**
 * Remove the margin in all browsers (opinionated).
 */

body {
  margin: 0;
}

/**
 * Add the correct display in IE 9-.
 */

article,
aside,
footer,
header,
nav,
section {
  display: block;
}

/**
 * Correct the font size and margin on `h1` elements within `section` and
 * `article` contexts in Chrome, Firefox, and Safari.
 */

h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

/* Grouping content
   ========================================================================== */

/**
 * Add the correct display in IE 9-.
 * 1. Add the correct display in IE.
 */

figcaption,
figure,
main { /* 1 */
  display: block;
}

/**
 * Add the correct margin in IE 8.
 */

figure {
  margin: 1em 40px;
}

/**
 * 1. Add the correct box sizing in Firefox.
 * 2. Show the overflow in Edge and IE.
 */

hr {
  box-sizing: content-box; /* 1 */
  height: 0; /* 1 */
  overflow: visible; /* 2 */
}

/**
 * 1. Correct the inheritance and scaling of font size in all browsers.
 * 2. Correct the odd `em` font sizing in all browsers.
 */

pre {
  font-family: monospace, monospace; /* 1 */
  font-size: 1em; /* 2 */
}

/* Text-level semantics
   ========================================================================== */

/**
 * 1. Remove the gray background on active links in IE 10.
 * 2. Remove gaps in links underline in iOS 8+ and Safari 8+.
 */

a {
  background-color: transparent; /* 1 */
  -webkit-text-decoration-skip: objects; /* 2 */
}

/**
 * 1. Remove the bottom border in Chrome 57- and Firefox 39-.
 * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.
 */

abbr[title] {
  border-bottom: none; /* 1 */
  text-decoration: underline; /* 2 */
  text-decoration: underline dotted; /* 2 */
}

/**
 * Prevent the duplicate application of `bolder` by the next rule in Safari 6.
 */

b,
strong {
  font-weight: inherit;
}

/**
 * Add the correct font weight in Chrome, Edge, and Safari.
 */

b,
strong {
  font-weight: bolder;
}

/**
 * 1. Correct the inheritance and scaling of font size in all browsers.
 * 2. Correct the odd `em` font sizing in all browsers.
 */

code,
kbd,
samp {
  font-family: monospace, monospace; /* 1 */
  font-size: 1em; /* 2 */
}

/**
 * Add the correct font style in Android 4.3-.
 */

dfn {
  font-style: italic;
}

/**
 * Add the correct background and color in IE 9-.
 */

mark {
  background-color: #ff0;
  color: #000;
}

/**
 * Add the correct font size in all browsers.
 */

small {
  font-size: 80%;
}

/**
 * Prevent `sub` and `sup` elements from affecting the line height in
 * all browsers.
 */

sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

/* Embedded content
   ========================================================================== */

/**
 * Add the correct display in IE 9-.
 */

audio,
video {
  display: inline-block;
}

/**
 * Add the correct display in iOS 4-7.
 */

audio:not([controls]) {
  display: none;
  height: 0;
}

/**
 * Remove the border on images inside links in IE 10-.
 */

img {
  border-style: none;
}

/**
 * Hide the overflow in IE.
 */

svg:not(:root) {
  overflow: hidden;
}

/* Forms
   ========================================================================== */

/**
 * 1. Change the font styles in all browsers (opinionated).
 * 2. Remove the margin in Firefox and Safari.
 */

button,
input,
optgroup,
select,
textarea {
  font-family: sans-serif; /* 1 */
  font-size: 100%; /* 1 */
  line-height: 1.15; /* 1 */
  margin: 0; /* 2 */
}

/**
 * Show the overflow in IE.
 * 1. Show the overflow in Edge.
 */

button,
input { /* 1 */
  overflow: visible;
}

/**
 * Remove the inheritance of text transform in Edge, Firefox, and IE.
 * 1. Remove the inheritance of text transform in Firefox.
 */

button,
select { /* 1 */
  text-transform: none;
}

/**
 * 1. Prevent a WebKit bug where (2) destroys native `audio` and `video`
 *    controls in Android 4.
 * 2. Correct the inability to style clickable types in iOS and Safari.
 */

button,
html [type="button"], /* 1 */
[type="reset"],
[type="submit"] {
  -webkit-appearance: button; /* 2 */
}

/**
 * Remove the inner border and padding in Firefox.
 */

button::-moz-focus-inner,
[type="button"]::-moz-focus-inner,
[type="reset"]::-moz-focus-inner,
[type="submit"]::-moz-focus-inner {
  border-style: none;
  padding: 0;
}

/**
 * Restore the focus styles unset by the previous rule.
 */

button:-moz-focusring,
[type="button"]:-moz-focusring,
[type="reset"]:-moz-focusring,
[type="submit"]:-moz-focusring {
  outline: 1px dotted ButtonText;
}

/**
 * Correct the padding in Firefox.
 */

fieldset {
  padding: 0.35em 0.75em 0.625em;
}

/**
 * 1. Correct the text wrapping in Edge and IE.
 * 2. Correct the color inheritance from `fieldset` elements in IE.
 * 3. Remove the padding so developers are not caught out when they zero out
 *    `fieldset` elements in all browsers.
 */

legend {
  box-sizing: border-box; /* 1 */
  color: inherit; /* 2 */
  display: table; /* 1 */
  max-width: 100%; /* 1 */
  padding: 0; /* 3 */
  white-space: normal; /* 1 */
}

/**
 * 1. Add the correct display in IE 9-.
 * 2. Add the correct vertical alignment in Chrome, Firefox, and Opera.
 */

progress {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}

/**
 * Remove the default vertical scrollbar in IE.
 */

textarea {
  overflow: auto;
}

/**
 * 1. Add the correct box sizing in IE 10-.
 * 2. Remove the padding in IE 10-.
 */

[type="checkbox"],
[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}

/**
 * Correct the cursor style of increment and decrement buttons in Chrome.
 */

[type="number"]::-webkit-inner-spin-button,
[type="number"]::-webkit-outer-spin-button {
  height: auto;
}

/**
 * 1. Correct the odd appearance in Chrome and Safari.
 * 2. Correct the outline style in Safari.
 */

[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  outline-offset: -2px; /* 2 */
}

/**
 * Remove the inner padding and cancel buttons in Chrome and Safari on macOS.
 */

[type="search"]::-webkit-search-cancel-button,
[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

/**
 * 1. Correct the inability to style clickable types in iOS and Safari.
 * 2. Change font properties to `inherit` in Safari.
 */

::-webkit-file-upload-button {
  -webkit-appearance: button; /* 1 */
  font: inherit; /* 2 */
}

/* Interactive
   ========================================================================== */

/*
 * Add the correct display in IE 9-.
 * 1. Add the correct display in Edge, IE, and Firefox.
 */

details, /* 1 */
menu {
  display: block;
}

/*
 * Add the correct display in all browsers.
 */

summary {
  display: list-item;
}

/* Scripting
   ========================================================================== */

/**
 * Add the correct display in IE 9-.
 */

canvas {
  display: inline-block;
}

/**
 * Add the correct display in IE.
 */

template {
  display: none;
}

/* Hidden
   ========================================================================== */

/**
 * Add the correct display in IE 10-.
 */

[hidden] {
  display: none;
}


/**
 * section: M2DM/developer
 * title: Developer
 *
 * description: This section contains Radius configuration, settings and variables which are used across the library.
 */

$radius-config: (
  baseline: 0.5rem,
  tshirt-scale: (x-small, small, medium, large, x-large, 2x-large, 3x-large, 4x-large, 5x-large, 6x-large),
  font-family-primary: unquote("\"Amasis\", Georgia ,serif"),
  font-family-default: unquote("\"Roboto\", Arial, sans-serif"),
  font-family-brand: unquote("\"Selfmade-Sans\", Impact, sans-serif")
);

/**
  * Change the origin of the font file so we can have different character-set for different countries
  * "SelfmadeSans-Black" for English with "ABCDEFGHIJKLMNOPQRSTUVWXYZ,.-' "
  * "SelfmadeSans-Black-Dutch" with the set "ABCDEFGHIJKLMNOPQRSTUVWXYZ,.-'ÀÁÂÄÈÉÊËÌÍÎÏÒÓÔÖÙÚÛÜÝŸ"
  * "SelfmadeSans-Black-German" with the set "ABCDEFGHIJKLMNOPQRSTUVWXYZ,.-'ÄÖÜß"
 **/
$radius-config-brand-font-file: "SelfmadeSans-Black" !default;

/**
 * section: M2DM/developer/dependencies
 * title: Dependencies
 *
 * description: Collection of external dependencies used across the library.
 */

/**
 * section: M2DM/developer/dependencies/breakpoints
 * title: Breakpoints
 *
 * description: |
 *   Use this mixin for dealing with breakpoints / responsive behaviour.
 *
 * variants:
 *   - mobile-small
 *   - mobile-medium
 *   - mobile-large
 *   - tablet-small
 *   - tablet-medium
 *   - tablet-large
 *   - desktop-small
 *   - desktop-medium
 *   - desktop-large
 *   - desktop-x-large
 *
 * layout: globals/scss/init/dependencies/breakpoints/breakpoints
 */

/** List of custom breakpoints.
 * This will override the default breakpoints defined in the rs-breakpoints package.
 */
$breakpoints-values: (
  mobile-small: 320,
  mobile-medium: 480,
  mobile-large: 640,

  tablet-small: 768,
  tablet-medium: 800,
  tablet-large: 980,

  desktop-small: 1024,
  desktop-medium: 1200,
  desktop-large: 1400,
  desktop-x-large: 1920
);

$breakpoints-values: (
  mobile-small: 320,
  mobile-medium: 480,
  mobile-large: 640,

  tablet-small: 768,
  tablet-medium: 800,
  tablet-large: 980,

  desktop-small: 1024,
  desktop-medium: 1200,
  desktop-large: 1400
) !default;

$breakpoints-ie8: false!default;

@function _breakpoints-parse($string) {
  // text to search for
  $FROM: 'from ';
  $TO: 'to ';


  // convert to string
  $string: inspect($string);


  // flags for min and max values
  $has-min: false;
  $has-max: false;


  // check what type of breakpoints we have
  @if type-of(str-index($string, $FROM)) == number {
    $has-min: true;
  }

  @if type-of(str-index($string, $TO)) == number {
    $has-max: true;
  }


  // slice the string to retrieve min and max values for breakpoints
  @if $has-min and $has-max {
    $min-breakpoint: str-slice($string, str-length($FROM) + 1, str-index($string, $TO) - 2);
    $max-breakpoint: str-slice($string, str-index($string, $TO) + str-length($TO));

    @return ($min-breakpoint, $max-breakpoint);
  } @else if $has-min == false {
    $max-breakpoint: str-slice($string, str-length($TO) + 1);

    @return (false, $max-breakpoint);
  } @else if $has-max == false {
    $min-breakpoint: str-slice($string, str-length($FROM) + 1);

    @return ($min-breakpoint, false);
  }

  @return (false, false);
}

@function _string-to-number($string) {
  // inspired by http://hugogiraudel.com/2014/01/15/sass-string-to-number/

  $digits: '0123456789';
  $number: 0;
  $negative: false;
  $units: (
    '%': 1%,
    'ch': 1ch,
    'cm': 1cm,
    'em': 1em,
    'ex': 1ex,
    'in': 1in,
    'mm': 1mm,
    'pc': 1pc,
    'pica': 1pica,
    'pt': 1pt,
    'px': 1px,
    'rem': 1rem,
    'vmax': 1vmax,
    'vmin': 1vmin,
    'vh': 1vh,
    'vw': 1vw
  );
  $unit: null;

  // is it negative?
  @if str-index($string, '-') == 1 {
    $negative: true;
    $string: str-slice($string, 2);
  }

  // parse the string and map it to the indexes of $digits
  @for $i from 1 through str-length($string) {
    $digit: str-slice($string, $i, $i);
    $index: str-index($digits, $digit);

    @if type-of($index) == number {
      $number: $number * 10 + ($index - 1);
    } @else {
      $unit: $unit#{$digit};
    }
  }

  @if $negative {
    $number: $number * (-1);
  }

  @if $unit and map-has-key($units, $unit) {
    $number: $number * map-get($units, $unit);
  }

  @if $string == $unit {
    @return false;
  }

  @return $number;
}

@function _breakpoints-values($value) {
  // try to get the value from the pre-existing breakpoints
  @if map-has-key($breakpoints-values, $value) {
    $value: map-get($breakpoints-values, $value);
    @if unitless($value) {
      $value: $value * 1px;
    }
  }

  @if type-of($value) == string {
    $value: _string-to-number($value);
  }

  @if type-of($value) != number {
    @return false;
  }

  @return $value;
}

@function _set-max-breakpoint($max-breakpoint) {
  @if $max-breakpoint != false {
    @if unit($max-breakpoint) == px {
      $max-breakpoint: $max-breakpoint - 1;
    } @else {
      $max-breakpoint: $max-breakpoint;
    }
  }

  @return $max-breakpoint;
}


@mixin breakpoint($string) {
  $string: _breakpoints-parse($string);
  $min-breakpoint: _breakpoints-values(nth($string, 1));
  $max-breakpoint: _breakpoints-values(nth($string, 2));

  $max-breakpoint: _set-max-breakpoint($max-breakpoint);

  @if ($min-breakpoint == false and $max-breakpoint == false) or ($max-breakpoint == false and $breakpoints-ie8) {
    @content;
  } @else if $min-breakpoint == false {
    @media only screen and (max-width: $max-breakpoint) {
      @content;
    }
  } @else if $max-breakpoint == false {
    @media only screen and (min-width: $min-breakpoint) {
      @content;
    }
  } @else {
    @media only screen and (min-width: $min-breakpoint) and (max-width: $max-breakpoint) {
      @content;
    }
  }
}


// require breakpoint
@mixin to($media-query) {
  @include breakpoint(to $media-query) {
    @content;
  };
}

@mixin from($media-query) {
  @include breakpoint(from $media-query) {
    @content;
  };
}

@mixin from-to($min, $max) {
  @include breakpoint(from $min to $max) {
    @content;
  };
}




/**
 * section: M2DM/developer/dependencies/grid-system
 * title: Grids / columns
 *
 * abstractLink: acadd5f8-8a55-4243-bc32-b32c3db62240
 *
 * layout: globals/scss/init/dependencies/grid-system/overview
 */

// import the breakpoints mixin
$breakpoints-values: (
  mobile-small: 320,
  mobile-medium: 480,
  mobile-large: 640,

  tablet-small: 768,
  tablet-medium: 800,
  tablet-large: 980,

  desktop-small: 1024,
  desktop-medium: 1200,
  desktop-large: 1400
) !default;

$breakpoints-ie8: false!default;

@function _breakpoints-parse($string) {
  // text to search for
  $FROM: 'from ';
  $TO: 'to ';


  // convert to string
  $string: inspect($string);


  // flags for min and max values
  $has-min: false;
  $has-max: false;


  // check what type of breakpoints we have
  @if type-of(str-index($string, $FROM)) == number {
    $has-min: true;
  }

  @if type-of(str-index($string, $TO)) == number {
    $has-max: true;
  }


  // slice the string to retrieve min and max values for breakpoints
  @if $has-min and $has-max {
    $min-breakpoint: str-slice($string, str-length($FROM) + 1, str-index($string, $TO) - 2);
    $max-breakpoint: str-slice($string, str-index($string, $TO) + str-length($TO));

    @return ($min-breakpoint, $max-breakpoint);
  } @else if $has-min == false {
    $max-breakpoint: str-slice($string, str-length($TO) + 1);

    @return (false, $max-breakpoint);
  } @else if $has-max == false {
    $min-breakpoint: str-slice($string, str-length($FROM) + 1);

    @return ($min-breakpoint, false);
  }

  @return (false, false);
}

@function _string-to-number($string) {
  // inspired by http://hugogiraudel.com/2014/01/15/sass-string-to-number/

  $digits: '0123456789';
  $number: 0;
  $negative: false;
  $units: (
    '%': 1%,
    'ch': 1ch,
    'cm': 1cm,
    'em': 1em,
    'ex': 1ex,
    'in': 1in,
    'mm': 1mm,
    'pc': 1pc,
    'pica': 1pica,
    'pt': 1pt,
    'px': 1px,
    'rem': 1rem,
    'vmax': 1vmax,
    'vmin': 1vmin,
    'vh': 1vh,
    'vw': 1vw
  );
  $unit: null;

  // is it negative?
  @if str-index($string, '-') == 1 {
    $negative: true;
    $string: str-slice($string, 2);
  }

  // parse the string and map it to the indexes of $digits
  @for $i from 1 through str-length($string) {
    $digit: str-slice($string, $i, $i);
    $index: str-index($digits, $digit);

    @if type-of($index) == number {
      $number: $number * 10 + ($index - 1);
    } @else {
      $unit: unquote("#{$unit}#{$digit}");
    }
  }

  @if $negative {
    $number: $number * (-1);
  }

  @if $unit and map-has-key($units, $unit) {
    $number: $number * map-get($units, $unit);
  }

  @if $string == $unit {
    @return false;
  }

  @return $number;
}

@function _breakpoints-values($value) {
  // try to get the value from the pre-existing breakpoints
  @if map-has-key($breakpoints-values, $value) {
    $value: map-get($breakpoints-values, $value);
    @if unitless($value) {
      $value: $value * 1px;
    }
  }

  @if type-of($value) == string {
    $value: _string-to-number($value);
  }

  @if type-of($value) != number {
    @return false;
  }

  @return $value;
}

@function _set-max-breakpoint($max-breakpoint) {
  @if $max-breakpoint != false {
    @if unit($max-breakpoint) == px {
      $max-breakpoint: $max-breakpoint - 1;
    } @else {
      $max-breakpoint: $max-breakpoint;
    }
  }

  @return $max-breakpoint;
}

@mixin breakpoint($string) {
  $string: _breakpoints-parse($string);
  $min-breakpoint: _breakpoints-values(nth($string, 1));
  $max-breakpoint: _breakpoints-values(nth($string, 2));

  $max-breakpoint: _set-max-breakpoint($max-breakpoint);

  @if ($min-breakpoint == false and $max-breakpoint == false) or ($max-breakpoint == false and $breakpoints-ie8) {
    @content;
  } @else if $min-breakpoint == false {
    @media only screen and (max-width: $max-breakpoint) {
      @content;
    }
  } @else if $max-breakpoint == false {
    @media only screen and (min-width: $min-breakpoint) {
      @content;
    }
  } @else {
    @media only screen and (min-width: $min-breakpoint) and (max-width: $max-breakpoint) {
      @content;
    }
  }
}

// require breakpoint
@mixin to($media-query) {
  @include breakpoint(to $media-query) {
    @content;
  };
}

@mixin from($media-query) {
  @include breakpoint(from $media-query) {
    @content;
  };
}

@mixin from-to($min, $max) {
  @include breakpoint(from $min to $max) {
    @content;
  };
}

// config
$golden-grid-max-number: 10!default;
$golden-grid-fallback-class: '.no-flexbox'!default;
$golden-grid-padding: 1.5rem!default;
$golden-grid-ratio: 1.618!default;
$golden-grid-utility-classes: true!default;
$golden-grid-vendor-prefixes: true!default;
$golden-grid-breakpoints: (
  s: false,
  m: mobile-medium,
  l: tablet-medium,
  xl: desktop-medium
)!default;



// mapping the config for easier access
$golden-grid-config: (
  max-number: $golden-grid-max-number,
  no-flex-class: $golden-grid-fallback-class,
  padding: $golden-grid-padding,
  ratio: $golden-grid-ratio,
  utility-classes: $golden-grid-utility-classes,
  utility-classes-breakpoints: $golden-grid-breakpoints,
  vendor-prefixes: $golden-grid-vendor-prefixes
);

// function for easier navigation through the variables map

@function gr($val) {
  @if map-has-key($golden-grid-config, $val) {
    @return map-get($golden-grid-config, $val);
  } @else {
    @error '#{$val} does not exist';
  }
}

// generate the golden scale

@function golden-scale($golden-scale-list: 1) {

  @for $i from $golden-scale-list through gr(max-number) {
    $golden-scale-list-last: nth($golden-scale-list, length($golden-scale-list));

    $golden-scale-list: append($golden-scale-list, $golden-scale-list-last * gr(ratio));
  }

  @return $golden-scale-list;
}

$golden-scale: golden-scale(1);

// send a list of proportions and it returns the percentage for each

@function get-columns-widths($cols) {
  $sum: 0;
  $widths: ();

  // find the sum of all proportions
  @for $i from 1 through length($cols) {
    $current-proportion: nth($cols, $i);
    $ratio-proportion: nth($golden-scale, $current-proportion);
    $sum: $sum + $ratio-proportion;
  }

  // find the proportion for each width
  @for $i from 1 through length($cols) {
    $current-width: 100 * nth($golden-scale, nth($cols, $i)) / $sum;

    @if $i > 1 and $i == length($cols) {
      $current-width: $current-width - .0001; // error margin
    }

    $widths: append($widths, $current-width);
  }

  @return $widths;
}

@mixin column-padding {
  @if gr(padding) {
    padding-left: gr(padding);
    padding-right: gr(padding);
  }
}

// this mixin sets the styling for the wrapper of the elements
// the flag is for table support

@mixin columns-wrapper {

  @if gr(no-flex-class) {
    #{unquote(gr(no-flex-class))} & {
      &:after {
        display: block;
        width: 100%;
        clear: both;
        content: '';
      }
    }
  }

  display: flex;

  @if gr(vendor-prefixes) {
    display: -webkit-flex;
    display: -ms-flexbox;
  }

  flex-wrap: wrap;

  @if gr(vendor-prefixes) {
    -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
  }

  width: 100%;
}

// mixin that generates the styling for each column in the columns mixin

@mixin set-columns-widths($cols, $start-from: 0) {
  @for $i from 1 through length($cols) {

    // $start-from is making sure we're providing the offset for multiple columns
    > :nth-child(#{$i + $start-from}) {
      width: nth($cols, $i) * 1%;

      // fallback
      @if gr(no-flex-class) {
        #{unquote(gr(no-flex-class))} & {

          @if $i == 1 {
            clear: left;
          }
        }
      }

    }
  }
}

// have a floating column that is still following the golden ratio proportions
// $column is the column proportion related to the full width
// $left is the margin left (as a proportion)
// $right is the margin right (as a proportion)
// eg: @include golden-ratio-paddings(4, 3, 2);

@mixin golden-ratio-paddings($column, $left: false, $right: false) {
  $cols: $column;

  @if $left {
    $cols: append($cols, $left);
  }

  @if $right {
    $cols: append($cols, $right);
  }

  $cols: get-columns-widths($cols);

  width: nth($cols, 1) * 1%;

  @if $left {
    margin-left: nth($cols, 2) * 1%;

    @if $right {
      margin-right: nth($cols, 3) * 1%;
    }
  } @elseif $right {
    margin-right: nth($cols, 2) * 1%;
  }

}

// the mixin that generate the columns with no padding

@mixin columns-no-padding($cols...) {
  @if nth($cols, 1) == equal {
    width: 100%;
    display: flex;

    > * {
      flex-grow: 1;
      flex-shrink: 1;
      flex-basis: 0;
    }

    @if gr(no-flex-class) {
      #{unquote(gr(no-flex-class))} & {
        display: table;
        table-layout: fixed;

        > * {
          display: table-cell;
          width: 1%;
        }
      }
    }
  } @else {
    @include columns-wrapper;

    > * {
      @if gr(no-flex-class) {
        #{unquote(gr(no-flex-class))} & {
          float: left;
        }
      }
    }

    // check if a comma is present in the cols declaration
    $multi-columns: str-index($cols + '', ',');

    @if type-of($multi-columns) == null {

      // all columns are on 1 row, calculate the widths
      $widths: get-columns-widths($cols);

      // set them accordingly
      @include set-columns-widths($widths);

    } @else {
      // we have multiple rows for columns

      // this is the index that counts the :nth-child
      // we need this because we are iterating through a list of lists
      $start-from: 0;

      // go through each row
      @for $i from 1 through length($cols) {

        // find the widths for each row
        $widths: get-columns-widths(nth($cols, $i));

        // set the widths
        @include set-columns-widths($widths, $start-from);

        // update the offset index
        $start-from: $start-from + length($widths);
      }
    }
  }
}

// the mixin that generate the columns with paddings

@mixin columns($cols...) {
  @include columns-no-padding($cols...);

  > * {
    @include column-padding;
  }
}

@if gr(utility-classes) {
  .col {
    // generate responsive classes
    $responsive-map: gr(utility-classes-breakpoints);
    $responsive-keys: map-keys($responsive-map);
    $responsive-values: map-values($responsive-map);

    @for $i from 1 through length($responsive-keys) {
      $breakpoint-from: nth($responsive-values, $i);

      @include from($breakpoint-from) {
        &-#{nth($responsive-keys, $i)} {

          &-wrapper {
            display: table;
            table-layout: fixed;
            width: 100%;
          }

          &-wrapper > * {
            @include column-padding;
            display: table-cell;
            vertical-align: top;
          }

          @for $j from 1 through gr(max-number) {
            $current-absolute-proportion: nth($golden-scale, $j);
            &-#{$j} {
              width: $current-absolute-proportion * 1%;
            }
          }
        }
      }
    }
  }
}



/**
 * section: M2DM/developer/functions
 * title: Helper functions
 *
 * description: Collection of helper functions used across the library.
 */

/**
 * section: M2DM/developer/functions/get-config
 * title: get-config
 *
 * description: |
 *   In order to avoid repetition and ensure consistency of basic rules, Radius comes with a configuration map which defines global settings, for instance the `baseline` or the agreed tshirt sizing rules. The configuration map itself lives in `init/config.scss` but you can extract the settings using this method.
 *
 * parameters: |
 *
 *   $key: the id of the setting
 *   $index: the index of the item, if setting contains a list
 *
 * sassUsage: |
 *
 *   get-config(baseline)
 *   get-config(tshirt-scale, 1)
 *
 */

@function get-config($key, $index: false) {
  @if map-has-key($radius-config, $key) {
    $el: map-get($radius-config, $key);

    @if $index {
      @if length($el) >= $index {
        @return nth($el, $index);
      } @else {
        @error "The config property #{$key} does not have an index with index of #{$index}";
      }
    }
    @return $el;

  } @else {
    @error "The key #{$key} does not exist in the configuration map";
  }
}

/**
 * section: M2DM/developer/functions/get-remaining-columns-width
 * title: get-remaining-columns-width
 *
 * description: |
 *    Calculates and returns the total width of remaining columns.
 *
 * parameters: |
 *    $cols: Columns, e.g. "2 1 1"
 *    $excluded-column: The column to be excluded from the calculation
 *
 * sassUsage: |
 *    get-remaining-columns-width($cols, $excluded-column)
 *    get-remaining-columns-width(2 1 1, 3) //returns the combined width of all columns excluding third
 *
 */

@function get-remaining-columns-width($cols, $excluded-column) {
  $excluded-col-width: (nth(get-columns-widths($cols), $excluded-column) * 1%);
  @return (100% - $excluded-col-width);
}

/**
* section: M2DM/developer/functions/get-var
* title: get-var
*
* description: |
*    This method extracts the value of a key inside a map, by also making sure that an error message is returned when the key entered does not exist (`map-get()` only returns `null` when the key is not found).<br>
*
*
* sassUsage: |
*
*    get-var($colors, $color-name)
*
*/

@function get-var($map, $key) {
  @if map-has-key($map, $key) {
    @return map-get($map, $key);
  } @else {
    @error "The variable #{$key} does not exist in #{$map}";
  }
}

/**
 * section: M2DM/developer/functions/str-split
 * title: Split string using a delimiter.
 *
 * description: |
 *   Returns a list of substrings.
 *
 *   ```
 *   str-split($string, $delimiter)
 *   //str-split('/some-path?query', '?') -> ('/some-path', '?query')
 *   ```
 */

@function str-split($string, $separator) {
  $index: str-index($string, $separator);
  @if not $index {
    @return ($string);
  }

  $left: str-slice($string, 0, $index - 1);
  $right: str-slice($string, $index);

  @return ($left, $right);
}

/**
 * section: M2DM/developer/functions/svg-icon
 * title: svg-icon
 *
 * description: |
 *   Returns the svg corresponding to the icon name parameter.
 *
 *
 *   ### List of icons:
 *     - `tick`
 *
 *
 * sassUsage: |
 *
 *   svg-icon($icon-name)
 *
 */

$_svgs: (
  "tick": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxOXB4IiBoZWlnaHQ9IjE1cHgiIHZpZXdCb3g9IjAgMCAxOSAxNSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5TbGljZSAxPC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPjwvZGVmcz4gICAgPGcgaWQ9IlBhZ2UtMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0idGljayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi4wMDAwMDAsIDIuMDAwMDAwKSIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiMzNEI1NzYiPiAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iU2hhcGUiIHBvaW50cz0iMCA0LjE2OCA1LjUyNSAxMCAxNSAwIj48L3BvbHlsaW5lPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+"
);

@function svg-icon($name) {
  @return map-get($_svgs, $name);
}


/**
 * section: M2DM/developer/mixins
 * title: Mixins
 *
 * description: |
 *   Collection of mixins used across the library.
 */

@mixin clearfix {
  &::after {
    display: table;
    clear: both;

    content: "";
  }
}

/**
* section: M2DM/developer/mixins/get-single-column-width
* title: get-single-column-width
*
* description: |
*    This mixin extracts the width of the nth index corresponding to the column parameter as a percentage relative to the other columns.
*
*
* sassUsage: |
*
*    get-single-column-width(1 7 1)
*
*
*/

@mixin get-single-column-width($columns) {
  width: (nth(get-columns-widths($columns), 1) * 1%);
}


/**
 * section: M2DM/rules/colors
 * title: Colors
 *
 * layout: globals/scss/rules/colors
 *
 * purpose: Use to ensure brand consistency.
 *
 * description: |
 *   A palette of functional colors used to convey a message or highlight actions. Basic color names are used as key names (purple, green, blue, etc.) with various lighter shades as array elements. Above the base colour there will be a contrast colour which will be usually used as background for elements containing white text. Below the base colour there is a scale of lighter shades which is using a naming convension based on t-shirt sizing, starting from `light` and scaling down different levels of lightness depending on the base colour. Options for the lighter shades are: `light`, `x-light`, `2x-light`, `3x-light`, `4x-light` etc.<br>
 *
 * colors:
 *   - white:
 *     - colors__sample--white: get-color(white)
 *   - black:
 *     - colors__sample--black: get-color(black)
 *   - purple:
 *     - colors__sample--purple-contrast: get-color(purple, contrast)
 *     - colors__sample--purple-base: get-color(purple, base)
 *     - colors__sample--purple-light: get-color(purple, light)
 *     - colors__sample--purple-x-light: get-color(purple, x-light)
 *     - colors__sample--purple-2x-light: get-color(purple, 2x-light)
 *     - colors__sample--purple-3x-light: get-color(purple, 3x-light)
 *   - orange:
 *     - colors__sample--orange-contrast: get-color(orange, contrast)
 *     - colors__sample--orange-base: get-color(orange, base)
 *     - colors__sample--orange-light: get-color(orange, light)
 *     - colors__sample--orange-x-light: get-color(orange, x-light)
 *     - colors__sample--orange-2x-light: get-color(orange, 2x-light)
 *     - colors__sample--orange-3x-light: get-color(orange, 3x-light)
 *   - green:
 *     - colors__sample--green-contrast: get-color(green, contrast)
 *     - colors__sample--green-base: get-color(green, base)
 *     - colors__sample--green-light: get-color(green, light)
 *     - colors__sample--green-x-light: get-color(green, x-light)
 *     - colors__sample--green-2x-light: get-color(green, 2x-light)
 *     - colors__sample--green-3x-light: get-color(green, 3x-light)
 *   - red:
 *     - colors__sample--red-contrast: get-color(red, contrast)
 *     - colors__sample--red-base: get-color(red, base)
 *     - colors__sample--red-light: get-color(red, light)
 *     - colors__sample--red-x-light: get-color(red, x-light)
 *     - colors__sample--red-2x-light: get-color(red, 2x-light)
 *     - colors__sample--red-3x-light: get-color(red, 3x-light)
 *   - yellow:
 *     - colors__sample--yellow-contrast: get-color(yellow, contrast)
 *     - colors__sample--yellow-base: get-color(yellow, base)
 *     - colors__sample--yellow-light: get-color(yellow, light)
 *     - colors__sample--yellow-x-light: get-color(yellow, x-light)
 *     - colors__sample--yellow-2x-light: get-color(yellow, 2x-light)
 *     - colors__sample--yellow-3x-light: get-color(yellow, 3x-light)
 *   - blue:
 *     - colors__sample--blue-contrast: get-color(blue, contrast)
 *     - colors__sample--blue-base: get-color(blue, base)
 *     - colors__sample--blue-light: get-color(blue, light)
 *     - colors__sample--blue-x-light: get-color(blue, x-light)
 *     - colors__sample--blue-2x-light: get-color(blue, 2x-light)
 *     - colors__sample--blue-3x-light: get-color(blue, 3x-light)
 *   - grey:
 *     - colors__sample--grey-contrast: get-color(grey, contrast)
 *     - colors__sample--grey-base: get-color(grey, base)
 *     - colors__sample--grey-light: get-color(grey, light)
 *     - colors__sample--grey-x-light: get-color(grey, x-light)
 *     - colors__sample--grey-2x-light: get-color(grey, 2x-light)
 *     - colors__sample--grey-3x-light: get-color(grey, 3x-light)
 *     - colors__sample--grey-4x-light: get-color(grey, 4x-light)
 *
 * sassUsage: |
 *   get-color(purple)
 *   // if the base shade is requested the 2nd parameter should not be defined, as it is set to `base` by default
 *   get-color(purple, light)
 *   // the 2nd parameter defines the shade of the color - it is an optional parameter (please see above)
 */

$colors: (

  white: rgb(255, 255, 255),

  black: rgb(0, 0, 0),

  purple: (
    contrast: rgb(117, 34, 125),
    base: rgb(143, 68, 138),
    light: rgb(169, 91, 166),
    x-light: rgb(214, 166, 219),
    2x-light: rgb(232, 201, 235),
    3x-light: rgb(249, 241, 250)
  ),

  orange: (
    contrast: rgb(252, 78, 30),
    base: rgb(255, 107, 0),
    light: rgb(254, 162, 116),
    x-light: rgb(255, 210, 188),
    2x-light: rgb(255, 242, 236),
    3x-light: rgb(255, 250, 248)
  ),

  green: (
    contrast: rgb(15, 136, 77),
    base: rgb(52, 181, 118),
    light: rgb(112, 216, 166),
    x-light: rgb(181, 237, 210),
    2x-light: rgb(234, 255, 245),
    3x-light: rgb(249, 255, 252)
  ),

  red: (
    contrast: rgb(206, 16, 37),
    base: rgb(232, 32, 55),
    light: rgb(255, 133, 146),
    x-light: rgb(255, 194, 201),
    2x-light: rgb(255, 242, 244),
    3x-light: rgb(255, 250, 251)
  ),

  yellow: (
    contrast: rgb(255, 205, 0),
    base: rgb(253, 225, 50),
    light: rgb(251, 243, 141),
    x-light: rgb(255, 251, 194),
    2x-light: rgb(255, 254, 240),
    3x-light: rgb(255, 255, 250)
  ),

  blue: (
    contrast: rgb(2, 141, 208),
    base: rgb(0, 155, 222),
    light: rgb(111, 197, 238),
    x-light: rgb(188, 229, 248),
    2x-light: rgb(238, 249, 255),
    3x-light: rgb(249, 253, 255)
  ),

  grey: (
    contrast: rgb(38, 40, 56),
    base: rgb(66, 69, 84),
    light: rgb(115, 116, 128),
    x-light: rgb(147, 150, 167),
    2x-light: rgb(201, 203, 217),
    3x-light: rgb(239, 240, 245),
    4x-light: rgb(247, 248, 254)
  ),
);

/**
 * section: M2DM/rules/functions
 * title: Functions
 */

/**
* section: M2DM/rules/functions/get-color
* title: get-color
*
* description: |
*    This function returns one of the predefined shades of functional colours defined in `rules/colors`; it makes use of `get-var()` function which lives in `init/functions` to retrieve the key values of the colours map.<br>
*
* parameters: |
*    $color-name: one of the functional colours
*    $color-variant: variant of the functional colour
*
* sassUsage: |
*
*    get-color(purple)
*    get-color(purple, x-light)
*
*/

@function get-color($color-name, $color-variant: base) {

  $color: get-var($colors, $color-name); //stylelint-disable-line declaration-property-value-whitelist

  @if type-of($color) == color {
    @return $color;
  }

  @return map-get($color, $color-variant);
}

$_z-layers: ("content", "page-notif",  "nav", "modal", "takeover");

@function get-z-index($layer, $depth-level: 0) {
  $z-index: null;

  @if (index($_z-layers, $layer) != null) {
    $z-index: index($_z-layers, $layer) * 10;
    
    @if ($depth-level) {
      @if (type-of($depth-level) == number) and ($depth-level >= 0) and ($depth-level <= 9) {
        $z-index: $z-index + $depth-level;
      } @else {
        @error "The depth level must be a number between 0 and 9";
      }
    }
  } @else {
    @error "The layer you are looking for does not exist";
  }

  @return $z-index;
}

/**
 * section: M2DM/developer/functions/tshirt-to-index
 * title: tshirt-to-index
 *
 * description: |
 *   Converts tshirt size to a list index based on the tshirt scale defined in `init/config.scss`.
 *
 * parameters: |
 *
 *   $size
 *   : tshirt size as defined in `init/config.scss`
 *
 *
 * sassUsage: |
 *
 *   tshirt-to-index(small) // => 2
 *
 *
 */

@function tshirt-to-index($size) {
  @return index(get-config(tshirt-scale), $size);
}

/**
 * section: M2DM/rules/functions/vspace
 * title: vspace
 *
 * description: |
 *   Returns one of the predefined vertical spacing units which should be used on the vertical margins of components.
 *
 * parameters: |
 *
 *   $size: tshirt size  // as defined in `init/config.scss`
 *
 * sassUsage: |
 *
 *   margin-bottom: vspace(x-small);
 *   padding-bottom: vspace(medium);
 *
 * markup: globals/scss/rules/functions/vspace
 */

@function vspace($size) {
  $baseline: get-config(baseline);
  $spacing-units: (2, 3, 4, 5, 7, 10, 15);
  $clamped-index: min(length($spacing-units), tshirt-to-index($size));

  @return nth($spacing-units, $clamped-index) * $baseline;
}


@mixin font-face($font-name, $file-name, $weight: normal, $style: normal) {
  $folder: to-lower-case($font-name);

  @font-face {
    font-family: quote($font-name);
    font-style: $style;
    font-weight: $weight;
    src: url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.eot");
    src: url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.eot?#iefix") format("embedded-opentype"),
      url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.woff2") format("woff2"),
      url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.woff") format("woff"),
      url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.ttf") format("truetype");
  }
}

@mixin font-face-batch() {
  $font-face-map: (
    "Amasis": (
      (
        file-name: "AmasisMTStd",
        weight: 400
      ), (
        file-name: "AmasisMTStd"
      ), (
        file-name: "AmasisMTStd-bold",
        weight: 700
      ), (
        file-name: "AmasisMTStd-bold",
        weight: bold
      )
    ),
    "Roboto": (
      (
        file-name: "Roboto",
        weight: 400
      ), (
        file-name: "Roboto"
      ), (
        file-name: "Roboto-bold",
        weight: 700
      ), (
        file-name: "Roboto-bold",
        weight: bold
      )
    )
  );

  @each $font-group-name, $font-groups in $font-face-map {
    @each $font in $font-groups {
      @include font-face($font-group-name, $font...);
    }
  }

  @include font-face("Selfmade-Sans", "#{$radius-config-brand-font-file}", bold);
}

// stylelint-disable declaration-no-important

/**
 * section: M2DM/developer/utility-classes
 * title: Utility classes
 *
 * purpose: Use to help reduce duplication of repeated styles.
 *
 * description: Helpful, single responsibility classes for adding particular behavior and styling to your elements. These classes must use the `!important` rule to fix specificity issues.
 */

/**
 * section: M2DM/developer/utility-classes/alignment
 * title: Alignment
 *
 * description: |
 *   Modify an element with one of the utility classes to assist with alignment issues:
 *      - `u-text-center`: updates the text alignment of an element to center
 *      - `u-text-right`: updates the text alignment of an element to right
 *      - `u-block-center`: updates the horizontal alignment of a block element to center
 *      - `u-valign-center`: use this class on the container to align items in the middle of the cross axis (top to bottom). This class applies to the parent vertically centers items using Flexbox and the `align-items` property (N.B. Flexbox is not supported in IE9 and below).
 *      - `u-float-left`: floats the element left
 *      - `u-float-right`: floats the element right
 *      - `u-clear-both`: clears float for both sides
 *
 * layout: globals/scss/init/utility-classes/alignment
 */


.u-block-center {
  margin-right: auto !important;
  margin-left: auto !important;
}


.u-text-center {
  text-align: center !important;
}


.u-text-right {
  text-align: right !important;
}


.u-valign-center {
  display: flex !important;

  align-items: center !important;
}


.u-float-left {
  float: left !important;
}


.u-float-right {
  float: right !important;
}


.u-clear-both {
  &::after {
    display: table;
    clear: both !important;

    content: "";
  }
}


/**
 * section: M2DM/developer/utility-classes/modifiers
 * title: Modifiers
 *
 * description: |
 *    Modify an element with one of the utility classes:
 *      - `u-whitespace-nowrap`: this class suppresses line breaks (text wrapping)
 *      - `u-text-uppercase`: this class transforms text to uppercase
 *      - `u-color-white`: this class transforms the colour of a component to white when sitting on dark backgrounds
 *      - `u-color-inherit`: this class inherits the colour from the closest parent that defines a colour
 *
 * markup: globals/scss/init/utility-classes/modifiers
 */

.u-text-uppercase {
  text-transform: uppercase !important;
}


.u-color-white {
  color: get-color(white) !important;
}


.u-color-inherit {
  color: inherit !important;
}


.u-whitespace-nowrap {
  white-space: nowrap !important;
}


/**
 * section: M2DM/developer/utility-classes/themes
 * title: Themes
 *
 * description: |
 *    Modify an element with one of the below theme utility classes to update the background colour of a section using colours defined in our colour palette (see: `rules/colors`):
 *
 * modifiers:
 *   u-theme-default: get-color(white)
 *   u-theme-contrast: get-color(grey, 4x-light)
 *   u-theme-accent: get-color(orange, 2x-light)
 *   u-theme-action: get-color(blue, 2x-light)
 *   u-theme-brand: get-color(purple)
 *   u-theme-brand-light: get-color(purple, 3x-light)
 *   u-theme-impact: get-color(grey, contrast)
 *
 * markup: globals/scss/init/utility-classes/themes
 */

.u-theme-default {
  background-color: get-color(white) !important;
}


.u-theme-contrast {
  background-color: get-color(grey, 4x-light) !important;
}


.u-theme-accent {
  background-color: get-color(orange, 2x-light) !important;
}


.u-theme-action {
  background-color: get-color(blue, 2x-light) !important;
}


.u-theme-brand {
  background-color: get-color(purple) !important;
}


.u-theme-brand-light {
  background-color: get-color(purple, 3x-light) !important;
}


.u-theme-impact {
  background-color: get-color(grey, contrast) !important;
}


/**
 * section: M2DM/developer/utility-classes/spacing
 * title: Spacing
 *
 * description: |
 *   Utility class helpers to adjust vertical spacing.
 *   
 *   These spacing utility classes are for convenience in laying out components within a page in beside or within other components.
 *   
 *   Classes prefixed with `.u-m` are for adding margins, whereas classes prefixed with `.u-p` are for adding padding.
 *   
 *   Directions available for the spacing classes are top and bottom. The vertical shortcut (`v`) adds padding to the top **and** bottom - to apply padding between sections. 
 *   
 *   Note: these are not to be used to adjust the spacing within individual components - as the default margins and padding have already been set, these are designed for use between individual components to add a comfortable amount of spacing.
 *   
 *   | Letter  | Description |
 *   | :------ |:----------- |
 *   | `p`     | `padding`   |
 *   | `m`     | `margin`    |
 *   | ------- | ----------- |
 *   | `v`    | vertical     |
 *   | `b`    | bottom       | 
 *   
 *   | Variant    | Units(rem) |
 *   | :--------- |:---------  |
 *   | `none`     | 0          |
 *   | `x-small`  | 0.5        |
 *   | `small`    | 1          |
 *   | `medium`   | 1.5        |
 *   | `large`    | 2          |
 *   | `x-large`  | 2.5        |
 *   | `2x-large` | 3          |
 *   | `3x-large` | 3.5        |
 *   | `4x-large` | 4          |
 *   | `5x-large` | 5          |
 *   
 *   N.B. for our 2 largest vertical spacing utility classes - `u-pv-4x-large` and `u-pv-5x-large` the padding is reduced by 2rem in both directions on smaller screens (480px and below)
 *   
 * layout: globals/scss/init/utility-classes/spacing
 */


.u-mb-none {
  margin-bottom: 0 !important;
}


.u-pv-none {
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}


$spacing-unit: ( 0.5, 1, 1.5, 2, 2.5, 3, 3.5, 4, 5 );

@for $i from 1 through length($spacing-unit) {
  $size: nth(get-config(tshirt-scale), $i);
  $value: nth($spacing-unit, $i) * 1rem;


  .u-mb-#{$size} {
    margin-bottom: $value !important;
  }


  .u-pv-#{$size} {
    padding-top: $value !important;
    padding-bottom: $value !important;
  }


  // for 4x-large and above reduce the vertical padding values by 2rem on screen sizes of 480px and below
  @if $i >= 8 {
    @include to(mobile-large) {
      .u-pv-#{$size} {
        padding-top: ($value - 2) !important;
        padding-bottom: ($value - 2) !important;
      }
    }
  }
}


// Deprecated - documentation removed to avoid continued use
.u-add-gutters {
  padding-right: 1.5rem;
  padding-left: 1.5rem;
}

// Deprecated
.u-add-gutters-responsive {
  @include from(mobile-medium) {
    padding-right: 1.5rem;
    padding-left: 1.5rem;
  }
}

/**
 * section: M2DM/developer/utility-classes/fit-content
 * title: Fit content
 *
 * description: |
 *    The dimensions of an inline element is dictated by its content; sometimes, when larger than the ones of the container they live in, these dimensions can break the bounderies of their parent container.
 *    - `u-fit` - Binds an inline element dimensions to the content area it fits in, making it resize alonside its parent container.
 *
 *
 * layout: globals/scss/init/utility-classes/fit-content
 */

.u-fit {
  display: block;
  flex-shrink: 0;
  height: auto;
  max-width: 100%;
}

/**
 * section: M2DM/developer/utility-classes/horizontal-children
 * title: Horizontal children
 *
 * description: Makes children horizontal with spacing inbetween each child
 *
 * markup: globals/scss/init/utility-classes/horizontal-children
 */

.u-horizontal-children {
  display: flex !important;

  flex-wrap: wrap !important;


  > *:not(:last-child) {
    margin-right: 1rem !important;
  }
}

// stylelint-enable


@include font-face-batch();


html {
  // We're setting the base font size.
  font-size: 16px; //stylelint-disable-line declaration-property-unit-whitelist
  line-height: 1.5;

  vertical-align: baseline;

  box-sizing: border-box;

  /**
   * section: M2DM/rules/typography/responsive
   * title: Responsive typography rules
   *
   * description: |
   *  Responsive typography allows us to scale the font proportionally to the available screen width. Also, because we declare all component dimensions in rem units and/or percentages, the UI elements will scale along with the font. This means that we can partially mitigate the "stripiness" issue on large screens where main content has a max-width and is surrounded by large full bleed stripes of background colour, and we make sure the text remains comfortably legible.
   *  
   *  The current formula has been derived by taking two common screen resolutions, finding a good font size for those and finding the equation of a line connecting the two using the slope-intercept formula.
   *  
   *  So, given the points:
   *    - for 1280px => 16px
   *    - for 1920px => 20px
   *  
   *  we can find the slope of the curve:
   *  ```
   *  slope = (20 - 16) / (1920 - 1280)
   *  slope =  1/160
   *  ```
   *  
   *  From this, we can find the intercept:
   *  ```
   *  intercept = 16 - (1280 * (1/160))
   *  intercept = 8
   *  ```
   *  
   *  Therefore giving us an equation for screen sizes greater than 1280px:
   *  ```
   *  font-size = screen-width / 160 + 8
   *  ```
   *  
   *  In CSS, `screen-width` can be substituted with `100vh` therefore giving us our responsive typography formula.
   *  
   *  QED
   */

  @include breakpoint(from 1280px) {
    font-size: calc(100vw / 160 + 8px); //stylelint-disable-line declaration-property-unit-whitelist
  }
}


html,
body {
  height: 100%;
  min-height: 100%;
}


*,
*::after,
*::before {
  box-sizing: inherit;
}


body {
  font-family: get-config(font-family-default);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: get-color(grey);
}


// typographic elements
h1,
h2,
h3,
h4,
h5,
h6,
p {
  margin-top: 0;
  margin-bottom: 1rem;
}


a {
  color: get-color(blue);
  text-decoration: none;
}


sup {
  top: 0.5rem;

  font-size: 60%; //stylelint-disable-line declaration-property-unit-whitelist
  vertical-align: text-top;
}

/**
 * section: M2DM/rules
 * title: Rules
 *
 * description: |
 *   Rules (much like atoms in Atomic design) represent the indivisible building blocks of components, things like typography, vertical spacing or colours.
 */

/**
 * section: M2DM/rules/functions
 * title: Functions
 */

/**
* section: M2DM/rules/functions/get-color
* title: get-color
*
* description: |
*    This function returns one of the predefined shades of functional colours defined in `rules/colors`; it makes use of `get-var()` function which lives in `init/functions` to retrieve the key values of the colours map.<br>
*
* parameters: |
*    $color-name: one of the functional colours
*    $color-variant: variant of the functional colour
*
* sassUsage: |
*
*    get-color(purple)
*    get-color(purple, x-light)
*
*/

@function get-color($color-name, $color-variant: base) {

  $color: get-var($colors, $color-name); //stylelint-disable-line declaration-property-value-whitelist

  @if type-of($color) == color {
    @return $color;
  }

  @return map-get($color, $color-variant);
}

$_z-layers: ("content", "page-notif",  "nav", "modal", "takeover");

@function get-z-index($layer, $depth-level: 0) {
  $z-index: null;

  @if (index($_z-layers, $layer) != null) {
    $z-index: index($_z-layers, $layer) * 10;
    
    @if ($depth-level) {
      @if (type-of($depth-level) == number) and ($depth-level >= 0) and ($depth-level <= 9) {
        $z-index: $z-index + $depth-level;
      } @else {
        @error "The depth level must be a number between 0 and 9";
      }
    }
  } @else {
    @error "The layer you are looking for does not exist";
  }

  @return $z-index;
}

/**
 * section: M2DM/developer/functions/tshirt-to-index
 * title: tshirt-to-index
 *
 * description: |
 *   Converts tshirt size to a list index based on the tshirt scale defined in `init/config.scss`.
 *
 * parameters: |
 *
 *   $size
 *   : tshirt size as defined in `init/config.scss`
 *
 *
 * sassUsage: |
 *
 *   tshirt-to-index(small) // => 2
 *
 *
 */

@function tshirt-to-index($size) {
  @return index(get-config(tshirt-scale), $size);
}

/**
 * section: M2DM/rules/functions/vspace
 * title: vspace
 *
 * description: |
 *   Returns one of the predefined vertical spacing units which should be used on the vertical margins of components.
 *
 * parameters: |
 *
 *   $size: tshirt size  // as defined in `init/config.scss`
 *
 * sassUsage: |
 *
 *   margin-bottom: vspace(x-small);
 *   padding-bottom: vspace(medium);
 *
 * markup: globals/scss/rules/functions/vspace
 */

@function vspace($size) {
  $baseline: get-config(baseline);
  $spacing-units: (2, 3, 4, 5, 7, 10, 15);
  $clamped-index: min(length($spacing-units), tshirt-to-index($size));

  @return nth($spacing-units, $clamped-index) * $baseline;
}


/**
 * section: M2DM/rules/typography
 * title: Typography
 *
 * description: |
 *  Roboto is our typeface for body copy, used in regular and bold weights for standard paragraph-size text and below, as well as all buttons.
 *  Amasis MT regular and bold. This is our main typeface for headings, sub headings and call out copy on all brand work.
 *  Selfmade-Sans is available on black weight only and is used for leading headlines in our main brand work. This is our main brand font and represents the thousands of small business owners we help and the investors who support them. Each letter is made out of a fingerprint pattern.
 *  
 *  Roboto fallback is Arial
 *  Amasis fallback is Georgia
 *  Selfmade-Sans fallback is Impact
 *
 */

/**
 * section: M2DM/rules/typography/font
 * title: Fonts
 *
 * description: |
 *   Funding Circle uses a font scaling method called the ditonic golden ratio.<br>
 *   In order to make sure you are using the correct font size, you can send a note (parameter) to a mixin called `font()`
 *
 *   The `font()` mixin also will automatically adjust the `line-height` to the correct value (the `line-height` is the first multiple of the get-const(config, baseline)).
 *
 *   If you want to disable the `line-height`, set the 2nd parameter to `false`.
 *
 *   Options for font size (t-shirt sizing):
 *   `x-small, small, medium, large, x-large, 2x-large, 3x-large, 4x-large, 5x-large, 6x-large`
 *
 * 
 *   E.g. of usage:
 *   ```
 *   .example-element {
 *     @include font(x-large, [$line-height: true/false]);
 *   }
 *   ```
 *
 * modifiers:
 *   font-size-x-small - font-size .625rem, line-height 1rem : '@include font(x-small);'
 *   font-size-small - font-size .8125rem, line-height 1rem : '@include font(small);'
 *   font-size-medium - font-size 1rem, line-height 1.5rem : '@include font(medium);'
 *   font-size-large - font-size 1.25rem, line-height 1.5rem : '@include font(large);'
 *   font-size-x-large - font-size 1.625rem, line-height 2rem : '@include font(x-large);'
 *   font-size-2x-large - font-size 2.0625rem, line-height 2.5rem : '@include font(2x-large);'
 *   font-size-3x-large - font-size 2.625rem, line-height 3rem : '@include font(3x-large);'
 *   font-size-4x-large - font-size 3.3125rem, line-height 3.5rem : '@include font(4x-large);'
 *   font-size-5x-large - font-size 4.25rem, line-height 4.5rem : '@include font(5x-large);'
 *   font-size-6x-large - font-size 5.375rem, line-height 5.5rem : '@include font(6x-large);'
 * 
 * markup: globals/scss/rules/typography/mixins/font
 */

@mixin font($tshirt, $has-line-height: true) {
  $fonts: (
    (font-size: 10, line-height: 16),
    (font-size: 13, line-height: 16),
    (font-size: 16, line-height: 24),
    (font-size: 20, line-height: 24),
    (font-size: 26, line-height: 32),
    (font-size: 33, line-height: 40),
    (font-size: 42, line-height: 48),
    (font-size: 53, line-height: 56),
    (font-size: 68, line-height: 72),
    (font-size: 86, line-height: 88)
  );

  $font-note: nth($fonts, tshirt-to-index($tshirt));

  font-size: map-get($font-note, "font-size") * 1rem / 16;

  @if($has-line-height) {
    line-height: map-get($font-note, "line-height") * 1rem / 16;
  }
}

@mixin font-face($font-name, $file-name, $weight: normal, $style: normal) {
  $folder: to-lower-case($font-name);

  @font-face {
    font-family: quote($font-name);
    font-style: $style;
    font-weight: $weight;
    src: url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.eot");
    src: url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.eot?#iefix") format("embedded-opentype"),
      url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.woff2") format("woff2"),
      url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.woff") format("woff"),
      url("#{$radius-config-asset-path}/fonts/#{$folder}/#{$file-name}.ttf") format("truetype");
  }
}

@mixin font-face-batch() {
  $font-face-map: (
    "Amasis": (
      (
        file-name: "AmasisMTStd",
        weight: 400
      ), (
        file-name: "AmasisMTStd"
      ), (
        file-name: "AmasisMTStd-bold",
        weight: 700
      ), (
        file-name: "AmasisMTStd-bold",
        weight: bold
      )
    ),
    "Roboto": (
      (
        file-name: "Roboto",
        weight: 400
      ), (
        file-name: "Roboto"
      ), (
        file-name: "Roboto-bold",
        weight: 700
      ), (
        file-name: "Roboto-bold",
        weight: bold
      )
    )
  );

  @each $font-group-name, $font-groups in $font-face-map {
    @each $font in $font-groups {
      @include font-face($font-group-name, $font...);
    }
  }

  @include font-face("Selfmade-Sans", "#{$radius-config-brand-font-file}", bold);
}


/**
 * section: M2DM/rules/typography/brand-heading
 * title: Brand Heading
 *
 * activateComponent: radius-component-brand-heading
 *
 * abstractLink: 92fbb39b-8689-4eca-9bc8-c9a544d911ae
 *
 * description: |
 *  Styled header with brand (self made) font and colored with brand color. Can take an accent if 
 *  configured to do so. Can be both left or center aligned according to configuration.
 *   
 *  ### Element
 *     - `brand-heading`: header with brand font and brand color (purple). Adjusts in size with viewport.
 *     There is a specific modifier for the brand-hero brand-heading--hero which is responsible for the color and adding a new size for larger breakpoints. There is also a modifier class brand-heading--small for use in long German words, which is responsible for amending the font-size across different breakpoints.
 *      
 *     
 *  ### Variations:
 *     - `text-block__heading-bar--brand`: Puts an accent below the header
 *     - `text-block--center`: If on an ancestor element of header el, header text and any accent will be centered.
 *     - `brand-heading--hero`: for using within the brand hero
 *     - `brand-heading--small`: for using within the brand hero, with long words.
 *     - `u-color-white`: modifier added to change text color from default on a dark background.  
 *
 * markup: globals/scss/rules/typography/headings/brand-heading
 *
*/

@mixin radius-component-brand-heading {
  $color-brand: get-color(purple, contrast);


  .brand-heading {
    @include font(3x-large, false);

    font-family: get-config(font-family-brand);
    line-height: 0.9;
    color: $color-brand;
    text-transform: uppercase;


    @include breakpoint(from mobile-medium) {
      @include font(5x-large, false);
    }
  }


  .brand-heading--hero {
    @include breakpoint(from tablet-small) {
      @include font(6x-large, false);
    }
  }


  .brand-heading--small {
    @include font(2x-large, false);


    @include breakpoint(from mobile-medium) {
      @include font(4x-large, false);
    }


    @include breakpoint(from tablet-small) {
      @include font(5x-large, false);
    }
  }
}

/**
* section: M2DM/rules/typography/paragraph headings
* title: Paragraph Headings
*
* activateComponent: radius-component-paragraph-heading
*
* abstractLink: 92fbb39b-8689-4eca-9bc8-c9a544d911ae
*
* purpose: Use to identify new topics within a section.
*
* description: |
*   Paragraph headings have 3 variants: `--large`, `--medium` and `--small` responsible for controlling the font size. They use `Amasis MT` as their typeface, except the `--small` variant which uses `Roboto` for clarity purposes.
*
* markup: globals/scss/rules/typography/headings/paragraph-heading
*
*/

@mixin radius-component-paragraph-heading {
  .paragraph-heading {
    margin-bottom: 0.5rem;

    font-family: get-config(font-family-primary);
    font-weight: bold;
  }


  .paragraph-heading--large {
    @include font(x-large);
  }


  .paragraph-heading--medium {
    @include font(large);
  }


  .paragraph-heading--small {
    @include font(medium);

    margin-bottom: 0;

    font-family: get-config(font-family-default);
  }
}

/**
* section: M2DM/rules/typography/section headings
* title: Section Headings
*
* activateComponent: radius-component-section-heading
*
* abstractLink: 92fbb39b-8689-4eca-9bc8-c9a544d911ae
*
* purpose: Use to identify a new section within the page.
*
* description: |
*   The main typeface for section headings is `Amasis MT`. Section headings have 3 variants: `--large`, `--medium` and `--small` responsible for controlling the font size. The `--large` variant is used to convey singular, bold brand messages, while the `--medium` variant is used to accomodate more content when there's more information to convey.
*   
*   
* markup: globals/scss/rules/typography/headings/section-heading
*/

@mixin radius-component-section-heading {
  $color-brand: get-color(purple, contrast);
  $resize-point: mobile-medium;


  .section-heading {
    font-family: get-config(font-family-primary);
    font-weight: bold;

    color: $color-brand;
  }


  .section-heading--large {
    @include font(3x-large);


    @include breakpoint(from $resize-point) {
      @include font(4x-large);
    }
  }


  .section-heading--medium {
    @include font(2x-large);


    @include breakpoint(from $resize-point) {
      @include font(3x-large);
    }
  }


  .section-heading--small {
    @include font(x-large);


    @include breakpoint(from $resize-point) {
      @include font(2x-large);
    }
  }
}


/**
* section: M2DM/rules/typography/label
* title: Label
*
* activateComponent: radius-component-label
*
* purpose: Use to describe or contextualise the content that it is placed with.
*
* description: |
*   The '--small' variant is described by uppercased text in `small` font size; often used to entitle regular size content.
*   
*   The `--accent` variant draws attention by uppercasing the text and changing its colour to `accent-orange`; it is usually used in the context of the `feature` or `bullet` list components.
*
* markup: globals/scss/rules/typography/label/example
*/

@mixin radius-component-label {
  $default-color: get-color(grey, x-light);
  $accent-color: get-color(orange, contrast);


  .label {
    @include font(medium);

    margin: 0;

    font-weight: normal;
    color: $default-color;
  }


  .label--small,
  .label--accent {
    text-transform: uppercase;
  }


  .label--small {
    @include font(small);
  }


  .label--accent {
    color: $accent-color;
  }
}

/**
* section: M2DM/rules/typography/lead-paragraph
* title: Lead Paragraph
*
* activateComponent: radius-component-lead-paragraph
*
* description: |
*   Lead paragraph for screamer and other sections with a standalone block of text
* 
* markup: globals/scss/rules/typography/lead-paragraph/example
*/

@mixin radius-component-lead-paragraph {
  .lead-paragraph {
    @include font(large);

    margin-bottom: 0;

    font-family: get-config(font-family-primary);
    font-weight: normal;
  }
}

/**
* section: M2DM/rules/typography/stat
* title: Stat
*
* activateComponent: radius-component-stat
*
* abstractLink: 72d8cac6-6c1e-4cc6-a8c9-6a0659f7414a
*
* purpose: Use to display or highlight numerical data.
*
* markup: globals/scss/rules/typography/stat/example
*/

@mixin radius-component-stat {
  .stat {
    @include font(2x-large, false);

    margin: 0;

    font-family: get-config(font-family-primary);
    font-weight: bold;
    line-height: 2rem;
    color: get-color(purple, contrast);
  }
}


/**
 * section: M2DM/icons
 * title: Icons
 *
 * description: |
 *  Collection of symbols used to represent an object visually or to convey a particular message. Icons are consolidated into a single, external sprite to avoid multiple requests.
 *
 *
 *  ### Icon prep
 *  Take individual SVG icons provided by design (ensure they have converted strokes to outlines before exporting, or if you are exporting from the Sketch file ensure that you do this).
 *
 *  All icons should be on a transparent background. Apart from two-colour icons which should have the solid background colour set to `#75227D`.
 *
 *  Add icons to the correct folder `src/m2dm/assets/icons` and name the icon according to the following guidelines:
 *
 *  #### Naming conventions
 *  Follow the naming system to ensure consistency: [name]-[direction?]-[outline/solid?] e.g. minus, minus-circle-outline, minus-circle-solid or arrow-left (those marked with `?` are optional).
 *
 *
 *  ### HTML Usage
 *  In order to use our SVG icons, we need place them in the HTML. This means that we cannot use them in CSS background images or in pseudo elments like `::before`.
 *
 *  The name of the icon will be used as the fragment identifier when we reference it from our markup using the `<svg>` and `<use>` elements:
 *   ```
 *   <svg class="svg-icon">
 *      <use xlink:href="/radius-asset-path/icons/svg-sprite.svg#icon-name"></use>
 *   </svg>
 *   ```
 *
 *  `#icon-name` is the fragment identifier used to reference the id from the `<symbol>` element in the sprite. In the example above the #icon-name fragment identifier tells the browser to use the symbol with the ID of the same name from the `svg-sprite.svg`.
 *
 *
 *  ### Accessibility
 *  In cases where you don't want screen readers to try reading the icon out add `aria-hidden="true"` - this might be true if there is already relevant text in context and any cases where the icon is used only for decoration and/or doesn't add any signficant or additional value:
 *   ```
 *   <svg class="svg-icon" aria-hidden="true">
 *      Close
 *      <use xlink:href="/radius-asset-path/icons/svg-sprite.svg#cross-circle-outline"></use>
 *   </svg>
 *   ```
 *
 *  In cases with a link or a button whose only content is an icon use `aria-label` on the `<a>` or `<button>` element:
 *   ```
 *   <a href="#" aria-label="close">
 *      <svg class="svg-icon">
 *        <use xlink:href="/radius-asset-path/icons/svg-sprite.svg#cross-circle-outline"></use>
 *      </svg>
 *   </a>
 *   ```
 *
 *  When using SVGs outside interactive elements, like buttons and links (where `aria-label` might not be read by some screen readers), you can use the `<title>` element with a unique `id` and combine with `aria-labelledby="title-id"`:
 *   ```
 *   <svg class="svg-icon" role="img" aria-labelledby="close">
 *      <title id="close">Close modal window</title>
 *      <use xlink:href="/radius-asset-path/icons/svg-sprite.svg#cross-circle-outline"></use>
 *   </svg>
 *   ```
 *
 *  As accessibility text can change depending on context and also language - alt text should live in the same place that the icon is inserted. As such `<title>` elements are removed from the sprite as part of the sprite build process. (Also screen readers often ignore `<title>` elements from sprites). For example, a cross icon can mean close but also be used as an icon for an error notification.
 *
 *
 *  ### Visual Usage
 *  Our icons often coexist with text, so they inherit the text color and flow with the text by default.
 *
 *  Add the `.svg-icon` class to all svg icons and any modifier classes needed to change the default color and/or size.
 *
 *  #### Sizing
 *  Most icons occupy a square artboard of 24px and are set to a default size of 1rem using the `svg-icon` class as our default font size is 1rem. Icons can also be resized using the size modifier classes listed below.
 *
 *  #### Alignment
 *  Both the `svg` and any adjacent sibling element, e.g. accompanying text, are vertically aligned to the middle of the parent element's middle.
 *
 *  #### Single colour icons
 *  Default colour is `get-color(grey)`, inherited from the default colour set on the `<body>` element. Icon colour can be updated using the colour modifier classes listed below.
 *
 *  #### Two tone/colour icons
 *
 *  _Adding two tone/colour icons to Radius_<br>
 *  If you want to add a two-tone icon, set the solid background colour of icon to `#75227D`.<br><br>
 *
 *  _Using two tone/colour icons in Radius_ <br>
 *  There are a number of predefined modifier classes that can be used to set two different colours on the icon e.g. `svg-icon--solid` (see the modifiers section below to see the preset options available). Example using predefined classes:
 *
 *   ```
 *   <svg class="svg-icon svg-icon--solid-error">
 *      <use xlink:href="/radius-asset-path/icons/svg-sprite.svg#cross-circle-solid"></use>
 *   </svg>
 *   ```
 *
 *  To use two-tone icons that are not predefined use the `set-two-icon-colors` mixin (the 1st argument passed to this mixin sets the solid background color of the icon, the 2nd argument sets the color of the inner icon). Example using the mixin: `set-two-icon-colors(get-color(orange), get-color(blue));` <br><br>
 *
 *  _How two-tone icons are created_ <br>
 *  During the build process `#75227D` is replaced by `currentColor`. By setting the fill attribute of the primary (solid, background) colour of the icon to `currentColor` it will inherit whatever value is held by the `color` property. We can then set a secondary color for the inner icon, by stripping out the fill attribute during the build process and using the `fill` property to declare a different colour in CSS. CSS is used to declare both a fill and color on the SVG element (for a shortcut use the `set-two-icon-colors` mixin).
 *
 *
 *  #### Modifiers for size:
 *   `svg-icon--xsmall` - changes icon size to 0.625rem (10px)<br>
 *   `svg-icon--small` - changes icon size to 0.8125rem (13px)<br>
 *   `svg-icon--large` - changes icon size to 1.5rem (20px)<br><br>
 *
 *  #### Modifiers for color:
 *   `svg-icon--accent` - changes icon color to the contrast orange from our color palette<br>
 *   `svg-icon--action` - changes icon color to the default blue from our color palette<br>
 *   `svg-icon--disabled` - changes icon color to the x-light grey from our color palette<br>
 *   `svg-icon--inverse` - changes icon color to the white - for use on a dark background<br>
 *   `svg-icon--error` - changes icon color to default red from our color palette<br>
 *   `svg-icon--success` - changes icon color to default green from our color palette<br><br>
 *
 *   `svg-icon--solid` - for icons with two different colors, sets the background fill color of the solid SVG icons to our default text grey and the inner icon path fill to white, using the default values set by the `set-two-icon-colors` mixin<br>
 *   `svg-icon--solid-action` - for icons with a solid (action) blue fill for the background and a white inner icon<br>
 *   `svg-icon--solid-neutral` - for icons with a light grey fill for the background and a white inner icon e.g. commonly used for the info icon<br>
 *   `svg-icon--solid-error` - for icons with a solid (error) red fill for the background and a white inner icon<br>
 *   `svg-icon--solid-success` - for icons with a solid (success) green fill for the background and a white inner icon<br><br>
 *
 *   `svg-icon--cutout` - for use with solid icons that have a transparent core (inner icon) ie. the inner icon will show the colour from the background component or section that the icon lives in. Pair this class with one of the colour modifier classes (`svg-icon--action`) to change the main solid colour of the icon. **N.B.** This should only be used with solid icons.
 *
 *
 *  ### Support and polyfills
 *  Currently no versions of IE (and some older versions of WebKit browsers) supports the `use` syntax with external SVG sprite sheets (ie. file paths in `use xlink:href=""`), so we use [svgxuse](https://github.com/Keyamoon/svgxuse) - a JS polyfill - as a workaround for IE. (However, you can reference symbols from an external file in Edge). We recommend this polyfill for referencing external SVGs in `<use>` elements. It works by detecting failed external refs and loading the referenced file via AJAX, injecting the sprite into the page itself and updating the xlink:href attribute to point to this resource instead.
 *  svgxuse polyfill usage instructions can be found [here](https://github.com/Keyamoon/svgxuse#usage)
 *
 *
 * layout: globals/scss/rules/iconography/example
 *
 * markup: globals/scss/rules/iconography/example-markup
 */

@mixin set-two-icon-colors($bg-color: get-color(grey), $icon-color: get-color(white)) {
  color: $bg-color;
  fill: $icon-color;
}


.svg-icon {
  display: inline-block;
  width: 1rem;
  height: 1rem;
  fill: currentColor;
  overflow: hidden;

  vertical-align: middle;
}


.svg-icon + * {
  vertical-align: middle;
}


.svg-icon--xsmall {
  width: 0.625rem;
  height: 0.625rem;
}


.svg-icon--small {
  width: 0.8125rem;
  height: 0.8125rem;
}


.svg-icon--large {
  width: 1.5rem;
  height: 1.5rem;
}


.svg-icon--x-large {
  width: 2rem;
  height: 2rem;
}


.svg-icon--accent {
  color: get-color(orange, contrast);
}


.svg-icon--action {
  color: get-color(blue);
}


.svg-icon--disabled {
  color: get-color(grey, x-light);
}


.svg-icon--inverse {
  color: get-color(white);
}


.svg-icon--error {
  color: get-color(red);
}


.svg-icon--success {
  color: get-color(green);
}


.svg-icon--cutout {
  fill: transparent;
}


.svg-icon--solid {
  @include set-two-icon-colors();
}


.svg-icon--solid-neutral {
  @include set-two-icon-colors(get-color(grey, x-light));
}


.svg-icon--solid-error {
  @include set-two-icon-colors(get-color(red));
}


.svg-icon--solid-success {
  @include set-two-icon-colors(get-color(green));
}


.svg-icon--solid-action {
  @include set-two-icon-colors(get-color(blue));
}

/**
 * section: M2DM/rules/colors
 * title: Colors
 *
 * layout: globals/scss/rules/colors
 *
 * purpose: Use to ensure brand consistency.
 *
 * description: |
 *   A palette of functional colors used to convey a message or highlight actions. Basic color names are used as key names (purple, green, blue, etc.) with various lighter shades as array elements. Above the base colour there will be a contrast colour which will be usually used as background for elements containing white text. Below the base colour there is a scale of lighter shades which is using a naming convension based on t-shirt sizing, starting from `light` and scaling down different levels of lightness depending on the base colour. Options for the lighter shades are: `light`, `x-light`, `2x-light`, `3x-light`, `4x-light` etc.<br>
 *
 * colors:
 *   - white:
 *     - colors__sample--white: get-color(white)
 *   - black:
 *     - colors__sample--black: get-color(black)
 *   - purple:
 *     - colors__sample--purple-contrast: get-color(purple, contrast)
 *     - colors__sample--purple-base: get-color(purple, base)
 *     - colors__sample--purple-light: get-color(purple, light)
 *     - colors__sample--purple-x-light: get-color(purple, x-light)
 *     - colors__sample--purple-2x-light: get-color(purple, 2x-light)
 *     - colors__sample--purple-3x-light: get-color(purple, 3x-light)
 *   - orange:
 *     - colors__sample--orange-contrast: get-color(orange, contrast)
 *     - colors__sample--orange-base: get-color(orange, base)
 *     - colors__sample--orange-light: get-color(orange, light)
 *     - colors__sample--orange-x-light: get-color(orange, x-light)
 *     - colors__sample--orange-2x-light: get-color(orange, 2x-light)
 *     - colors__sample--orange-3x-light: get-color(orange, 3x-light)
 *   - green:
 *     - colors__sample--green-contrast: get-color(green, contrast)
 *     - colors__sample--green-base: get-color(green, base)
 *     - colors__sample--green-light: get-color(green, light)
 *     - colors__sample--green-x-light: get-color(green, x-light)
 *     - colors__sample--green-2x-light: get-color(green, 2x-light)
 *     - colors__sample--green-3x-light: get-color(green, 3x-light)
 *   - red:
 *     - colors__sample--red-contrast: get-color(red, contrast)
 *     - colors__sample--red-base: get-color(red, base)
 *     - colors__sample--red-light: get-color(red, light)
 *     - colors__sample--red-x-light: get-color(red, x-light)
 *     - colors__sample--red-2x-light: get-color(red, 2x-light)
 *     - colors__sample--red-3x-light: get-color(red, 3x-light)
 *   - yellow:
 *     - colors__sample--yellow-contrast: get-color(yellow, contrast)
 *     - colors__sample--yellow-base: get-color(yellow, base)
 *     - colors__sample--yellow-light: get-color(yellow, light)
 *     - colors__sample--yellow-x-light: get-color(yellow, x-light)
 *     - colors__sample--yellow-2x-light: get-color(yellow, 2x-light)
 *     - colors__sample--yellow-3x-light: get-color(yellow, 3x-light)
 *   - blue:
 *     - colors__sample--blue-contrast: get-color(blue, contrast)
 *     - colors__sample--blue-base: get-color(blue, base)
 *     - colors__sample--blue-light: get-color(blue, light)
 *     - colors__sample--blue-x-light: get-color(blue, x-light)
 *     - colors__sample--blue-2x-light: get-color(blue, 2x-light)
 *     - colors__sample--blue-3x-light: get-color(blue, 3x-light)
 *   - grey:
 *     - colors__sample--grey-contrast: get-color(grey, contrast)
 *     - colors__sample--grey-base: get-color(grey, base)
 *     - colors__sample--grey-light: get-color(grey, light)
 *     - colors__sample--grey-x-light: get-color(grey, x-light)
 *     - colors__sample--grey-2x-light: get-color(grey, 2x-light)
 *     - colors__sample--grey-3x-light: get-color(grey, 3x-light)
 *     - colors__sample--grey-4x-light: get-color(grey, 4x-light)
 *
 * sassUsage: |
 *   get-color(purple)
 *   // if the base shade is requested the 2nd parameter should not be defined, as it is set to `base` by default
 *   get-color(purple, light)
 *   // the 2nd parameter defines the shade of the color - it is an optional parameter (please see above)
 */

$colors: (

  white: rgb(255, 255, 255),

  black: rgb(0, 0, 0),

  purple: (
    contrast: rgb(117, 34, 125),
    base: rgb(143, 68, 138),
    light: rgb(169, 91, 166),
    x-light: rgb(214, 166, 219),
    2x-light: rgb(232, 201, 235),
    3x-light: rgb(249, 241, 250)
  ),

  orange: (
    contrast: rgb(252, 78, 30),
    base: rgb(255, 107, 0),
    light: rgb(254, 162, 116),
    x-light: rgb(255, 210, 188),
    2x-light: rgb(255, 242, 236),
    3x-light: rgb(255, 250, 248)
  ),

  green: (
    contrast: rgb(15, 136, 77),
    base: rgb(52, 181, 118),
    light: rgb(112, 216, 166),
    x-light: rgb(181, 237, 210),
    2x-light: rgb(234, 255, 245),
    3x-light: rgb(249, 255, 252)
  ),

  red: (
    contrast: rgb(206, 16, 37),
    base: rgb(232, 32, 55),
    light: rgb(255, 133, 146),
    x-light: rgb(255, 194, 201),
    2x-light: rgb(255, 242, 244),
    3x-light: rgb(255, 250, 251)
  ),

  yellow: (
    contrast: rgb(255, 205, 0),
    base: rgb(253, 225, 50),
    light: rgb(251, 243, 141),
    x-light: rgb(255, 251, 194),
    2x-light: rgb(255, 254, 240),
    3x-light: rgb(255, 255, 250)
  ),

  blue: (
    contrast: rgb(2, 141, 208),
    base: rgb(0, 155, 222),
    light: rgb(111, 197, 238),
    x-light: rgb(188, 229, 248),
    2x-light: rgb(238, 249, 255),
    3x-light: rgb(249, 253, 255)
  ),

  grey: (
    contrast: rgb(38, 40, 56),
    base: rgb(66, 69, 84),
    light: rgb(115, 116, 128),
    x-light: rgb(147, 150, 167),
    2x-light: rgb(201, 203, 217),
    3x-light: rgb(239, 240, 245),
    4x-light: rgb(247, 248, 254)
  ),
);

/**
 * section: M2DM/rules/add-gutters
 * title: Gutters
 *
 * purpose: Use to add standard or custom gutters.
 *
 * description: |
 *   The Funding Circle grid system doesn't specify gutters between the columns; columns sit right up against each other. However, in order to accommodate the elements and provide breathing room for text, a padding will be defined when needed (not all columns will have padding by default).<br><br>
 *
 *   The standard value of this padding is 1.5rem(1.5 times our base font size). While 1.5rem is the default padding, this may be adjusted as needed for content with high contrast in text sizes (usually with very large headings that need more breathing room).<br><br>
 *   This mixin will be adding a padding left and right on the element. Because the 'page' grid will create a starting pad of 1 rem on both sides at the smallest web width(320px), the additional gutter will be removed for this breakpoint.
 *
 * sassUsage: |
 *   @include add-gutters
 *   // no parameters specified, the standard 1.5rem gutters will be applied
 *   @include add-gutters(4.5rem, 3rem)
 *   // custom values for left(4.5rem) and right(3rem) padding
 *
 */

%std-gutters {
  @include breakpoint(from mobile-medium) {
    padding-right: 1.5rem;
    padding-left: 1.5rem;
  }
}

@mixin add-gutters($left-gutter: false, $right-gutter: false) {
  @if ($left-gutter == false and $right-gutter == false) {
    @extend %std-gutters;
  } @else {
    @include breakpoint(from mobile-medium) {
      padding-right: $right-gutter;
      padding-left: $left-gutter;
    }
  }
}

/**
 * section: M2DM/rules/z-index
 * title: Z-index
 *
 * purpose: Use to stack elements in a certain order on the page.
 *
 * description: |
 *   Sass mixin used to set the z-index property.
 *   
 *   The implementation makes use of the `get-z-index` defined in `rules/functions` which calculates the z-index of an element depending on the layer and level of depth at which that element lives.
 *   
 *   A page can be split into multiple layers of elements that need to stack in a certain order. All the children of a certain layer can also be stacked within the layer they live in. So, each layer present on the page can have multiple depth levels depending on how many stacking children it needs to accomodate.
 *   
 *   All these layers can be grouped into a map in the order they need to stack on a page, from the lowest to highest. In case of the `get-z-index` function the map contains the following layers: `content`, `page-notif`(in-page notifications), `nav`, `modal` and `takeover`. Following the logic above, the `takeover` layer will be the topmost on the page. Each of these layers can have up to 9 levels of depth (from 0 to 9).
 *
 * parameters: |
 *   $layer: the page layer as defined in $_z-layers map;
 *   
 *   $depth-level: the level of depth at which the element needs to sit within the layer. optional parameter; if not set, defaults to `null`;
 *   
 *   $position: the position of the element (e.g. `absolute`, `relative` etc.). optional parameter; if not set, the position property will not be defined;
 *
 * sassUsage: |
 *   @include z-index(page-notif); // z-index: 20
 *   
 *   @include z-index(page-notif, 2); // z-index: 22
 *   
 *   @include z-index(page-notif, 2, absolute); // z-index: 22, position: absolute
 */
 
@mixin z-index($layer, $depth-level: null, $position: null) {
  position: $position;
  z-index: get-z-index($layer, $depth-level);
}


/**
 * section: M2DM/layout-patterns
 * title: Layout patterns
 *
 * purpose: Use to compose complex components with a skeleton.
 *
 * description: |
 *   They could represent something like the simple 1-7-1 application of the grid system or sections with predefined padding.
*/

/**
  * section: M2DM/layout-patterns/columns
  * title: Columns
  *
  * description: |
  *   For more fine tuned layouts, you can use the mixin and generate more complex layouts between custom breakpoints. This can be used together with `breakpoints()` mixin as it just generates the widths. Use this  mixin whenever you need to split an element in multiple columns; each individual column being filled with content. The columns will live inside our page grid (more here: `layout-patterns/page-grid`).
  *
  *   The mixin has to be applied on the wrapper of the columns. Adding a comma in the list will generate a new row.
  *
  * sassUsage: |
  *
  *    // columns mixin adds default padding to each column
  *    @include columns(3 2 1);
  *    // columns-no-padding mixin does not add default padding to each column
  *    @include columns-no-padding(3 2 1);
  *
  *
  * markup: layout-patterns/columns
*/


/**
 * section: M2DM/layout-patterns/page-grid
 * title: Page grid
 *
 * description: |
 *   The page grid principle is based on splitting the content into a 1:7:1 grid (1:5:1 for screens widths of 1920px and above) by setting left and right margin to a floating column which holds the content. The margins are dependent on the "width" of the column itself following the golden ratio proportions (more here: `dependencies/grid`).<br><br>
 *
 *   To ensure an element follows the 'page' grid, an utility class needs to be added (see below). If an element needs to fill the screen, that means it needs to break out of the grid, therefore the class is not needed.<br><br>
 *
 *   The utility class makes use of the `golden-ratio-paddings` mixin which is part of _`rs-golden-ratio-grid`_ project imported in Radius as a node module. The mixin is called with 3 parameters, first one representing the column width proportion related to the full width, next two setting the left, respectively the right margin (as proportions).<br><br>
 *
 *   For the 'page' grid purposes these parameters are set to `(7,1,1)` for all screen widths up to 1920px and then `(5,1,1)` above this breakpoint.<br><br>
 *
 *   If you don't want to apply the 1:7:1 grid on smaller screens, use `.u-page-grid-responsive` instead.
 *
 * markup: globals/scss/layout-patterns/page-grid/page-grid
 */

@mixin page-grid {
  @include golden-ratio-paddings(7,1,1);

  @include from(desktop-x-large) {
    @include golden-ratio-paddings(5,1,1);
  }
}


@mixin page-grid-responsive {
  width: auto;
  margin-right: 0;
  margin-left: 0;


  @include from(mobile-medium) {
    @include golden-ratio-paddings(7,1,1);
  }

  @include from(desktop-x-large) {
    @include golden-ratio-paddings(5,1,1);
  }
}


.u-page-grid {
  @include page-grid;
}

.u-page-grid-responsive {
  @include page-grid-responsive;
}


/**
  * section: M2DM/layout-patterns/columns
  * title: Columns
  *
  * purpose: Use to split an element into multiple non-empty columns.
  *
  * description: |
  *   For more fine tuned layouts, you can use the mixin and generate more complex layouts between custom breakpoints. This can be used together with `breakpoints()` mixin as it just generates the widths. The columns will live inside our page grid (more here: `layout-patterns/page-grid`).
  *
  *   The mixin has to be applied on the wrapper of the columns. Adding a comma in the list will generate a new row.
  *
  * sassUsage: |
  *
  *    // columns mixin adds default padding to each column
  *    @include columns(3 2 1);
  *    // columns-no-padding mixin does not add default padding to each column
  *    @include columns-no-padding(3 2 1);
  *
  *
  * markup: globals/scss/layout-patterns/columns/columns
*/

/**
  * section: M2DM/layout-patterns/container-with-aside
  * title: Container with Aside
  *
  * abstractLink: 51f8cc05-c692-4e91-b9a9-c32da32ec7bf
  *
  * description: |
  *
  *  This is a layout component for displaying a small related component beside (that is to the right of) a larger one.<br><br>
  *  
  *  On smaller screens the components will stack.<br><br>
  *
  *  The main panel will always be white. To change the color of the aside panel from its default orange you need to add a theme modifier class to the component element. e.g. u-theme-brand
  *
  * markup: globals/scss/layout-patterns/container-with-aside/aside
*/

.container-with-aside {
  background: get-color(orange, 2x-light);
}

.container-with-aside__main {
  background: get-color(white);
}

@include breakpoint(from mobile-medium) {
  .container-with-aside {
    $vertical-padding: 2.5rem;
    position: relative;

    padding: $vertical-padding 0;

    &::before {
      position: absolute;
      top: $vertical-padding;
      bottom: $vertical-padding;
      left: 0;

      display: inline-block;
      width: 50%;

      background: get-color(white);

      content: "";
    }
  }

  .container-with-aside__columns {
    @include columns(2 1);
    @include page-grid-responsive;
  }

  .container-with-aside__main {
    position: relative;  // necessary to prevent pseudo element appearing in front of this in IE
  }

  .container-with-aside__aside {
    display: flex;
    align-items: center;
  }
}

@include breakpoint(to mobile-medium) {
  .container-with-aside__main > :first-child,
  .container-with-aside__aside > :first-child {
    @include golden-ratio-paddings(7,1,1);
  }

  .container-with-aside__aside {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }
}

@include breakpoint(from desktop-small) {
  .container-with-aside__main-content {
    @include add-gutters(0, 1.5rem);
  }

  .container-with-aside__aside-content {
    @include add-gutters(1.5rem, 0);
  }
}

/**
  * section: M2DM/layout-patterns/equal-columns
  * title: Equal columns
  *
  * description: |
  *    This grid splits the content into equal width columns. Each column will have a standard `1.5rem` padding on left and right which will be removed on mobile.
  *
  * modifiers:
  *   u-equal-columns: lays out children in two columns for tablets and above
  *   u-equal-columns-extended: same as the above but adds 3rd column for desktop devices
  *   u-equal-columns-horizontal: lays all children in one row in equally spaced columns for tablets and above
  *
  * markup: globals/scss/layout-patterns/equal-columns/equal-columns
*/


.u-equal-columns,
.u-equal-columns-extended {
  @include from(mobile-large) {
    $column-gap: 3rem;

    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;


    > * {
      // two columns
      width: calc(#{100 / 2 * 1%} - #{1/2 * $column-gap});
    }
  }
}


.u-equal-columns-extended {
  @include from(desktop-small) {
    $column-gap: 3rem;

    > * {
      // three columns
      width: calc(#{100 / 3 * 1%} - #{2/3 * $column-gap});
    }
  }
}


.u-equal-columns-horizontal {
  @include from(mobile-large) {
    @include columns(equal);
  }
}

/**
 * section: M2DM/layout-patterns/full-page
 * title: Page main
 *
 * description: |
 *   The page main pattern sticks the footer to the bottom of the page until the content pushes it off screen.
 *
 * markup: globals/scss/layout-patterns/full-page/example
 */

.full-page {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}


.full-page__content {
  flex-basis: auto;
  flex-grow: 1;
  flex-shrink: 0;
}

/**
 * section: M2DM/layout-patterns/grid-141
 * title: Grid 1-4-1
 *
 * description: |
 *   This grid splits the content into a 1:4:1 grid - setting the left and right margins of a floating column that holds the content. The margins are dependent on the "width" of the column itself following the golden ratio proportions (more here: `dependencies/grid`).<br>
 *
 *   This is applied to make the content "narrower" in width and should sit inside an `u-page-grid` layout (see: `layout-patterns/page-grid`).<br>
 *
 *   To ensure an element follows the 'page' grid, an utility class needs to be added (see below).<br>
 *
 *   The utility class makes use of the `golden-ratio-paddings` mixin which is part of _`rs-golden-ratio-grid`_ project imported in Radius as a node module. The mixin is called with 3 parameters, first one representing the column width proportion related to the full width, next two setting the left, respectively the right margin (as proportions).<br>
 *
 *   For the 'inner' grid purposes these parameters are set to `(4,1,1)`.<br>
 *
 *   This is not applied on small screens where the content goes back to full width.
 *
 * markup: globals/scss/layout-patterns/grid-141/grid-141
 */

.u-grid-141 {
  @include from(mobile-large) {
    @include golden-ratio-paddings(4,1,1);
  }
}

/**
 * section: M2DM/layout-patterns/grid-2-1
 * title: Grid 2-1
 *
 * description: |
 *   The grid 2-1 is a layout pattern which defines a 2-1 grid with spacing in-between.
 *
 * markup: globals/scss/layout-patterns/grid-2-1/example
*/

.u-grid-2-1 {
  @include from(mobile-medium) {
    @include columns-no-padding(2 1);


    > :nth-child(1) {
      padding-right: 1rem;
    }
  }


  @include to(mobile-medium) {
    > :nth-child(1) {
      margin-bottom: 1rem;
    }
  }
}

/**
 * section: M2DM/layout-patterns/predefined-grid-classes
 * title: Predefined grid classes
 *
 * purpose: Use to build organic layouts with predefined grid classes for fast prototyping.
 *
 * description: |
 *
 *   To get started you need to add the wrapper class `.col-[s/m/l/xl]-wrapper` to make your inner divs into columns and have proper alignment and padding between them (only one class is needed, so if you use `.col-s-wrapper` the others are not required). If you only add `.col-xl-wrapper`, it means that it will create your grid system only starting from extra large devices onwards.<br><br>
 *
 *   Inside the wrapper class specify the desired proportion of the column with classes `.col-[s/m/l/xl]-[1-8]` (e.g. `.col-m-3` will apply a proportion of 3 on the column from medium screen onwards). The approach is mobile-first, where the small columns will be applied across all resolutions unless another class for a bigger breakpoint is applied. <br><br>
 *
 *   The available proportions are between 1 and 8 (1 is the smallest proportion, 8 is the biggest). Each column proportion is dependent on the siblings proportions. For example, two elements with class `.col-s-1` will display two *equal* columns.<br><br>
 *
 *   The predefined grid classes are split into 4 categories:<br>
 *
 *     - `[.col]-s-[proportion]` : small device width &lt; 480px
 *     - `[.col]-m-[proportion]` : medium device width &gt;= 480px
 *     - `[.col]-l-[proportion]` : large device width &gt;= 800px
 *     - `[.col]-xl-[proportion]` : extra large device width &gt;= 1200px
 *
 * markup: globals/scss/layout-patterns/predefined-grid-classes/predefined-grid-classes
 */

// import the breakpoints mixin
$breakpoints-values: (
  mobile-small: 320,
  mobile-medium: 480,
  mobile-large: 640,

  tablet-small: 768,
  tablet-medium: 800,
  tablet-large: 980,

  desktop-small: 1024,
  desktop-medium: 1200,
  desktop-large: 1400
) !default;

$breakpoints-ie8: false!default;

@function _breakpoints-parse($string) {
  // text to search for
  $FROM: 'from ';
  $TO: 'to ';


  // convert to string
  $string: inspect($string);


  // flags for min and max values
  $has-min: false;
  $has-max: false;


  // check what type of breakpoints we have
  @if type-of(str-index($string, $FROM)) == number {
    $has-min: true;
  }

  @if type-of(str-index($string, $TO)) == number {
    $has-max: true;
  }


  // slice the string to retrieve min and max values for breakpoints
  @if $has-min and $has-max {
    $min-breakpoint: str-slice($string, str-length($FROM) + 1, str-index($string, $TO) - 2);
    $max-breakpoint: str-slice($string, str-index($string, $TO) + str-length($TO));

    @return ($min-breakpoint, $max-breakpoint);
  } @else if $has-min == false {
    $max-breakpoint: str-slice($string, str-length($TO) + 1);

    @return (false, $max-breakpoint);
  } @else if $has-max == false {
    $min-breakpoint: str-slice($string, str-length($FROM) + 1);

    @return ($min-breakpoint, false);
  }

  @return (false, false);
}

@function _string-to-number($string) {
  // inspired by http://hugogiraudel.com/2014/01/15/sass-string-to-number/

  $digits: '0123456789';
  $number: 0;
  $negative: false;
  $units: (
    '%': 1%,
    'ch': 1ch,
    'cm': 1cm,
    'em': 1em,
    'ex': 1ex,
    'in': 1in,
    'mm': 1mm,
    'pc': 1pc,
    'pica': 1pica,
    'pt': 1pt,
    'px': 1px,
    'rem': 1rem,
    'vmax': 1vmax,
    'vmin': 1vmin,
    'vh': 1vh,
    'vw': 1vw
  );
  $unit: null;

  // is it negative?
  @if str-index($string, '-') == 1 {
    $negative: true;
    $string: str-slice($string, 2);
  }

  // parse the string and map it to the indexes of $digits
  @for $i from 1 through str-length($string) {
    $digit: str-slice($string, $i, $i);
    $index: str-index($digits, $digit);

    @if type-of($index) == number {
      $number: $number * 10 + ($index - 1);
    } @else {
      $unit: unquote("#{$unit}#{$digit}");
    }
  }

  @if $negative {
    $number: $number * (-1);
  }

  @if $unit and map-has-key($units, $unit) {
    $number: $number * map-get($units, $unit);
  }

  @if $string == $unit {
    @return false;
  }

  @return $number;
}

@function _breakpoints-values($value) {
  // try to get the value from the pre-existing breakpoints
  @if map-has-key($breakpoints-values, $value) {
    $value: map-get($breakpoints-values, $value);
    @if unitless($value) {
      $value: $value * 1px;
    }
  }

  @if type-of($value) == string {
    $value: _string-to-number($value);
  }

  @if type-of($value) != number {
    @return false;
  }

  @return $value;
}

@function _set-max-breakpoint($max-breakpoint) {
  @if $max-breakpoint != false {
    @if unit($max-breakpoint) == px {
      $max-breakpoint: $max-breakpoint - 1;
    } @else {
      $max-breakpoint: $max-breakpoint;
    }
  }

  @return $max-breakpoint;
}

@mixin breakpoint($string) {
  $string: _breakpoints-parse($string);
  $min-breakpoint: _breakpoints-values(nth($string, 1));
  $max-breakpoint: _breakpoints-values(nth($string, 2));

  $max-breakpoint: _set-max-breakpoint($max-breakpoint);

  @if ($min-breakpoint == false and $max-breakpoint == false) or ($max-breakpoint == false and $breakpoints-ie8) {
    @content;
  } @else if $min-breakpoint == false {
    @media only screen and (max-width: $max-breakpoint) {
      @content;
    }
  } @else if $max-breakpoint == false {
    @media only screen and (min-width: $min-breakpoint) {
      @content;
    }
  } @else {
    @media only screen and (min-width: $min-breakpoint) and (max-width: $max-breakpoint) {
      @content;
    }
  }
}

// require breakpoint
@mixin to($media-query) {
  @include breakpoint(to $media-query) {
    @content;
  };
}

@mixin from($media-query) {
  @include breakpoint(from $media-query) {
    @content;
  };
}

@mixin from-to($min, $max) {
  @include breakpoint(from $min to $max) {
    @content;
  };
}

// config
$golden-grid-max-number: 10!default;
$golden-grid-fallback-class: '.no-flexbox'!default;
$golden-grid-padding: 1.5rem!default;
$golden-grid-ratio: 1.618!default;
$golden-grid-utility-classes: true!default;
$golden-grid-vendor-prefixes: true!default;
$golden-grid-breakpoints: (
  s: false,
  m: mobile-medium,
  l: tablet-medium,
  xl: desktop-medium
)!default;



// mapping the config for easier access
$golden-grid-config: (
  max-number: $golden-grid-max-number,
  no-flex-class: $golden-grid-fallback-class,
  padding: $golden-grid-padding,
  ratio: $golden-grid-ratio,
  utility-classes: $golden-grid-utility-classes,
  utility-classes-breakpoints: $golden-grid-breakpoints,
  vendor-prefixes: $golden-grid-vendor-prefixes
);

// function for easier navigation through the variables map

@function gr($val) {
  @if map-has-key($golden-grid-config, $val) {
    @return map-get($golden-grid-config, $val);
  } @else {
    @error '#{$val} does not exist';
  }
}

// generate the golden scale

@function golden-scale($golden-scale-list: 1) {

  @for $i from $golden-scale-list through gr(max-number) {
    $golden-scale-list-last: nth($golden-scale-list, length($golden-scale-list));

    $golden-scale-list: append($golden-scale-list, $golden-scale-list-last * gr(ratio));
  }

  @return $golden-scale-list;
}

$golden-scale: golden-scale(1);

// send a list of proportions and it returns the percentage for each

@function get-columns-widths($cols) {
  $sum: 0;
  $widths: ();

  // find the sum of all proportions
  @for $i from 1 through length($cols) {
    $current-proportion: nth($cols, $i);
    $ratio-proportion: nth($golden-scale, $current-proportion);
    $sum: $sum + $ratio-proportion;
  }

  // find the proportion for each width
  @for $i from 1 through length($cols) {
    $current-width: 100 * nth($golden-scale, nth($cols, $i)) / $sum;

    @if $i > 1 and $i == length($cols) {
      $current-width: $current-width - .0001; // error margin
    }

    $widths: append($widths, $current-width);
  }

  @return $widths;
}

@mixin column-padding {
  @if gr(padding) {
    padding-left: gr(padding);
    padding-right: gr(padding);
  }
}

// this mixin sets the styling for the wrapper of the elements
// the flag is for table support

@mixin columns-wrapper {

  @if gr(no-flex-class) {
    #{unquote(gr(no-flex-class))} & {
      &:after {
        display: block;
        width: 100%;
        clear: both;
        content: '';
      }
    }
  }

  display: flex;

  @if gr(vendor-prefixes) {
    display: -webkit-flex;
    display: -ms-flexbox;
  }

  flex-wrap: wrap;

  @if gr(vendor-prefixes) {
    -webkit-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
  }

  width: 100%;
}

// mixin that generates the styling for each column in the columns mixin

@mixin set-columns-widths($cols, $start-from: 0) {
  @for $i from 1 through length($cols) {

    // $start-from is making sure we're providing the offset for multiple columns
    > :nth-child(#{$i + $start-from}) {
      width: nth($cols, $i) * 1%;

      // fallback
      @if gr(no-flex-class) {
        #{unquote(gr(no-flex-class))} & {

          @if $i == 1 {
            clear: left;
          }
        }
      }

    }
  }
}

// have a floating column that is still following the golden ratio proportions
// $column is the column proportion related to the full width
// $left is the margin left (as a proportion)
// $right is the margin right (as a proportion)
// eg: @include golden-ratio-paddings(4, 3, 2);

@mixin golden-ratio-paddings($column, $left: false, $right: false) {
  $cols: $column;

  @if $left {
    $cols: append($cols, $left);
  }

  @if $right {
    $cols: append($cols, $right);
  }

  $cols: get-columns-widths($cols);

  width: nth($cols, 1) * 1%;

  @if $left {
    margin-left: nth($cols, 2) * 1%;

    @if $right {
      margin-right: nth($cols, 3) * 1%;
    }
  } @elseif $right {
    margin-right: nth($cols, 2) * 1%;
  }

}

// the mixin that generate the columns with no padding

@mixin columns-no-padding($cols...) {
  @if nth($cols, 1) == equal {
    width: 100%;
    display: flex;

    > * {
      flex-grow: 1;
      flex-shrink: 1;
      flex-basis: 0;
    }

    @if gr(no-flex-class) {
      #{unquote(gr(no-flex-class))} & {
        display: table;
        table-layout: fixed;

        > * {
          display: table-cell;
          width: 1%;
        }
      }
    }
  } @else {
    @include columns-wrapper;

    > * {
      @if gr(no-flex-class) {
        #{unquote(gr(no-flex-class))} & {
          float: left;
        }
      }
    }

    // check if a comma is present in the cols declaration
    $multi-columns: str-index($cols + '', ',');

    @if type-of($multi-columns) == null {

      // all columns are on 1 row, calculate the widths
      $widths: get-columns-widths($cols);

      // set them accordingly
      @include set-columns-widths($widths);

    } @else {
      // we have multiple rows for columns

      // this is the index that counts the :nth-child
      // we need this because we are iterating through a list of lists
      $start-from: 0;

      // go through each row
      @for $i from 1 through length($cols) {

        // find the widths for each row
        $widths: get-columns-widths(nth($cols, $i));

        // set the widths
        @include set-columns-widths($widths, $start-from);

        // update the offset index
        $start-from: $start-from + length($widths);
      }
    }
  }
}

// the mixin that generate the columns with paddings

@mixin columns($cols...) {
  @include columns-no-padding($cols...);

  > * {
    @include column-padding;
  }
}

@if gr(utility-classes) {
  .col {
    // generate responsive classes
    $responsive-map: gr(utility-classes-breakpoints);
    $responsive-keys: map-keys($responsive-map);
    $responsive-values: map-values($responsive-map);

    @for $i from 1 through length($responsive-keys) {
      $breakpoint-from: nth($responsive-values, $i);

      @include from($breakpoint-from) {
        &-#{nth($responsive-keys, $i)} {

          &-wrapper {
            display: table;
            table-layout: fixed;
            width: 100%;
          }

          &-wrapper > * {
            @include column-padding;
            display: table-cell;
            vertical-align: top;
          }

          @for $j from 1 through gr(max-number) {
            $current-absolute-proportion: nth($golden-scale, $j);
            &-#{$j} {
              width: $current-absolute-proportion * 1%;
            }
          }
        }
      }
    }
  }
}


/**
 * section: M2DM/layout-patterns/pull-column
 * title: Pull column
 *
 * activateComponent: radius-component-pull-column
 *
 * purpose: Use to create a balanced and clearer layout for pairing types of content that have different visual weights.
 *
 * description: |
 *   This layout pattern is for the cases when we have two equal columns that behave differently:
 *   * One of them follows the page grid
 *   * The content within the other column will fill all of the available space, sitting outside the page grid and "pulling" the content within this column to the left or right edge of the viewport<br><br>
 *
 *   The component requires a `pull-column--left` or `pull-column--right` modifier, depending on which one is the one that pulls the content. The order of `pull-column__content` and `pull-column__pulled` depends on which modifier is applied.
 *
 *   This is not applied on small screens where the content goes back to stacked rows.
 *
 *
 *   ## variations:
 *     - `pull-column--reorder-items`: re-order items on a mobile device
 *     - `pull-column--pulled-background`: pulls background but does not remove gutters
 *
 * markup: globals/scss/layout-patterns/pull-column/pull-column
 */


@mixin radius-component-pull-column {
  $breakpoint-small: tablet-small;
  $breakpoint-large: desktop-x-large;
  $gutter: nth(get-columns-widths(1 7 1), 1) * 1vw;
  $gutter-large: nth(get-columns-widths(1 5 1), 1) * 1vw;
  $inner-gutter: 1.5rem;


  .pull-column {
    @include from($breakpoint-small) {
      @include columns-no-padding(1 1);
    }
  }


  .pull-column__content {
    padding-right: $gutter;
    padding-left: $gutter;
  }


  .pull-column__content,
  .pull-column__pulled {
    display: flex;
    flex-direction: column;
    justify-content: center;

    vertical-align: middle;
  }


  @include to($breakpoint-small) {
    .pull-column--left .pull-column__content,
    .pull-column--right .pull-column__pulled {
      padding-bottom: 2.5rem;
    }


    .pull-column--pulled-background .pull-column__pulled {
      padding-right: $gutter;
      padding-left: $gutter;
    }
  }


  @include from($breakpoint-small) {
    .pull-column--left .pull-column__content {
      padding-right: $inner-gutter;
      padding-left: $gutter;
      padding-left: calc(#{$gutter} + #{$inner-gutter});
    }


    .pull-column--left .pull-column__pulled {
      padding-left: $inner-gutter;
    }


    .pull-column--pulled-background.pull-column--left .pull-column__pulled {
      padding-right: $gutter;
    }


    .pull-column--right .pull-column__content {
      padding-right: $gutter;
      padding-right: calc(#{$gutter} + #{$inner-gutter});
      padding-left: $inner-gutter;
    }


    .pull-column--right .pull-column__pulled {
      padding-right: $inner-gutter;
    }


    .pull-column--pulled-background.pull-column--right .pull-column__content {
      padding-left: $gutter;
    }
  }


  @include from($breakpoint-large) {
    .pull-column--left .pull-column__content {
      padding-left: $gutter-large;
      padding-left: calc(#{$gutter-large} + #{$inner-gutter});
    }


    .pull-column--pulled-background.pull-column--left .pull-column__pulled {
      padding-right: $gutter-large;
    }


    .pull-column--right .pull-column__content {
      padding-right: $gutter-large;
      padding-right: calc(#{$gutter-large} + #{$inner-gutter});
    }


    .pull-column--pulled-background.pull-column--right .pull-column__content {
      padding-left: $gutter-large;
    }
  }


  .pull-column--reorder-items {

    @include to ($breakpoint-small) {

      display: flex;
      flex-direction: column-reverse;

      &.pull-column--left .pull-column__content,
      &.pull-column--right .pull-column__pulled {
        padding-bottom: 1rem;
      }

      &.pull-column--right .pull-column__content,
      &.pull-column--left .pull-column__pulled {
        padding-bottom: 2.5rem;
      }
    }
  }
}



/**
 * section: M2DM/components
 * title: Components
 *
 * description: |
 *   Components are collections of rules applied to an element in a given context to satisfy a purpose.
 */

/**
 * section: M2DM/components/accordion
 * title: Accordion
 *
 * activateComponent: radius-component-accordion
 * jsModule: accordion
 *
 * abstractLink: 252ebb43-ebe7-4cc6-b37c-a681f7415658
 *
 * purpose: Use to display large amounts of information in a scannable way, for example on an FAQ page.
 *
 * description: |
 *   ### Environment specific behaviour:
 *   When JavaScript is not available the hidden content in the accordion will become visible.
 *
 *   ### Data attributes:
 *   - `[data-js-accordion]`: This attribute should be added to the accordion wrapper.
 *   - `[data-js-accordion-item]`: This attribute should be added to each accordion item underneath the accordion wrapper.
 *   - `[data-js-accordion-trigger]`: This attribute should be added to the element that triggers the opening of the accordion content.
 *
 * markup: components/accordion/example
 */

@mixin radius-component-accordion {
  $text-toggle-color: get-color(blue, contrast);
  $border-color: get-color(grey, 2x-light);
  $icon-size: 1.5rem;
  $icon-bar-length: 0.625rem;
  $icon-bar-width: 0.125rem;
  $padding: 1.5rem;


  .accordion-item {
    position: relative;

    border-bottom: 1px solid $border-color;


    &:first-child {
      border-top: 1px solid $border-color;
    }
  }


  .accordion-item__title {
    @include font(large);

    width: 100%;
    padding: $padding $padding $padding 0;
    margin: 0;

    font-family: get-config(font-family-primary);
    font-weight: bold;
    color: get-color(grey);
    text-align: left;

    cursor: pointer;

    background-color: transparent;
    border: 0;
  }


  .accordion-item__icon {
    position: absolute;
    top: $padding;
    right: 0;

    width: $icon-size;
    height: $icon-size;

    color: $text-toggle-color;

    pointer-events: none;
    border: 1px solid $text-toggle-color;
    border-radius: 50%;


    &::before,
    &::after {
      position: absolute;
      top: 50%;
      left: 50%;

      background-color: $text-toggle-color;
      border-radius: 1px;

      content: "";
    }


    &::before {
      width: $icon-bar-length;
      height: $icon-bar-width;
      margin-top: ($icon-bar-width / 2) * -1;
      margin-left: ($icon-bar-length / 2) * -1;
    }


    &::after {
      width: $icon-bar-width;
      height: $icon-bar-length;
      margin-top: ($icon-bar-length / 2) * -1;
      margin-left: ($icon-bar-width / 2) * -1;
    }
  }


  .accordion-item.is-active .accordion-item__icon::after {
    height: 0;
    margin-top: 0;
  }


  .accordion-item__content {
    @include font(medium);

    display: none;
    margin-bottom: $padding;
  }


  .accordion-item.is-active .accordion-item__title {
    margin-bottom: 0.5rem;
  }


  .accordion-item.is-active .accordion-item__content {
    display: block;
  }
}

/**
 * section: M2DM/components/breadcrumb
 * title: Breadcrumb
 *
 * activateComponent: radius-component-breadcrumb
 *
 * purpose: Help users identify their location within the hierarchy of pages.
 *
 * description: |
 *   This component should be constructed using an `ol` as the order of the items contained matters.
 *   
 *   The separators are automatically generated for each item in the breadcrumb component except the last one.
 *   
 *   __Note__ In order to provide a good user experience, the breadcrumb item that represents the __current location__ of the user should not be clickable. (i.e. the list item should not contain a link).
 *
 *   ### Class modifiers:
 *   - `breadcrumb__list-item--current` - added on the item that represents the current location of the user; responsible for making the text bold.
 *   
 *   ### Accessibility
 *   A `role="navigation"` attribute should be added at the list level in order to identify it as navigational landmark for screen readers.
 *   When multiple navigation landmarks are on the page, add a `aria-label="label"` to the list of items in the breadcrumb.
 *
 * markup: components/breadcrumb/example
 */

@mixin radius-component-breadcrumb {
  .breadcrumb__list {
    @include font(small);

    display: table;
    display: flex;

    padding: 0;
    margin: 0;

    color: get-color(grey, light);

    list-style-type: none;

    @include to(mobile-medium) {
      flex-wrap: wrap;
    }
  }


  .breadcrumb__list-item {
    display: table-cell;
  }


  .breadcrumb__list-item--current {
    font-weight: bold;
  }


  .breadcrumb__list-item:not(:last-child)::after {
    display: inline-flex;

    // stylelint-disable declaration-property-unit-whitelist, unit-whitelist
    width: 0.8ex;
    height: 0.8ex;
    // enable stylelint

    margin: 0 0.5rem;

    vertical-align: middle;

    border-right: 1px solid get-color(grey, x-light);
    border-bottom: 1px solid get-color(grey, x-light);

    content: "";

    transform: rotate(-45deg);
  }


  .breadcrumb__list-link {
    color: inherit;

    cursor: pointer;
  }
}

/**
 * section: M2DM/components/card
 * title: Card
 *
 * activateComponent: radius-component-card
 *
 * abstractLink: 756c017a-f4fa-4f97-b110-536bf430b6af
 *
 * purpose: To group related content together and provide an at a glance overview of the content they lead to.
 *
 * description: |
 *   A card is avaliable in two variants - Fixed and Flexible
 *
 *   ### Fixed
 *   This card will have fixed padding of 16px all around and is designed to be used where multiple cards are next to each other in a grid configuration — See Card Ticker as an example.
 *
 *   ### Flexible
 *   This card relies on the gird layout within. By default it has a sigle column layout, but can be expanded to pretty much any configuration required.
 *
 *   Adding the `card__item--actionable` modifier to the `card__item` will make it actionable. This denotes an action can be perfomed on this element
 *
 * markup: components/card/example
 */

@mixin card-grids($first-column: 1, $second-column: 1, $breakpoint: tablet-small, $padding: 1.5rem) {
  .card__grid-#{$first-column}-#{$second-column} {
    @include from($breakpoint) {
      @include columns-no-padding($first-column $second-column);

      align-items: center;
    }
  }


  .card__grid-#{$first-column}-#{$second-column} > * {
    padding: $padding;


    @include to($breakpoint) {
      &:not(:first-child) {
        padding-top: 0;
      }
    }
  }
}

@mixin card-styles($variation, $color) {
  .card.card--#{$variation} {
    background: get-color($color, 3x-light);
  }


  .card.card--#{$variation},
  .card.card--#{$variation} .card__header,
  .card.card--#{$variation} .card__action {
    border-color: get-color($color);
  }
}



@mixin radius-component-card {
  $card-contrast-color: get-color(grey, 2x-light);
  $card-fixed-padding: 1rem;
  $card-flexible-padding: 1.5rem;
  $breakpoint-grid-2-1: tablet-medium;


  @include card-grids(1, 1, tablet-small, $card-flexible-padding);
  @include card-grids(2, 1, $breakpoint-grid-2-1, $card-flexible-padding);
  @include card-grids(1, 3, tablet-medium, $card-flexible-padding);

  @include card-styles(emphasis, blue);
  @include card-styles(success, green);


  .card {
    margin-bottom: 1.5rem;

    border-radius: 0.25rem;

    box-shadow: 0 1px 1px 0 $card-contrast-color;
  }


  .card > * {
    border: 1px solid $card-contrast-color;
    border-radius: 0.25rem;


    &:not(:first-child) {
      border-top: 0;
      border-top-right-radius: 0;
      border-top-left-radius: 0;
    }


    &:not(:last-child) {
      border-bottom-right-radius: 0;
      border-bottom-left-radius: 0;
    }
  }


  .card__item--actionable {
    cursor: pointer;

    transition: all 0.2s ease;
    transition-property: background-color, border-color;


    &:hover {
      background-color: get-color(blue, 3x-light);
      border-color: get-color(blue);
    }
  }


  .card__header,
  .card__content,
  .card__action {
    padding: $card-fixed-padding;
  }


  .card__header {
    font-weight: bold;
  }


  .card--flexible .card__header {
    padding-right: $card-flexible-padding;
    padding-left: $card-flexible-padding;
  }


  .card--flexible .card__content,
  .card--flexible .card__action {
    padding: $card-flexible-padding;
  }


  .card__grid-action {
    @include from($breakpoint-grid-2-1) {
      display: flex;

      justify-content: center;
    }
  }
}

/**
 * section: M2DM/components/card-ticker
 * title: Card Ticker
 *
 * activateComponent: radius-component-card-ticker
 * jsModule: card-ticker
 * jsFunction: cardTicker
 *
 * purpose: Use to deliver the concept of activity on a given task; its content establishes a number of baselines with the clear objective of reassuring the user on the presented activity.
 *
 * description: |
 *   This component will be paired with a label component that will introduce the content presented.
 *   
 *   The contents of the cards are generated dynamically from a text file that is fetched across the network. ([Read more about the Javascript functionality](/M2DM/components/card-ticker/javascript/)).
 *   
 *   **N.B.** Flexbox and CSS animations are not supported in IE9 and below, so this component will not be displayed.
 *
 *   ### Data attributes:
 *   - `[data-js-card-ticker]`: This attribute identifies the wrapper that holds the card-ticker carousel;
 *   - `[data-js-card-ticker-carousel]`: This attribute identifies the card-ticker carousel;
 *   - `[data-js-card-ticker-item]`: This attribute identifies an item within the card-ticker carousel;
 *   - `[data-js-card-ticker-source]`: TThis attribute creates a connection between the component and its source of data.
 *
 * markup: components/card-ticker/example
 */


@mixin radius-component-card-ticker {
  $card-width: 13rem;
  $card-contrast-color: get-color(grey, 2x-light);
  $label-gutter: nth(get-columns-widths(1 4 1), 1) * 1%;
  $card-space: 0.5rem;
  $shift-extra-space: 3 * $card-space;
  $card-translation: ($card-width + $shift-extra-space) * (-1);

  .card-ticker {
    overflow: hidden;
  }


  .card-ticker__inner {
    @include page-grid;
  }


  .card-ticker .card-ticker__label {
    @include from(mobile-large) {
      margin-left: $label-gutter;
    }
  }


  .card-ticker__carousel {
    display: flex;
    align-items: flex-start;

    padding: 1rem 0;
    margin: 0;

    animation: cardTickerItemShift 4.5s cubic-bezier(0.45, 2, 0.56, 0.52) infinite;
  }


  .card-ticker__item {
    flex: 0 0 $card-width;

    margin-right: $card-space;
    margin-left: $card-space;

    background-color: get-color(white);
    border: 1px solid $card-contrast-color;
    border-radius: 0.25rem;

    box-shadow: 0 1px 1px 0 $card-contrast-color;
  }


  .card-ticker__item-content {
    margin: 1rem;
  }


  .no-flexbox .card-ticker {
    display: none;
  }


  @keyframes cardTickerItemShift {
    0% {
      transform: translateX(0);
    }

    10%,
    100% {
      transform: translateX(#{$card-translation});
    }
  }
}

/**
 * section: M2DM/components/case-study
 * title: Case study
 *
 * activateComponent: radius-component-case-study
 *
 * abstractLink: cd87b942-cd43-4357-a1d8-86fdeb30a31c
 *
 * purpose: Display a case study of a customer in order to convey trust in Funding Circle through businesses' positive experiences.
 *
 * description: |
 *
 *   This component should include a large background image and some content in a box. The content box can include any other component. Typically, it may include a quote from a customer or information about their experiences with Funding Circle.
 *
 *   To specifiy the background image and the colour of the background and content box, you must use the `case-study-customisation` mixin.
 *
 *   ### Modifiers
 *
 *   There are 6 modifiers, but you must only use 3 at a time. You must choose one each for the X-axis, Y-axis, and sizing.
 *
 *   #### X-axis
 *
 *   `case-study--left` - make the content box sit on the left
 *
 *   `case-study--right` - make the content box sit on the right
 *
 *   #### Y-axis
 *
 *   `case-study--middle` - make the content box sit in the middle vertically
 *
 *   `case-study--bottom` - make the content box sit slightly below the image
 *
 *   #### Sizing
 *
 *   `case-study--small` - makes the component work in half width containers
 *
 *   `case-study--large` - makes the component work in full width containers
 *    <br />
 *    <br />
 *
 *   The parameters for `case-study-customisation` are:<br />
 *
 *   1) Path to the folder containing background images or empty string if you don't want to pass an image through this mixin (images within the
 *   folder should be named l.jpg and s.jpg)<br />
 *
 *   2) Background color of the content block<br />
 *
 *   3) Background color of the overflow (should be the same color as the
 *   content below it). Only required for `--bottom` variants.<br />
 *
 *   <br />
 *   <br />
 *
 *   ## Note
 *   If you're coming here because you recently upgraded to Radius 8.x.x and the case study in your project is now broken please look at the new
 *   markup for the case study component. In prior versions of Radius the background image was added to a `:before` pseudo element. In the 8.0.0
 *   release the Case Study no longer adds the background image to a pseudo element, but requires you add a div with  `.case-study__image" as the
 *   first child of the case-study component.
 *
 *   <br />
 *   <br />
 *
 * sassUsage: |
 *
 *   @include radius-component-case-study;
 *
 *   .case-study {
 *      @include case-study-customisation("img/case-study", #3D5A99, #FAEBD7);
 *   }
 *
 * markup: components/case-study/example
 *
 */

@mixin case-study-customisation($path, $content-bg-color, $overlap-bg-color: null) {
  $path: unquote($path);
  $breakpoint: mobile-medium;

  background-color: get-color(purple);


  @if($path != "") {
    .case-study__image {
      background-image: url("#{$path}/s.jpg");
    }
  }

  @if($path != "") {
    @include breakpoint(from $breakpoint) {
      .case-study__image {
        background-image: url("#{$path}/l.jpg");
      }
    };
  }


  @if ($overlap-bg-color) { // stylelint-disable-line indentation
    background-color: $overlap-bg-color;
  }


  .case-study__content {
    background: $content-bg-color;
  }
}



@mixin radius-component-case-study {
  $large-min-height-dt: 70vh;

  // Assumes that smaller case studies are half viewport width
  $small-min-height-dt: 35/64 * 50vw;

  $top-padding: 2rem;
  $bottom-padding: 2rem;

  $content-box-v-padding: 2rem;
  $content-box-side-padding: 1.5rem;
  $content-box-v-padding-small: 1rem;

  $variant-middle-mobile-v-inset: 2.5rem;
  $variant-middle-mobile-img-height: 12.5rem;

  $variant-bottom-v-offset: 2.5rem;
  $variant-bottom-mobile-v-inset: 7.5rem;
  $variant-bottom-mobile-img-height: 10rem;

  $variant-small-bottom-v-offset: 1.5rem;
  $variant-small-bottom-mobile-v-inset: 1.5rem;
  $variant-small-bottom-mobile-img-height: 12.5rem;

  $breakpoint-small: mobile-medium;
  $breakpoint-medium: tablet-medium;
  $breakpoint-large: desktop-x-large;


  .case-study {
    position: relative;

    display: flex;

    width: 100%;

    padding-top: $top-padding;
    padding-bottom: $bottom-padding;


    .case-study__image {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;

      display: block;

      width: 100%;

      background-position: center 15%;
      background-repeat: no-repeat;
      background-size: cover;

      content: "";
    }
  }


  .case-study__inner {
    flex-grow: 1;
  }


  .case-study__content {
    position: relative;

    padding-top: $content-box-v-padding;
    padding-right: $content-box-side-padding;
    padding-bottom: $content-box-v-padding;
    padding-left: $content-box-side-padding;
  }


  /*
   * --large
   */
  .case-study--large {
    @include from($breakpoint-small) {
      min-height: $large-min-height-dt;
    }

    @include to($breakpoint-small) {
      padding: 0;
    }
  }


  .case-study--large .case-study__inner {
    @include from-to($breakpoint-small, $breakpoint-large) {
      @include golden-ratio-paddings(7,1,1);
    }

    @include from($breakpoint-large) {
      @include golden-ratio-paddings(5,1,1);
    }
  }


  /*
   * .--small
   */
  .case-study--small {
    min-height: $small-min-height-dt;


    @include to($breakpoint-medium) {
      padding: 0;
    }
  }


  .case-study--small .case-study__inner {
    @include from-to($breakpoint-medium, $breakpoint-large) {
      @include golden-ratio-paddings(7,1,1);
    }

    @include from($breakpoint-large) {
      @include golden-ratio-paddings(5,1,1);
    }
  }


  .case-study--small .case-study__content {
    padding-top: $content-box-v-padding-small;
    padding-bottom: $content-box-v-padding-small;
  }


  /*
   * --middle
   */
  .case-study--middle {
    align-items: center;
  }


  /*
   * --middle.--large
   */
  .case-study--middle.case-study--large {
    @include to($breakpoint-small) {
      .case-study__image {
        height: $variant-middle-mobile-img-height;
      }
    }
  }


  .case-study--middle.case-study--large .case-study__content {
    @include to($breakpoint-small) {
      width: 100%;

      margin-top: $variant-middle-mobile-img-height - $variant-middle-mobile-v-inset;
    }
  }


  /*
   * --middle.--small
   */
  .case-study--middle.case-study--small {
    @include to($breakpoint-medium) {
      .case-study__image {
        height: $variant-middle-mobile-img-height;
      }
    }
  }


  .case-study--middle.case-study--small .case-study__content {
    @include to($breakpoint-medium) {
      width: 100%;

      margin-top: $variant-middle-mobile-img-height - $variant-middle-mobile-v-inset;
      margin-left: 0;
    }
  }


  /*
   * --left
   */
  .case-study--left .case-study__content {
    @include from($breakpoint-small) {
      @include golden-ratio-paddings(1,false,1);
    }

    @include from($breakpoint-medium) {
      @include golden-ratio-paddings(1,false,2);
    }
  }


  /*
   * --right
   */
  .case-study--right .case-study__content {
    @include from($breakpoint-small) {
      @include golden-ratio-paddings(1,1,false);
    }

    @include from($breakpoint-medium) {
      @include golden-ratio-paddings(1,2,false);
    }
  }


  /*
   * --bottom
   */
  .case-study--bottom {
    align-items: flex-end;
  }


  /*
   * --bottom.--left
   */
  .case-study--bottom.case-study--left .case-study__content {
    @include to($breakpoint-small) {
      @include golden-ratio-paddings(5,false,1);
    }
  }


  /*
   * --bottom.--right
   */
  .case-study--bottom.case-study--right .case-study__content {
    @include to($breakpoint-small) {
      @include golden-ratio-paddings(5,1,false);
    }
  }


  /*
   * --bottom.--large
   */
  .case-study--bottom.case-study--large {
    @include to($breakpoint-small) {
      .case-study__image {
        height: $variant-bottom-mobile-v-inset + $variant-bottom-mobile-img-height;
      }
    }

    @include from($breakpoint-small) {
      .case-study__image {
        height: calc(100% - #{$variant-bottom-v-offset});
      }
    }
  }


  .case-study--bottom.case-study--large .case-study__content {
    @include from($breakpoint-small) {
      bottom: ($bottom-padding * -1);
    }

    @include to($breakpoint-small) {
      min-height: $variant-bottom-mobile-v-inset;
      margin-top: $variant-bottom-mobile-img-height;
    }
  }


  /*
   * --bottom.--small
   */
  .case-study--small.case-study--bottom {

    @include to($breakpoint-medium) {
      .case-study__image {
        height: ($variant-small-bottom-mobile-v-inset + $variant-small-bottom-mobile-img-height);
      }
    }


    @include from($breakpoint-medium) {
      .case-study__image {
        height: calc(100% - #{$variant-small-bottom-v-offset});
      }
    }
  }


  .case-study--small.case-study--bottom .case-study__content {
    @include from($breakpoint-medium) {
      bottom: ($bottom-padding * -1);
    }

    @include to($breakpoint-medium) {
      min-height: $variant-small-bottom-mobile-v-inset;
      margin-top: $variant-small-bottom-mobile-img-height;
    }
  }


  /*
   * .--small.--left
   */
  .case-study--small.case-study--left .case-study__content {
    @include from($breakpoint-medium) {
      @include golden-ratio-paddings(2,false,1);
    }
  }


  /*
   * .--small.--right
   */
  .case-study--small.case-study--right .case-study__content {
    @include from($breakpoint-medium) {
      @include golden-ratio-paddings(2,1,false);
    }
  }


  /*
   * .--small.--bottom.--left
   */
  .case-study--small.case-study--bottom.case-study--left .case-study__content {
    @include to($breakpoint-medium) {
      @include golden-ratio-paddings(5,false,1);
    }
  }


  /*
   * .--small.--bottom.--right
   */
  .case-study--small.case-study--bottom.case-study--right .case-study__content {
    @include to($breakpoint-medium) {
      @include golden-ratio-paddings(5,1,false);
    }
  }
}

/**
 * section: M2DM/components/controls
 * title: Controls
 *
 * abstractLink: d78f0396-a867-406b-b24d-9ae6fa27c155
 *
 * purpose: Use to communicate the in-page action that will occur after user interaction.
 *
 * description: |
 *   They do not work as navigation i.e does not take you to a different page (CTA should be used instead)
 *   <br><br>
 *   They can be used to request information from the server but not to write new data
 *   <br><br>
 *   Actions should happen without a page refresh
 *   <br><br>
 *   Can open native browser modals/finder windows
 *
 */

// placeholders
@mixin radius-placeholder-toggle-inputs {
  $_toggle-inputs: (
    size: 1.5rem,
    transition-speed: 200ms
  );


  %toggle-inputs {
    position: relative;

    display: block;
    min-height: map-get($_toggle-inputs, size);
    padding-left: (map-get($_toggle-inputs, size) + 0.5rem);
    margin-bottom: 1.5rem;

    cursor: pointer;

    input {
      position: absolute;
      top: 0;
      left: 0;

      cursor: pointer;

      opacity: 0;
    }
  }


  %toggle-inputs-icon {
    position: absolute;
    top: 0;
    left: 0;

    display: block;
    width: map-get($_toggle-inputs, size);
    height: map-get($_toggle-inputs, size);

    background: get-color(blue, 3x-light);
    border: 1px solid get-color(blue);

    transition: all map-get($_toggle-inputs, transition-speed) ease;
    transition-property: border, box-shadow, background;
  }

  %toggle-inputs-focus {
    border-color: get-color(purple, x-light);

    box-shadow: 0 0 0 3px get-color(purple, x-light);
    -webkit-tap-highlight-color: transparent;
  }


  %toggle-inputs-hover {
    background: get-color(orange, 3x-light);
    border-color: get-color(orange);
  }


  %toggle-inputs-active {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    margin: auto;

    content: "";
    transform: scale(0);
    transition: transform map-get($_toggle-inputs, transition-speed) ease;
  }
}


// activate placeholders
@include radius-placeholder-toggle-inputs;

// components
/**
 * section: M2DM/components/controls/control-button
 * title: Control button
 *
 * activateComponent: radius-component-control-button
 *
 * abstractLink: d78f0396-a867-406b-b24d-9ae6fa27c155
 *
 * purpose: Use to perform utility tasks for the user.
 *
 * description: |
 *   Similar to the secondary CTA but with smaller font, padding and an increased radius.
 *
 *   ### Context
 *   The control button is a base component and can be used within larger components and layouts.
 *
 *   ### Behaviour
 *   The control button inherits its colours from the secondary button. It has 5 states.
 *
 *   ### Variants
 *   - `control-button--inverse`: For cases when the button will sit on dark backgrounds.
 *   - `control-button--enlarged`: Use to enlarge the clickable area of a button or link.
 *   - `control-button--icon-only`: Use to just display icon.
 *   - `control-button--info`: Use to indicate that there is info that needs to be displayed. To be used alongside text.
 *   - `control-button--processing`: Use to show operation is happening. To be used alongside text.
 *   - `control-button--success`: Use to indicate that a status has become successful. To be used alongside text.
 *   - `control-button--error`: Use to indicate that a something has failed. To be used alongside text.
 *
 *
 * layout: components/controls/scss/control-button/example
 *
 * markup: components/controls/scss/control-button/example-markup
 */

@mixin radius-component-control-button {
  $active-color: get-color(orange, contrast);
  $border-width: 1px; // stylelint-disable-line declaration-property-unit-whitelist
  $border-thick-width: 4px;
  $button-size: 2rem;
  $disabled-opacity: 0.7;
  $font-size: 1rem;
  $link-contrast-color: get-color(grey, contrast);
  $main-color: get-color(blue, contrast);
  $main-color-disabled: grayscale(darken($main-color, 5%));
  $inverse-color: get-color(white);
  $vertical-padding: ($button-size - $font-size) / 2;
  $horizontal-padding: 1rem;
  $icon-hit-area: -0.5rem;
  $icon-width: 1rem;

  @keyframes iconSpin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  .control-button {
    display: inline-block;
    // fallback for browsers which don't support calc
    padding: $vertical-padding $horizontal-padding;
    padding: calc(#{$vertical-padding} - #{$border-width}) $horizontal-padding;

    font-size: $font-size;
    line-height: 1;
    color: $main-color;
    text-align: center;
    text-decoration: none;
    vertical-align: middle;

    cursor: pointer;

    background-color: transparent;
    border-color: currentColor; // stylelint-disable-line declaration-property-value-whitelist
    border-style: solid;
    border-width: $border-width;
    //fallback for browsers which don't support calc
    border-radius: $button-size;
    border-radius: calc(#{$button-size} / 2 + #{$border-thick-width});


    &:hover,
    &:focus,
    &:active {
      outline: none;
    }


    &:hover {
      color: $active-color;

      transition: all 0.1s ease-in;
    }


    &:focus {
      margin: $border-width - $border-thick-width;

      border-color: get-color(purple, x-light);
      border-width: $border-thick-width;
    }


    &:active {
      color: $link-contrast-color;

      border-color: $active-color;

      transition: none;
    }


    &.is-disabled,
    &[disabled] {
      color: $main-color-disabled;

      pointer-events: none;

      border-color: $main-color-disabled;

      opacity: $disabled-opacity;
    }
  }


  .control-button--inverse {
    color: $inverse-color;
  }


  .control-button--enlarged {
    position: relative;


    &::before {
      position: absolute;
      top: $icon-hit-area;
      right: $icon-hit-area;
      bottom: $icon-hit-area;
      left: $icon-hit-area;

      content: "";
    }
  }


  .control-button--icon-only {
    width: $button-size;
    height: $button-size;
    padding: 0;

    text-align: center;


    &:focus {
      margin: 0;
    }
  }


  .control-button--info {
    color: get-color(grey, light);

    pointer-events: none;

    background: get-color(grey, 4x-light);
    border-color: get-color(grey, 2x-light);
  }


  .control-button--processing .svg-icon {
    animation-duration: 1.5s;
    animation-iteration-count: infinite;
    animation-name: iconSpin;
    animation-timing-function: cubic-bezier(0.17, 0.67, 0.83, 0.67);
  }


  .control-button--success {
    color: get-color(green);

    pointer-events: none;

    background: get-color(green, 3x-light);
    border-color: get-color(green);
  }


  .control-button--error {
    color: get-color(red);

    pointer-events: none;

    background: get-color(red, 3x-light);
    border-color: get-color(red);
  }


  // Deprecated - legacy code used before the icon system came in place
// documentation removed to avoid continued use
.control-button--icon {
  position: relative;


  &::after {
    position: absolute;
    top: 50%;
    right: 0.5rem;

    display: block;

    width: $icon-width;

    text-align: center;

    content: "";

    transform: translateY(-50%);
  }
}


.control-button--icon-before {
  padding-left: ($horizontal-padding + $icon-width);

  &::after {
    left: ($horizontal-padding * 0.75);
  }
}


.control-button--icon-after {
  padding-right: ($horizontal-padding + $icon-width);

  &::after {
    right: ($horizontal-padding * 0.75);
  }
}


.control-button--icon-close {
  &::after {
    margin-top: -3px; // stylelint-disable-line

    font-size: 1.7rem;
    font-weight: 100;

    content: "\00d7";
  }
}


.control-button--icon-play {
  &::after {
    font-size: 0.9rem;

    content: "\25b6";
  }
}

}

/**
 * section: M2DM/components/controls/control-checkbox
 * title: Checkbox button
 *
 * activateComponent: radius-component-control-checkbox
 *
 * abstractLink: d78f0396-a867-406b-b24d-9ae6fa27c155
 *
 * purpose: Use to allow users to choose between two different states by turning an option on or off.
 *
 * description: |
 *   A checkbox is not mutually exclusive. Multiple checkboxes can be used when the choices are obvious.
 *
 *   ### Context
 *   The checkbox is a base component and can be used within larger components and layouts.
 *
 *   ### Behaviour
 *   The control button inherits its colours from the secondary button. It has 5 states. Make it clear with words when users can select one or multiple options. The label should be included in the hit radius of the buttons
 *
 *   ### Modifiers
 *   * `control-checkbox--loud` - add this class if you want the checkbox and label to be more visible. This modifier also requires the label to be wrapped inside a span with class `control-checkbox__label` (see example)
 *
 * layout: components/controls/scss/control-checkbox/example
 *
 * markup: components/controls/scss/control-checkbox/example-markup
 */


@mixin radius-component-control-checkbox {
  $variant-padding: 1rem;

  .control-checkbox {
    @extend %toggle-inputs;
  }


  .control-checkbox__icon {
    @extend %toggle-inputs-icon;

    border-radius: 15%;
  }


  .control-checkbox__input:focus + .control-checkbox__icon:not(:hover) {
    @extend %toggle-inputs-focus;
  }


  .control-checkbox__input:checked + .control-checkbox__icon,
  .control-checkbox:hover .control-checkbox__icon {
    @extend %toggle-inputs-hover;
  }


  .control-checkbox__icon::before {
    @extend %toggle-inputs-active;

    width: 80%;
    height: 80%;

    background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNDYgMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KPHBvbHlnb24gcG9pbnRzPSIxNi45NjkgMjIuNjI3IDUuNjU2MiAxMS4zMTQgMCAxNi45NzEgMTYuOTY5IDMzLjk0MSA0NS4yNSA1LjY1NjkgMzkuNTk0IDAiIGZpbGw9IiMwMDAiLz4NCjwvZz4NCjwvc3ZnPg0K");
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;
  }


  .control-checkbox__input:checked + .control-checkbox__icon::before {
    transform: scale(1);
  }


  .control-checkbox--loud {
    padding: 0;
  }


  .control-checkbox--loud .control-checkbox__icon {
    top: $variant-padding;
    left: $variant-padding;
  }


  .control-checkbox--loud .control-checkbox__label {
    display: block;
    padding: $variant-padding;
    padding-bottom: calc(#{$variant-padding} - 1px); // stylelint-disable-line declaration-property-unit-whitelist
    padding-left: $variant-padding + 2rem;

    background: get-color(blue, 3x-light);
    border: 1px solid get-color(grey, x-light);
  }

  .control-checkbox--loud .control-checkbox__input:checked ~ .control-checkbox__label,
  .control-checkbox--loud:hover .control-checkbox__label {
    background: get-color(orange, 3x-light);
  }
}

/**
 * section: M2DM/components/controls/control-icon
 * title: Control icon
 *
 * activateComponent: radius-component-control-icon
 *
 *
 * description: |
 *   Use when a button consists of solely an icon.
 *
 *   ### Context
 *   The icon button is a component and can be used within larger components and layouts.
 *
 *
 * markup: components/controls/scss/control-icon/example
 */

@mixin radius-component-control-icon {
  $active-color: get-color(orange, contrast);

  .control-icon {
    cursor: pointer;

    background-color: transparent;

    border: 0;


    &:hover .svg-icon,
    &:focus .svg-icon,
    &:active .svg-icon {
      color: $active-color;

      outline: none;

      transition: all 0.1s ease-in;
    }
  }
}

/**
 * section: M2DM/components/controls/control-radio
 * title: Radio button
 *
 * activateComponent: radius-component-control-radio
 *
 * purpose: Use to select a single option from a list.
 *
 * description: |
 *   ### Context
 *   The Radio button is a base component and can be used within larger components and layouts.
 *
 *   ### Behaviour
 *   The radio button inherits its colours from the secondary button. It has 5 states. For more than two options, radio buttons should be stacked. The label should be included in the hit radius of the buttons
 *
 *
 * layout: components/controls/scss/control-radio/example
 *
 * markup: components/controls/scss/control-radio/example-markup
 */


@mixin radius-component-control-radio {
  $checked-size: 0.5rem;

  .control-radio {
    @extend %toggle-inputs;
  }


  .control-radio__icon {
    @extend %toggle-inputs-icon;

    border-radius: 50%;
  }


  .control-radio__input:focus + .control-radio__icon:not(:hover) {
    @extend %toggle-inputs-focus;
  }


  .control-radio__input:checked + .control-radio__icon,
  .control-radio:hover .control-radio__icon {
    @extend %toggle-inputs-hover;
  }


  .control-radio__icon::before {
    @extend %toggle-inputs-active;

    width: $checked-size;
    height: $checked-size;

    background: get-color(black);
    border-radius: 50%;
  }


  .control-radio__input:checked + .control-radio__icon::before {
    transform: scale(1);
  }
}


/**
 * section: M2DM/components/cookie-statement
 * title: Cookie Statement
 *
 * activateComponent: radius-component-cookie-statement
 * jsModule: cookie-statement
 * jsFunction: cookieStatement
 *
 * abstractLink: 59d127c9-d1dd-41e7-951c-7f7c15af049d
 *
 * purpose: Use to notify first-time users about our cookies policy and allow the option to read more about this policy as per the current EU "Cookie Law" requirements.
 *
 * description: |
 *   Cookie statement is designed to be used as a stand alone section, that appears fixed at the bottom of the viewport and remains fixed to the bottom of the viewport as the user scrolls. 
 *   
 *   Until users provide consent by selecting the 'Accept and dismiss` CTA.
 *
 *   The javascript is triggered by the addition of the attribute [data-js-cookie-statement].
 *   In order to deal with different countries (folders) on the same domain we need to add the attribute [data-js-cookie-statement-path="/"] in order to separate cookies for different folders on the same URL.
 *
 * markup: components/cookie-statement/cookie-statement
 *
 */


@mixin radius-component-cookie-statement {
  .cookie-statement {
    position: fixed;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 100;

    width: 100%;

    padding-top: 1rem;
    padding-bottom: 1rem;

    color: get-color(white);

    background-color: get-color(grey, contrast);

    transform: translateY(100%);
    transition: transform 0.5s ease;


    &.is-enabled {
      transform: translateY(0);
    }
  }


  .cookie-statement__wrapper {
    @include font(small);
    @include page-grid;

    display: flex;
    justify-content: space-between;
  }


  .cookie-statement__grid {
    @include page-grid;
  }


  .cookie-statement__wrapper > * {
    display: inline-block;
  }


  .cookie-statement__content {
    padding-right: 1rem;
  }
}

/**
 * section: M2DM/components/cta
 * title: CTA
 *
 * activateComponent: radius-component-cta
 *
 * abstractLink: 5184a641-a695-4376-bacc-426a206f5a7a
 *
 * purpose: Use to signify that the user needs to take an action.
 *
 * description: |
 *   Can be used in any context but when pairing a primary CTA with a secondary action, use a text link for the secondary action.
 *   For disabled buttons, apply the class `is-disabled` or simply add the `disabled` attribute. For disabled links, simply apply the class `is-disabled`.
 *
 *   ### variations:
 *     - `cta-secondary--inverse`: For cases when the button will sit on dark backgrounds.
 *     - `cta--block`: Purpose is to create a perception that the button is related to the other elements that are grouped with it by creating a sense of continuation and symmetry. The block button does this by filling the full width of it’s container on small screens to visually align with other elements that also fill the container’s full width. A requirement for the cta block is to be wrapped in a block container.
 *     - `cta--minor`: reduces the size of the cta
 *     - `cta-primary--process`: Variation of primary button that should be used when the action of the button is not instant (e.g. waiting for the response from the server when posting a form). For the processing state to be active, the button requires the `is-processing` class. When the processing state is active, the text of the button will be replaced with the content of the `data-process-text` attribute. Works with both regular and `cta--minor` variation.
 *
 *
 * layout: components/cta/example
 *
 * markup: components/cta/example-markup
 */

/**
 * section: M2DM/components/cta/layout-patterns
 * title: CTA combo
 *
 * activateComponent: radius-component-cta-combo
 *
 * purpose: Use to pair a primary CTA with a secondary action within a predefined layout pattern.
 *
 * description: |
 *   You must use a text link for the secondary action when pairing with a primary CTA.
 *
 * markup: components/cta/scss/layout-patterns/cta-combo
 */

@mixin radius-component-cta-combo {
  $cta-divider-hspace: 0.5rem;


  .cta-combo {
    @include font(large);
  }


  .cta-combo__primary {
    display: inline-block;

    margin-right: $cta-divider-hspace;
  }


  .cta-combo__secondary-wrap {
    display: inline-block;

    padding-top: 0.5rem;

    color: inherit;
  }


  .cta-combo__secondary {
    margin-left: 0;
  }
}


@mixin radius-component-cta {
  $active-color: get-color(orange, contrast);
  $border-width: 1px; // stylelint-disable-line declaration-property-unit-whitelist
  $button-height: 3rem;
  $contrast-color: get-color(white);
  $contrast-color-disabled: grayscale(darken($contrast-color, 5%));
  $contrast-color-darken: darken($contrast-color, 5%);
  $disabled-opacity: 0.7;
  $font-size: 1.25rem;
  $link-color: get-color(grey);
  $link-contrast-color: get-color(grey, contrast);
  $link-color-disabled: lighten($link-color, 5%);
  $main-color: get-color(blue, contrast);
  $main-color-disabled: grayscale(darken($main-color, 5%));
  $main-color-lighten: lighten($main-color, 5%);
  $main-color-darken: darken($main-color, 5%);
  $vertical-padding: ($button-height - $font-size) / 2;
  $horizontal-padding: 1.5rem;
  $hit-area-vspace: 0.5rem;
  $hit-area-offset: -$hit-area-vspace;
  $text-hover: lighten(get-color(white), 5%);

  $height-minor: 2rem;
  $font-size-minor: 1rem;
  $horizontal-padding-minor: 0.5rem;
  $vertical-padding-minor: ($height-minor - $font-size-minor) / 2;

  $process-icon-size: 1.5rem;
  $process-icon-size-minor: 1rem;


  @keyframes ctaIconRotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }


  %cta {
    display: inline-block;
    // fallback for browsers which don't support calc
    padding: $vertical-padding $horizontal-padding;
    padding: calc(#{$vertical-padding} - #{$border-width}) $horizontal-padding;

    font-size: $font-size;
    line-height: 1;
    text-align: center;
    text-decoration: none;
    vertical-align: middle;

    cursor: pointer;
    border-style: solid;
    border-width: $border-width;
    border-radius: 0.5rem;

    transition: all 0.1s ease-in;

    &:hover,
    &:focus {
      outline: none;
    }


    &:active {
      transition: none;
    }
  }

  .cta--minor {
    padding: $vertical-padding-minor $horizontal-padding-minor; //  fallback for browsers without calc()
    padding: calc(#{$vertical-padding-minor} - #{$border-width}) $horizontal-padding-minor;

    font-size: $font-size-minor;
  }

  .cta-primary {
    @extend %cta;

    color: $contrast-color;

    background-color: $main-color;
    border-color: $main-color;


    &:hover,
    &:focus {
      color: $text-hover;

      background-color: $main-color-lighten;
      border-color: $main-color-lighten;
    }


    &:active {
      color: $contrast-color-darken;

      background-color: $main-color-darken;
      border-color: $main-color-darken;
    }
  }


  .cta-primary.is-disabled,
  .cta-primary[disabled] {
    color: $contrast-color-darken;

    pointer-events: none;

    background-color: $main-color-disabled;
    border-color: $main-color-disabled;

    opacity: $disabled-opacity;
  }


  .cta-primary--process {
    position: relative;
  }


  .cta-primary--process.is-processing {
    padding-left: ($process-icon-size + $horizontal-padding);

    color: get-color(grey, light);

    background: get-color(grey, 4x-light);

    border: 1px solid get-color(grey, 2x-light);
  }


  .cta-primary--process.cta--minor.is-processing {
    padding-left: ($process-icon-size-minor + $horizontal-padding-minor + 0.25rem);
  }


  .cta-primary--process .cta-primary__icon {
    position: absolute;
    top: 0;
    bottom: 0;
    left: ($horizontal-padding / 2);

    display: none;
    width: $process-icon-size;
    height: $process-icon-size;

    margin-top: auto;
    margin-bottom: auto;

    animation-duration: 1.5s;
    animation-iteration-count: infinite;
    animation-timing-function: cubic-bezier(0.17, 0.67, 0.83, 0.67);
  }

  .cta-primary--process.cta--minor .cta-primary__icon {
    left: $horizontal-padding-minor;

    width: $process-icon-size-minor;
    height: $process-icon-size-minor;
  }


  .cta-primary--process.is-processing .cta-primary__icon {
    display: inline-block;

    animation-name: ctaIconRotate;
  }


  .cta-primary--process::after {
    display: none;

    content: attr(data-process-text);
  }


  .cta-primary--process.is-processing span {
    display: none;
  }


  .cta-primary--process.is-processing::after {
    display: inline-block;
  }


  .cta-secondary {
    @extend %cta;

    color: $main-color;

    background-color: transparent;
    border-color: $main-color;


    &:hover,
    &:focus {

      color: $active-color;

      border-color: $active-color;
    }


    &:active {
      color: $link-contrast-color;

      border-color: $active-color;
    }
  }


  .cta-secondary--inverse {
    @extend %cta;

    color: $contrast-color;

    background-color: transparent;


    &:hover,
    &:focus {
      color: $active-color;

      border-color: $active-color;
    }


    &:active {
      color: $contrast-color;

      border-color: $active-color;
    }
  }


  .cta-secondary.is-disabled,
  .cta-secondary[disabled],
  .cta-secondary--inverse.is-disabled,
  .cta-secondary--inverse[disabled] {
    pointer-events: none;

    opacity: $disabled-opacity;
  }


  .cta-secondary.is-disabled,
  .cta-secondary[disabled] {
    color: $main-color-disabled;

    border-color: $main-color-disabled;
  }


  .cta-secondary--inverse.is-disabled,
  .cta-secondary--inverse[disabled] {
    color: $contrast-color-disabled;

    border-color: $contrast-color-disabled;
  }


  %text-link {
    display: inline-block;

    padding: $hit-area-vspace;
    margin: $hit-area-offset;

    font-family: inherit;
    font-size: inherit;
    line-height: inherit;

    text-decoration: none;

    background-color: transparent;

    border: 0;


    &::after {
      display: block;
      height: 0.125rem;

      content: "";
    }


    &:hover,
    &:focus {
      color: $active-color;

      outline: none;
      transition: all 0.1s ease-in;


      &::after {
        background-color: $active-color;
      }
    }


    &:active {
      transition: none;
    }
  }


  .cta-link {
    @extend %text-link;

    color: inherit;


    &::after {
      background-color: $main-color;
    }


    &:active {
      color: $link-contrast-color;
    }
  }


  .cta-link--inverse {
    @extend %text-link;

    color: $contrast-color;


    &::after {
      background-color: $main-color;
    }


    &:active {
      color: $contrast-color;
    }
  }


  .cta-link.is-disabled,
  .cta-link--inverse.is-disabled {
    color: $link-color-disabled;

    pointer-events: none;

    opacity: $disabled-opacity;


    &::after {
      background-color: $main-color-disabled;
    }
  }


  .cta-link--inverse.is-disabled {
    color: $contrast-color-disabled;
  }


  .cta--block {
    display: block;
    width: 100%;
    min-width: 10rem;


    @include from(mobile-medium) {
      display: inline-block;
      width: auto;
      max-width: 100%;
    }
  }
}

/**
 * section: M2DM/components/divider
 * title: Divider
 *
 * activateComponent: radius-component-divider
 *
 * purpose: Use to divide content when other visual cues are not used to do so.
 *
 * description: |
 *  
 *   Adds an `hr` tag that is a 1px high light-grey line. Can be used in conjunction with vertical spacing classes for extra effect.
 *
 * markup: components/divider/example
 *
 */

@mixin radius-component-divider {
  .divider {
    width: 100%;
    height: 1px; // stylelint-disable-line declaration-property-unit-whitelist

    padding: 0;
    margin: 0;

    background: get-color(grey, 2x-light);

    border: 0;
  }
}

/**
 * section: M2DM/components/dropdown
 * title: Dropdown
 *
 * activateComponent: radius-component-dropdown
 *
 * abstractLink: 97651dc3-42e3-491a-b266-4bdcc85e7c0a
 *
 * purpose: Use to summon options that are related to a single theme or concept that would be too numerous to list in view all at once.
 *
 * description: |
 *   It consists of a clickable toggle and a hidden dropdown window which holds the additional content. Clicking the toggle element(the one visible on the page) will make the dropdown window appear.
 *   
 *   In some contexts, the dropdown component contains an icon in front of each option. In this case the component requires the modifier class: `dropdown--with-icons` responsible for maintaing the space consistent between the icon and the dropdown option.
 *   
 *   The component makes use of the toggler functionality which can be found here: `globals/js/toggle`.
 *
 *   ### Environment specific behaviour:
 *   When JavaScript is not available the hidden content in the dropdown window will not be visible.
 *
 *   ### Data attributes:
 *   - `[data-js-toggle]`: This attribute should be added to the dropdown wrapper.
 *   - `[data-js-toggle-switch]`: This attribute should be added to the element responsible for toggling the dropdown window display.
 *
 * markup: components/dropdown/example
 */

@mixin radius-component-dropdown {
  $tooltip-square-diagonal: 1.235rem;
  $menu-item-left-padding: 1rem;
  $switch-icon-width: 1.5rem;
  $switch-icon-vspace: 0.5rem;
  $accent-color: get-color(orange, contrast);
  $dropdown-menu-color: get-color(grey, 2x-light);

  .dropdown {
    position: relative;
    
    max-width: 18rem;
  }


  .dropdown__selected-item {
    position: relative;

    margin-right: 0.5rem;

    cursor: pointer;


    // Window's tooltip
    &::after {
      @include z-index(nav, 2, absolute);

      top: 100%;
      right: calc((#{$switch-icon-width} + 1px) * (-1));

      display: none;
      width: 0.875rem;
      height: 0.875rem;
      
      // stylelint-disable declaration-property-unit-whitelist
      margin-top: calc(#{$tooltip-square-diagonal/2} - 1px); // the border width needs to be extracted from margin;
      // stylelint-enable

      background-color: get-color(white);
      border-top: 1px solid $dropdown-menu-color;
      border-left: 1px solid $dropdown-menu-color;
      border-top-left-radius: 6px;
      
      content: "";
      transform: rotate(45deg);
    }
  }


  .dropdown__selected-option {
    line-height: 1;
    
    white-space: nowrap;


    &:focus {
      outline: none;
    }
  }


  .dropdown__selected-option > * {
    vertical-align: middle;
  }


  .dropdown__menu {
    @include z-index(nav, 1, absolute);

    top: 100%;
    left: 0;

    display: none;
    width: 18rem;

    padding: 1rem 0;
    margin-top: 1rem;
    margin-bottom: 0;

    text-align: left;

    list-style: none;

    background-color: get-color(white);
    border: 1px solid $dropdown-menu-color;
    border-radius: 5px;

    box-shadow: 0 2px 4px rgba(get-color(black), 0.2);
  }


  .dropdown__menu > * {
    &:not(:last-child) {
      margin-bottom: 0.5rem;
    }
  }


  .dropdown__menu-item {
    @include font(medium);
    
    display: block;

    padding-left: $menu-item-left-padding;

    color: get-color(grey, light);


    &:hover {
      color: $accent-color;
    }


    &:focus {
      padding-left: calc(#{$menu-item-left-padding} - 2px); // stylelint-disable declaration-property-unit-whitelist

      color: get-color(grey, contrast);

      border-left: 2px solid $accent-color;
    }
  }


  .dropdown__menu-item > * {
    vertical-align: middle;
  }


  .dropdown.is-active {
    .dropdown__menu {
      display: block;
    }


    .dropdown__selected-item {
      &::after {
        display: block;
      }
    }
  }


  .dropdown--with-icons {
    .dropdown__icon {
      margin-right: 0.5rem;
    }
  }
}

/**
 * section: M2DM/components/feature-list
 * title: Feature list
 *
 * activateComponent: radius-component-feature-list
 *
 * abstractLink: 07dcd6b8-6334-4af8-a4e3-6caf6f9771a9
 *
 * reactDescription: |
 *  To generate the list, pass the `<FeatureList.Item/>` as children to the `<FeatureList/>` component. Each `<FeatureList.Item/>` should represent a list item. For darker backgrounds, you can set the `contrast` prop to `true`. If the list requires extra classes, you can pass them as a string to the `extraClasses` prop.
 *
 * reactUsage: components/feature-list/react/example
 *
 * reactProps: |
 *  - `contrast`: boolean (false)
 *  - `extraClasses`: string
 *
 * purpose: Use to highlight and sell our features to prospects in a scannable and easy to digest manner.
 *
 * description: |
 *  This component fills all the space available and will wrap to form columns in tighter spaces.
 *  <br><br>
 *  To use the feature list inside the <em>Hero Sidekick</em>, add the class `hero-sidekick__content-grid` on the Feature List `ul` tag. A maximum of 5 items are allowed in the Feature List when combining with the Hero Sidekick.
 *
 * markup: components/feature-list/example
 */

@mixin radius-component-feature-list {
  $icon-area-width: 2rem;
  $icon-width: 1.1875rem;
  $icon-height: 0.9375rem;
  $tick-icon: "data:image/svg+xml;base64,ICA8c3ZnIHZpZXdCb3g9IjAgMCAxOSAxNSIgd2lkdGg9IjE5IiBoZWlnaHQ9IjE1IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yIDYuMTY4TDcuNTI1IDEyIDE3IDIiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlPSIjRkY2QjAwIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4K";


  .feature-list {
    padding-left: 0;
    margin: 0;

    list-style: none;
  }


  .feature-list__item {
    padding-left: $icon-area-width;
    margin-bottom: 1rem;

    background-image: url($tick-icon);
    background-position: left 0.25rem;
    background-repeat: no-repeat;
    background-size: $icon-width $icon-height;
  }
}

/**
 * section: M2DM/components/footer
 * title: Footer
 *
 * activateComponent: radius-component-footer
 *
 * abstractLink: 2f7fff8f-e78a-4640-9649-4d754d90178a
 *
 * purpose: Use to hold page closing information.
 *
 * description: |
 *  Depending on the type of the page, you can chose one of the following component variants:
 *   - standard footer, with mini sitemap, social links and legal section
 *   - footer with no legal section
 *   - minimal footer with no mini sitemap, social links or legal section
 *   
 *   See the examples below for usage.
 *
 *
 * layout: components/footer/layout
 *
 * markup:
 *   - name: Standard footer
 *     partial: components/footer/examples/standard
 *   - name: Footer with no legal bit
 *     partial: components/footer/examples/no-legal
 *   - name: Minimal footer for maximum conversion
 *     partial: components/footer/examples/minimal
 *
 */

@mixin radius-component-footer {
  $vertical-spacing-default: 3rem;
  $vertical-spacing-compact: 2rem;
  $horizontal-spacing-default: 1.5rem;
  $horizontal-spacing-compact: 0.5rem;
  $compact-layout: tablet-small;
  $comfortable-layout: desktop-medium;
  $active-color: get-color(orange, contrast);
  $neutral-color: get-color(grey, x-light);

  .footer {
    padding-top: $vertical-spacing-default;
    padding-bottom: $vertical-spacing-default;

    color: get-color(grey, 2x-light);

    background-color: get-color(grey, contrast);
  }


  .footer__inner {
    @include page-grid;
  }

  .footer__row-1 {
    @include breakpoint(from $comfortable-layout) {
      @include columns-no-padding(2 1);
    }
  }


  .footer__row-2 {
    @include breakpoint(to $compact-layout) {
      text-align: center;
    }


    @include breakpoint(from $compact-layout) {
      @include columns(2 1);
    }
  }


  .footer__nav-lists {
    word-wrap: break-word;


    @include breakpoint(from $compact-layout) {
      @include columns(1 1 1);
    }


    @include breakpoint(to $comfortable-layout) {
      margin-bottom: $vertical-spacing-compact;


      &::after {
        display: block;
        width: 100%;
        height: 0.0625rem;

        background-color: $neutral-color;

        content: "";
      }
    }


    @include breakpoint(from $compact-layout to $comfortable-layout) {
      &::after {
        margin-right: $horizontal-spacing-default;
        margin-left: $horizontal-spacing-default;
      }
    }
  }


  .footer__nav-lists > * {
    padding-bottom: $vertical-spacing-compact;


    @include breakpoint(from $compact-layout) {
      padding-bottom: $vertical-spacing-default;
    }
  }


  .footer__list {
    padding-left: 0;
    margin-top: 0;
    margin-bottom: 0;

    list-style: none;
  }


  .footer__list,
  .footer__list-heading {
    @include font(medium, false);

    line-height: 1.5;
  }


  .footer__list-heading {
    margin-bottom: 0;

    font-weight: bold;
    color: get-color(white);
  }


  .footer__list--inline {
    padding-bottom: $vertical-spacing-compact;
    margin-left: $horizontal-spacing-compact * (-1);


    @include breakpoint(from $compact-layout) {
      padding-bottom: 1rem;
    }
  }


  .footer__list--inline > * {
    display: inline-block;
    padding-right: $horizontal-spacing-compact;
    padding-left: $horizontal-spacing-compact;
  }


  .footer__links a {
    color: inherit;


    &:hover,
    &:focus,
    &:active {
      color: $active-color;
    }
  }


  .footer__copy-legal,
  .footer__copyright {
    @include font(small, false);

    margin-bottom: 0;

    color: get-color(grey, x-light);
  }


  .footer__copy-legal {
    padding-bottom: $vertical-spacing-compact;


    @include breakpoint(from $compact-layout) {
      padding-right: $horizontal-spacing-default;
      padding-left: $horizontal-spacing-default;

      text-align: justify;
    }
  }


  .footer__copyright {
    @include breakpoint(to $compact-layout) {
      padding-bottom: 1rem;
    }
  }


  .footer__list--social > * {
    display: inline-block;


    &:not(:first-child) {
      padding-left: $horizontal-spacing-compact;
    }
  }


  .footer__list--social {
    @include breakpoint(from $compact-layout) {
      text-align: right;
    }
  }
}

/**
 * section: M2DM/components/forms
 * title: Forms
 *
 * abstractLink: 4d81f086-67b5-41f2-a973-6e8ff47f91cf
 *
 * description: |
 *   Form components are used for capturing and submitting user data.
 */

/**
 * section: M2DM/components/forms/atoms
 * title: Atoms
 *
 * purpose: Use to create form elements with basic components.
 *
 * description: |
 *   They should not be used on their own. They must be used only coupled with other form atoms inside a `form-element` component.
 */

/**
 * section: M2DM/components/forms/atoms/form-element
 * title: Form element
 *
 * purpose: Use to structure a form element from a shell component.
 *
 * description: |
 *   This element should manage the validation of the elements in it. The inputs from inside the `.form-element__elements` should set the state class (`is-error` or `is-success`) to this element and all children should react accordingly.<br><br>
 *
 *   The shell component is a wrapper comprised of:
 *   - a label container for the label
 *   - the form element container for the form element that the user can interact with (*e.g.* an input, a collection of inputs)
 *   - a status container for the status message relating to the form element (error/success/warning messages, other statuses related to the input element, etc.).<br><br>
 *
 * markup: components/forms/atoms/form-element/markup
 */

@mixin radius-component-form-element {
  .form-element {
    margin-bottom: 1.5rem;


    &.is-error {
      .form-element__elements {
        margin-bottom: 0.25rem;
      }
    }
  }
}

/**
 * section: M2DM/components/forms/atoms/form-input
 * title: Form input
 *
 * warningContent: Must not be used on its own. Should be coupled with other form atoms inside a `form-element` component.
 *
 * purpose: Use to enable users to provide information.
 *
 * description: |
 *   The information can be provided through a range of different types of input fields (*e.g* checkboxes, date, email etc.).<br><br>
 *
 *   Depending on the value of its `type` attribute, the functionality of the input can change considerably.<br><br>
 *
 *   The input usually consists of an icon that represents a visual indication of the type of action that needs to be performed. In general, the icon has usually a decorative purpose but it can also be used as a control allowing the user to interact with the input. In this case, the variant class `form-input__icon--control` needs to be added on the `.form-input__icon` element.
 *
 * markup: components/forms/atoms/form-input/layout
 */

@mixin radius-component-form-input {
  $input-height: 3rem;

  ::placeholder {
    color: get-color(grey, x-light);
  }


  .form-input {
    position: relative;

    display: block;
    width: 100%;
  }


  .form-input__element {
    @include font(medium);

    display: block;
    width: 100%;
    height: $input-height;
    padding: 0.75rem 1rem;

    color: get-color(grey, base);

    background-color: get-color(white);

    border: 0;
    border-radius: 0;

    box-shadow: 0 0 0 1px get-color(grey, 2x-light);

    appearance: none;


    &:hover {
      box-shadow: 0 0 0 1px get-color(grey, light), 0 0 0 3px get-color(grey, 3x-light);
    }


    &:focus {
      outline: none;
      box-shadow: 0 0 0 1px get-color(grey), 0 0 0 3px get-color(blue, x-light);
    }
  }


  .is-error .form-input__element {
    border-color: get-color(red);
  }


  .form-input--icon .form-input__element {
    padding-right: $input-height - 0.5rem;
  }


  .form-input__icon {
    position: absolute;
    top: 0;
    right: 0.75rem;

    height: $input-height;
    padding: 0;

    line-height: $input-height;
    color: get-color(grey, x-light);


    &:not(.form-input__icon--control) {
      pointer-events: none;
    }
  }
}

/**
 * section: M2DM/components/forms/atoms/form-label
 * title: Form label
 *
 * warningContent: Must not be used on its own. Should be coupled with other form atoms inside a `form-element` component.
 *
 * purpose: Use to provide information to the user about the element it introduces.
 *
 * description: |
 *   A labelable form-related element with an ID matching the value of the label's `for` attribute is called a labelled control for this label element.<br><br>
 *   It is **always important** to provide labels for controls, to inform the user about the control's purpose; and explicitly associate the label with its control (*e.g.* using the `for` attribute) to improve accessibility for screen readers in form mode.<br><br>
 *
 * markup: components/forms/atoms/form-label/markup
 */

@mixin radius-component-form-label {
  .form-label {
    display: block;
    margin: 0 0 0.5rem;

    color: get-color(grey, light);
  }


  .form-label > * {
    vertical-align: middle;
  }


  .form-label__icon-error,
  .form-label__icon-success {
    display: none;
  }


  .is-error .form-label {
    color: get-color(red, contrast);
  }


  .is-error .form-label__icon-error,
  .is-success .form-label__icon-success {
    display: inline-block;
    margin-left: 0.25rem;
  }
}

/**
 * section: M2DM/components/forms/atoms/form-field-status
 * title: Form field status
 *
 * warningContent: Must not be used on its own. Should be coupled with other form atoms inside a `form-element` component.
 *
 * purpose: Use to indicate the status of the form field it is paired with.
 *
 * description: |
 *   The status of a form field refers to a validation state or a summary of field contents.<br><br>
 *   This is hidden by default. Should be displayed when an error occurs. It's only visible if the wrapping form element has the `is-error` class.
 *
 *   ### Modifiers:
 *   - `form-field-status--always-visible` -  Forces visibility to `block` when the wrapping form element doesn't have the `is-error` class.
 *
 * markup: components/forms/atoms/form-field-status/markup
 */

@mixin radius-component-form-field-status {
  $icon-size: 1rem;
  $icon-copy-spacing: 0.25rem;

  .form-field-status {
    position: relative;

    display: none;
    padding-left: ($icon-size + $icon-copy-spacing);


    .is-error & {
      display: block;
    }
  }


  .form-field-status--always-visible {
    display: block;
  }


  .form-field-status__icon {
    position: absolute;
    top: 0;
    left: 0;

    transform: translateY(25%);
  }


  .form-field-status__copy {
    @include font(small);
  }
}

/**
 * section: M2DM/components/forms/atoms/form-select
 * title: Form select
 *
 * warningContent: Must not be used on its own. Should be coupled with other form atoms inside a `form-element` component.
 *
 * purpose: Use to provide the user with a menu of pre-defined options.
 *
 * description: |
 *   It should be used when a single selection is required from a large number of possible options.
 *
 * markup: components/forms/atoms/form-select/markup
 */

@mixin radius-component-form-select {
  $input-height: 3rem;
  $icon-width: 1rem;
  $icon-padding: 0.75rem;

  .form-select {
    position: relative;

    display: block;
    width: 100%;


    &::after {
      position: absolute;
      top: 0;
      right: 0;

      display: block;
      width: 2 * ($icon-padding + $icon-width);
      height: 100%;

      pointer-events: none;
      background: linear-gradient(to right, fade-out(get-color(white), 1), get-color(white) 1rem);

      content: "";
    }
  }


  .form-select__element {
    @include font(medium);

    display: block;
    width: 100%;
    height: $input-height;
    padding: 0.75rem 1rem;

    color: get-color(grey, base);

    background-color: get-color(white);

    border: 0;
    border-radius: 0;

    box-shadow: 0 0 0 1px get-color(grey, 2x-light);
    appearance: none;


    &:hover {
      box-shadow: 0 0 0 1px get-color(grey, light), 0 0 0 3px get-color(grey, 3x-light);
    }


    &:focus {
      outline: none;
      box-shadow: 0 0 0 1px get-color(grey), 0 0 0 3px get-color(blue, x-light);
    }
  }


  .is-error .form-select {
    border-color: get-color(red);
  }


  .form-select--icon .form-select__element {
    padding-right: $input-height - 0.5rem;
  }


  .form-select__icon {
    position: absolute;
    top: 0;
    right: $icon-padding;
    z-index: 1;

    height: $input-height;

    line-height: $input-height;
    color: get-color(grey, x-light);

    pointer-events: none;
  }
}



/**
 * section: M2DM/components/forms/input
 * title: Input
 *
 * purpose: Use to collect data from users and confirm the validity, formatting or completeness of the data that they enter.
 *
 * description: |
 *   The input component is composed of:
 *   <ul>
 *      <li>A **label** that introduces what data is required to be entered by the user. The label is accompanied by visual helpers (icons) that are hidden by default. The icons become visible when the validation (positive/negative) of the labeled control occurs.</li>
 *      <li>An **input** field that may or may not include placeholder text to provide guidance on the type or formatting of data that is to be entered (the input can be of different types, *e.g.* email, password, checkbox, number etc.)</li>
 *      <li>A **field status** that indicates when there is a change in the field's status such as validation errors (the field status is visible only if an error is reported).</li>
 *   </ul>
 *
 *
 *   ### Input validation:
 *   The input components inside `.form-element__elements` set the state class **is-error** or **is-success** on the form element (e.g. `.form-element`) and all children should react accordingly.
 *
 * modifiers:
 *   is-error: The class should be applied on the `.form-element` element if the input has an error. This status class is part of the negative validation and it is responsible for changing the visibility of the `field status` and changing the appearance of the whole `input` field and *label*.
 *   is-success: The class should be applied on the `.form-element` element if the input is valid. This status class is part of the positive validation signaling that the information provided fulfilled field's requirements. It is responsible for changing the visibility of the icons that accompanies the *input* field.
 *
 * markup: components/forms/input/markup
 */


/**
 * section: M2DM/components/header
 * title: Header
 *
 * activateComponent: radius-component-header
 * jsModule: header
 *
 * abstractLink: dcaec04e-53b0-4b0f-bd98-6314c0370a39
 *
 * purpose: Use to easily explore and switch between top-level pages in a single interaction.
 *
 * description: |
 *   Header containing 3 levels of navigation and an overlay that holds additional navigation links.<br><br>
 *   1) `.header__upper` - contains the geo locator, contact number (and opening times in some regions), and sign in link on larger screens. On smaller screens this section contains the logo, call us icon and copy and a sign in link.<br>
 *
 *   2) `.header__primary` - contains the logo on larger screen sizes (the logo is removed on smaller screens), a primary nav bar that has horizontal scrolling enabled and a menu icon, which opens the header overlay on click. The content in the overlay is contained within the `header-overlay__window`.<br>
 *
 *   3) `.header__secondary` - contains the current page title, as well as a secondary nav bar that has horizontal scrolling enabled<br><br>
 *
 *   ### Class modifiers
 *   - `is-current` - state class used to indicate the current page the user is on.<br>
 *   - `header__nav-link--is-cta` - use on links that are call to actions e.g. check your eligibility.<br>
 *   - `header__border` - optional class and is only needed when the secondary nav in it's default form (not required on the inverse version of the secondary nav).<br>
 *   - `header-overlay__window--extended` - allows more than 4 columns to be accommodated inside the main area of the overlay.<br>
 * 
 *   ### Dependencies
 *   This component requires the transitionsSupported module to be included:</br />
 *   `import transitionsSupported` from `radius/dist/m2dm/js/transitions-supported`;
 *
 * markup: components/header/example-header
 */

/**
 * section: M2DM/components/header/header-secondary
 * title: Standard secondary navigation
 *
 * description: |
 *    The secondary navigation is optional and contains the current page title, as well as a secondary navigation bar that has horizontal scrolling enabled, so ensure all navigation can be accessed on smaller screens<br><br>
 *    There are 2 variants of the secondary nav:<br>
 *    1) default/standard for use on neutral/light grey background (see example below) - which sits within the normal flow of the page (visible in default header example below)<br>
 *    2) an inverse state for use on a dark background or image [see example](/M2DM/components/header/header-secondary-inverse/).
 *
 * layout: components/header/layout-secondary-nav
 * markup-secondary: components/header/example-secondary
 */

/**
 * section: M2DM/components/header/header-secondary-inverse
 * title: Inverse secondary navigation
 *
 * description: |
 *    The secondary navigation is optional and contains the current page title, as well as a secondary navigation bar that has horizontal scrolling enabled, so ensure all navigation can be accessed on smaller screens.<br><br>
 *    See below for an example of the inverse version of the secondary navigation - for use over a dark solid background or darker image.<br><br>
 *    To  use this apply the `header__secondary--inverse` class to the secondary header navbar (see example markup below). This should be combined with the `header__secondary--fold-over` class, which takes the secondary nav out of the normal page flow and positions it over the content below.
 *
 * layout: components/header/layout-secondary-nav
 * markup-secondary-inverse: components/header/example-secondary
 */


/**
 * section: M2DM/components/header/header-minimal
 * title: Minimal
 *
 * description: |
 *   The purpose of the minimal header is to minimise distractions by removing unnecessary links and content and focuses the user on the critcal path to conversion. It contains 2 levels of navigation only and only critical links.<br>
 *
 * markup: components/header/example-minimal
 */


@mixin radius-component-header-overlay {  
  $control-color: get-color(grey, contrast);
  $row-vspacing: 2.5rem;
  $intro-vertical-spacing: 0.5rem;
  $main-vertical-spacing: 2.5rem;
  $compact-layout: mobile-medium;
  $comfortable-layout: tablet-large;


  .header-overlay[aria-hidden="true"] {
    display: none;
  } 


  .header-overlay__window {
    @include font(medium);
    @include z-index(modal, 4);

    position: absolute;
    top: 0;
    left: 0;

    width: 100%;
    height: 100%;

    overflow-y: scroll;
  
    background-color: get-color(grey, 4x-light);
  }


  .header-overlay__top-row {
    display: table;
    width: 100%;
    
    padding-top: $intro-vertical-spacing;
    padding-bottom: $intro-vertical-spacing;


    @include from($compact-layout) {
      padding-right: 1.5rem;
      padding-left: 1.5rem;
    }
  }


  .header-overlay__top-row,
  .header-overlay__row:not(:last-child) {
    position: relative;


    &::after {
      position: absolute;
      right: 0;
      bottom: 0;
      left: 0;
      
      display: block;
      
      height: 1px; // stylelint-disable-line declaration-property-unit-whitelist
      
      background: get-color(grey, 2x-light);
      
      content: "";
      
      
      @include from($compact-layout) {
        right: 1.5rem;
        left: 1.5rem;
      }
    }
  }


  .header-overlay__row {
    margin-top: $row-vspacing;
  }


  .header-overlay__top-row-item {
    display: table-cell;
    
    vertical-align: middle;
  }


  .header-overlay__top-row-item--geo {
    @include from($compact-layout) {
      display: none;
    }
  }


  .header-overlay__top-row-item--logo {
    @include to($compact-layout) {
      display: none;
    }
  }


  .header__close-btn {
    @include font(medium);
    
    color: $control-color;
    
    background-color: transparent;
    
    border: 0;


    &::before {
      padding-right: 0.25rem;
      
      font-size: 1.5rem;
      line-height: 1;
      
      content: "\00d7";
    }
  }


  .header-overlay__lists {
    width: 100%;
  }


  .header-overlay__lists > * {
    padding-bottom: $main-vertical-spacing;
    
    
    @include from($compact-layout) {
      padding-right: 1.5rem;
      padding-left: 1.5rem;
    }
  }


  .header-overlay--extended {
    @include from ($comfortable-layout) {
      .header-overlay__lists--main {
        display: flex;
        flex-flow: row wrap;
        justify-content: flex-start;
      }


      .header-overlay__lists--main > * {
        flex-basis: 33%;
      }
    }
  }


  .header-overlay__lists--main {
    @include from($comfortable-layout) {
      display: table;
    
      table-layout: fixed;
    }
  }


  .header-overlay__lists--main > * {
    vertical-align: top;
    
    
    @include from-to($compact-layout, $comfortable-layout) {
      display: inline-block;
      
      width: 49%;
      width: calc(50% - 0.5em); // stylelint-disable-line declaration-property-unit-whitelist
    }
    
    
    @include from($comfortable-layout) {
      display: table-cell;
      width: 1%;
    }
  }


  .header-overlay__context-link {
    @include font(large, false);
    
    margin-bottom: 0;
    
    font-family: get-config(font-family-primary);
    font-weight: bold;
    line-height: 1;
  }


  .header-overlay__context-details {
    @include font(medium);
    
    color: get-color(grey, light);
  }


  .header-overlay__context-details,
  .header-overlay__context-cta {
    margin-bottom: 1.5rem;
  }


  .header-overlay__list {
    padding-left: 0;
    margin-top: 0;
    margin-bottom: 0;
    
    list-style: none;
  }


  .header-overlay__list > * {
    margin-bottom: 1rem;
    
    line-height: 1;
  }


  .header-overlay__footer-lists {
    display: flex;
    align-items: flex-start;
    flex-flow: row wrap;
    justify-content: flex-start;
  }


  .header-overlay__footer-lists > * {
    width: 100%;
    
    
    @include from ($comfortable-layout) {
      flex-basis: 25%;
    }
  }


  .no-flexbox {
    .header-overlay__footer-lists {
      display: table;
      
      table-layout: fixed;
    }


    .header-overlay__footer-lists > * {
      display: table-cell;
      width: 1%;
      
      vertical-align: top;
    }
  }


  .header-overlay__list-link {
    @include font(medium, false);
    
    line-height: 1;
    
    color: get-color(grey);
  }


  .header-overlay__list-link--bold {
    font-weight: bold;
  }
}



@mixin radius-component-header {
  $current-link-color: get-color(orange);
  $active-color: get-color(orange, contrast);
  $border-color: get-color(grey, 2x-light);
  $cta-underline-color: get-color(blue, contrast);
  $cta-underline-height: 0.125rem;
  $horizontal-spacing-unit: 1rem;
  $vertical-spacing-unit: 0.5rem;
  $width-nav-gradient: 1rem;
  $header-height: 3rem;
  $header-height-thin: 2rem;
  $compact-layout: mobile-medium;

  // disable scrolling on the body when the overlay is open. Absolutely MUST NOT be overridden
  .header-overlay-open {
    overflow: hidden !important; // stylelint-disable-line declaration-no-important
  }


  .header {
    @include font(small, false);
    @include z-index(nav, $position: relative);

    line-height: 1.5;


    @include from($compact-layout) {
      @include font(medium, false);
    }
  }


  .header__inner {
    @include page-grid;
  }


  .header__upper,
  .header__navbar,
  .header__nav {
    display: flex;

    align-items: center;
  }


  .header__navbar {
    @include from($compact-layout) {
      margin-right: 1.5rem;
      margin-left: 1.5rem;
    }
  }


  .header__nav {
    margin-left: auto;
  }


  .header__primary .header__nav,
  .header__secondary {
    overflow: hidden;
  }


  .header__upper {
    width: 100%;
    min-height: $header-height;

    background: get-color(white);


    @include to($compact-layout) {
      border-bottom: 1px solid $border-color;
    }


    @include from($compact-layout) {
      min-height: $header-height-thin;

      color: get-color(grey, 2x-light);

      background-color: get-color(grey, contrast);
    }
  }


  .header__border,
  .header__navbar--secondary {
    border-bottom: 1px solid $border-color;
  }


  .header__secondary {
    color: get-color(grey, light);


    @include to($compact-layout) {
      display: none;
    }
  }


  .header__secondary--fold-over {
    position: absolute;
    top: 100%;
    right: 0;
    left: 0;
  }


  .header__nav--controls {
    @include font(small);

    padding-left: 0;
    margin-top: 0;
    margin-bottom: 0;

    list-style: none;
  }


  .header__nav--controls .header__nav-item {
    padding: 0.5rem;


    &:last-child {
      padding-right: 0;
    }
  }


  .header__nav-link {
    display: inline;
    padding: 0;

    background: none;
    border: 0;


    &:not(:first-child) {
      margin-left: $horizontal-spacing-unit;
    }
  }


  .header__primary .header__nav-link,
  .header__secondary .header__nav-link {
    padding-top: $vertical-spacing-unit;
    padding-bottom: $vertical-spacing-unit;
  }


  .header__primary .header__nav-link {
    @include to($compact-layout) {
      line-height: 2;
    }


    @include from($compact-layout) {
      padding-top: $vertical-spacing-unit * 2;
      padding-bottom: $vertical-spacing-unit * 2;
    }
  }


  .header__primary .header__nav--scrollable {
    padding-right: $horizontal-spacing-unit;
  }


  .header__nav-link,
  .header__secondary .header__nav-link,
  .header__nav-item .header__nav-link {
    color: inherit;

    white-space: nowrap;

    cursor: pointer;


    &:hover {
      color: $active-color;
    }
  }


  .header__secondary .header__nav-link {
    @include font(small, false);

    line-height: 2;
  }


  .header__nav-item--compact {
    @include from($compact-layout) {
      display: none;
    }
  }


  .header__nav-item--comfortable {
    @include to($compact-layout) {
      display: none;
    }
  }


  .header__nav-item--comfortable > *,
  .header__nav-item--compact > *,
  .header__nav-link > * {
    vertical-align: middle;
  }


  .header__nav--scrollable {
    -webkit-overflow-scrolling: touch;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    overflow-x: auto;
    overflow-y: hidden;

    white-space: nowrap;


    &::-webkit-scrollbar {
      display: none;
    }
  }


  .header__logo {
    display: block;
    width: 6.25rem;
    padding-top: $vertical-spacing-unit;
    padding-bottom: $vertical-spacing-unit;
  }


  .header__logo img {
    display: block;
    width: 100%;
    padding-right: 0.5rem;

    vertical-align: middle;
  }


  .header__logo--compact {
    width: 5rem;
  }


  .header__logo--compact,
  .header__logo--compact img {
    @include from($compact-layout) {
      display: none;
    }
  }


  .header__logo--comfortable,
  .header__logo--comfortable img {
    min-width: 6.25rem;


    @include to($compact-layout) {
      display: none;
    }
  }


  .header__page-title {
    padding-right: $horizontal-spacing-unit;

    font-weight: bold;
    white-space: nowrap;
  }


  .header__menu-icon::before,
  .header__navbar--secondary::after {
    position: absolute;

    display: none;

    width: $width-nav-gradient;
    height: 100%;

    pointer-events: none;

    background: linear-gradient(to right, rgba(get-color(white), 0.15), rgba(get-color(white), 0.95) 60%);

    content: "";
  }


  .header__menu-icon {
    position: relative;

    vertical-align: middle;
    white-space: nowrap;


    &::before {
      left: $width-nav-gradient * -1;


      @include to(tablet-medium) {
        display: block;
      }
    }
  }


  .header__navbar--secondary {
    position: relative;


    &::after {
      right: 0;


      @include to(tablet-medium) {
        display: block;
      }
    }
  }


  .header__nav-link.is-current {
    box-shadow: inset 0 -0.125rem 0 $current-link-color;


    &:hover {
      box-shadow: inset 0 -0.125rem 0 $active-color;
    }
  }


  .header__secondary .header__nav-link.is-current {
    font-weight: bold;
  }


  .header__nav-link--is-cta {
    &::after {
      display: block;
      height: $cta-underline-height;
      margin-top: $cta-underline-height * -1;

      background-color: $cta-underline-color;

      content: "";
    }


    &:hover::after {
      background-color: $active-color;
    }
  }


  .header__secondary--inverse {
    .header__navbar--secondary::after {
      display: none;
    }


    .header__page-title,
    .header__nav-link:not(:hover) {
      color: get-color(white);
    }


    .header__navbar--secondary {
      border-color: get-color(white);
    }


    .header__nav-link.is-current {
      box-shadow: inset 0 -0.125rem 0 get-color(white);


      &:hover {
        box-shadow: inset 0 -0.125rem 0 $active-color;
      }
    }
  }


  .header-overlay {
    @include z-index(modal, 3);

    position: fixed;

    top: $header-height;
    bottom: 0;
    left: 0;

    width: 100%;


    @include from($compact-layout) {
      top: $header-height-thin;
    }
  }


  .header.is-active .header__upper {
    @include z-index(modal, 5, fixed); // needs to sit on top of the modal header-overlay because of the dropdown

    top: 0;
    left: 0;
  }


  .no-flexbox {
    .header::after,
    .header__navbar::after {
      display: block;
      width: 100%;
      clear: both;

      content: "";
    }


    .header__page-title,
    .header__logo {
      float: left;
    }


    .header__nav {
      float: right;
    }


    .header__navbar {
      width: 100%;
    }


    .header__primary .header__nav {
      display: table;
    }


    .header__nav > * {
      display: table-cell;
    }


    .header__navbar--secondary .header__nav-link {
      display: inline-block;
      margin-left: 1rem;
    }


    .header__page-title,
    .header__nav--scrollable {
      vertical-align: middle;
    }
  }


  // remove once icons PR is merged
  .icon {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    overflow: hidden;
    fill: currentColor;
  }


  .icon--small {
    width: 0.8125rem;
    height: 0.8125rem;
  }
}

/**
 * section: M2DM/components/hero
 * title: Heroes
 *
 * activateComponent: radius-component-hero
 *
 * abstractLink: 89fc7dcd-567d-42d7-9e2a-cc4e913f6e50
 *
 * purpose: Use to set context for a page through a headline introducing the content.
 *
 * description: |
 *  This component often contains a text block component and CTAs. The only difference between the FUNCTIONAL HERO and the BRAND HERO is the Title (different font, size and colour).
 *   <br><br>
 *   When this components is called a certain necessary layout is created. The hero needs to spread across the whole viewport width, but the content inside will be contained within the page grid (see: `layout-patterns/page grid`). The content's layout pattern will follow a 4:1 grid on mobile and a 2:1 on desktop following the golden ratio proportions. For desktop, the content will also be padded with the standard 1.5rem gutter on the left and right side.
 *   <br><br>
 *   This component should always be used in conjunction with the `hero-customisation` mixin for setting the background image and colour. First parameter of this mixin is the relative path to the folder containing all the different versions of the background image; the images should be saved as follows: _portrait-s.jpg_, _portrait-l.jpg_, _landscape-s.jpg_, _landscape-l.jpg_ (from small resolutions to large ones and the screen ratio; check example for info on how each variant should differ).
 *   <br><br>
 *   To load different character-set fonts for other languages, define "$radius-config-brand-font-file" before the radius is loaded on "/m2dm/sass/init/_config.scss".
 *   <br><br>
 *   The `hero__caption` element is optional.
 *
 * sassUsage: |
 *
 *   @include radius-component-hero;
 *
 *   .hero {
 *      @include hero-customisation(images);
 *   }
 *
 *
 * markup: components/hero/example
 *
 */

/**
 * section: M2DM/components/hero/brand
 * title: Brand Hero
 *
 * purpose: Use to set a context for the page and land the brand proposition clearly.
 *
 * description: |
 *   This component contains brand heading, copy text and CTAs following the same layout as the functional hero, the only difference being the usage of the Selfmade Sans font.
 *
 * markup: components/hero/brand-example
 *
 */

/**
 * section: M2DM/components/hero/functional
 * title: Functional Hero
 *
 * purpose: Use to set context for the page through a headline introducing the content.
 *
 * description: |
 *   This component contains section heading, copy text and CTAs following the same layout as the brand hero, the only difference being the usage of the Amasis font for the heading.
 *
 * markup: components/hero/functional-example
 *
 */

/**
 * section: M2DM/components/hero/editorial
 * title: Editorial Hero
 *
 * purpose: Use to set context for content focussed pages.
 *
 * description: |
 *    The titles of these pages are usually longer and require more detail to describe their content and demonstrate relevance to the user. The pages focus more on content than conversion, such as articles, tips and tricks or guides.
 *
 *
 * sassUsage: |
 *
 *   @include radius-component-hero;
 *
 *   .hero--editorial {
 *      @include hero-editorial-customisation("img/hero", #333d65);
 *   }
 *
 *
 * markup: components/hero/editorial-example
 *
 */

// This variable needs to live here as it is used in this file and in sidekick/index
$hero-component-v-padding: 2.5rem;

/**
 * section: M2DM/components/hero/sidekick
 * title: Hero sidekick
 *
 * activateComponent: radius-component-hero-sidekick
 *
 * purpose: Use to display content which complements the hero or needs to be above the fold.
 *
 * description: |
 *   The hero is paired with the sidekick, which is a bar that sits below the component and is slightly inset.
 *
 *   On mobile, there is no inset and the sidekick just takes up the full width and sits below the hero, like any other element.
 *
 *   ### To use it:
 *   - Add the sidekick markup as per the example below. Note it is a separate `section`, rather than a child within the hero section
 *   - Give the hero itself a modifier class of `hero--with-sidekick` (this will increase bottom padding of the hero so the sidekick doesn't overlap any hero content)
 *   - Use the `hero-sidekick-customisation` mixin to declare the sidekick background colour, and the background underneath the sidekick (should be the same background colour of the next section on the page)
 *
 *   ## Alternate version
 *
 *   An alternative version of the sidekick is also available by adding the modifier class `hero-sidekick--alt` to the sidekick element.
 *   This version differs from the main one in that it actually overlaps the following element.
 *   The reason for this alt version is so as to be able to overlap following elements that have background images.
 *   The second argument to the customisation mixin will be ignored for this version of the sidekick.
 *   The one constraint with the alt version of the sidekick is that it needs to contain as its first and only child a `div` element (There are no restrictions on the content of this element).
 *
 * sassUsage: |
 *
 *   @include radius-component-hero-sidekick;
 *
 *   .hero-sidekick {
 *       @include hero-sidekick-customisation(get-color(purple), get-color(yellow, light));
 *   }
 *
 *
 * layout: components/hero/scss/sidekick/example
 * markup: components/hero/scss/sidekick/example-markup
 *
 */


@mixin when-two-children() {
  > :nth-last-child(n + 2),
  > :nth-last-child(n + 2) ~ * {
    @content;
  }
}


@mixin radius-component-hero-sidekick {
  $sidekick-indent: 2.5rem;
  $columns-2-1: get-columns-widths(2 1);
  $columns-3-1: get-columns-widths(3 1);
  $columns-66-33: 100 * 2/3, 100 * 1/3;
  $column-gap: 3rem;


  @include from(mobile-medium) {
    .hero-sidekick {
      position: relative;

      margin-top: -1 * $sidekick-indent; // pushes the sidekick upwards
    }


    .hero-sidekick::after {
      position: absolute;
      top: 0;
      left: 0;
      z-index: -1;

      display: block;
      width: 100%;
      height: 100%;

      content: "";
    }


    .hero-sidekick--alt {
      @include z-index(content);
      height: 0;
      margin-top: 0;


      &::after {
        content: none;
      }

      overflow: visible;

      > * {
        transform: translateY(-50%);
      }
    }
  }


  .hero-sidekick__content-grid {
    @include from(mobile-large) {
      display: flex;
      justify-content: space-between;
    }


    @include breakpoint(from mobile-large to desktop-medium) {
      flex-wrap: wrap;


      > * {
        // three columns with 3rem gap
        width: calc(#{100 / 3 * 1%} - #{2/3 * $column-gap});
      }


      > :last-child:nth-child(odd) {
        margin-right: calc(#{100/3 * 1%} + #{1/3 * $column-gap}); //stylelint-disable-line declaration-property-unit-whitelist
      }
    }


    @include from(desktop-medium) {
      > * {
        // five columns with 3rem gap
        width: calc(#{100 / 5 * 1%} - #{4/5 * $column-gap});
      }
    }
  }


  .hero-sidekick__content {
    @include page-grid-responsive;

    display: flex;
    align-items: center;
    flex-direction: column-reverse;
    padding-top: 1rem;

    background-color: get-color(purple);


    > * {
      @include column-padding;

      width: 100%;
    }


    @include from(mobile-medium) {
      flex-direction: row;
    }


    @include when-two-children() {
      // stylelint-disable block-opening-brace-space-before

      @include from(mobile-medium) {
        &.hero-sidekick__column-primary   { width: nth($columns-2-1, 1) * 1%; }
        &.hero-sidekick__column-secondary { width: nth($columns-2-1, 2) * 1%; }
      }


      @include from(mobile-large) {
        &.hero-sidekick__column-primary   { width: nth($columns-66-33, 1) * 1%; }
        &.hero-sidekick__column-secondary { width: nth($columns-66-33, 2) * 1%; }
      }


      @include from(desktop-small) {
        &.hero-sidekick__column-primary   { width: nth($columns-3-1, 1) * 1%; }
        &.hero-sidekick__column-secondary { width: nth($columns-3-1, 2) * 1%; }
      }


      &.hero-sidekick__content-grid {
        @include from(mobile-large)  {
          > * {
            // two columns with 3rem gap
            width: calc(#{100 / 2 * 1%} - #{1/2 * $column-gap});
          }
        }


        @include from(desktop-small) {
          > * {
            // four columns with 3rem gap
            width: calc(#{100 / 4 * 1%} - #{3/4 * $column-gap});
          }
        }
      }

      // stylelint-enable
    }
  }
}


@mixin hero-customisation($path, $content-bg-color: null, $editorial: false) {
  @if ($editorial) {
    .hero__background {
      @include hero-customisation-background($path);
    }
  } @else {
    @include hero-customisation-background($path);
  }


  @if ($content-bg-color) {
    .hero__content {
      background: $content-bg-color;
    }
  }
}


@mixin hero-customisation-background($path) {
  $path: unquote($path);

  background-color: get-color(grey, base);
  background-image: url("#{$path}/landscape-s.jpg");


  @media screen and (max-aspect-ratio: 1/1) {
    @include to(mobile-medium) {
      background-image: url("#{$path}/portrait-s.jpg");
    }

    @include from(mobile-medium) {
      background-image: url("#{$path}/portrait-l.jpg");
    }
  }


  @media screen and (min-aspect-ratio: 1/1) {
    @include to(tablet-medium) {
      background-image: url("#{$path}/landscape-s.jpg");
    }

    @include from(tablet-medium) {
      background-image: url("#{$path}/landscape-l.jpg");
    }
  }
}

@mixin hero-editorial-customisation($path, $content-bg-color: null) {
  @include hero-customisation($path, $content-bg-color, true);
}

@mixin hero-sidekick-customisation($sidekick-bg, $offset-bg:transparent) {
  .hero-sidekick__content {
    background: $sidekick-bg;
  }

  &::after {
    background: $offset-bg;
  }
}



@mixin radius-component-hero {
  // old IE fallback
  .no-flexbox {
    .hero {
      position: relative;
    }


    .hero__content {
      position: absolute;
      top: 50%;

      transform: translateY(-50%);
    }
  }


  .hero {
    position: relative;

    display: flex;
  }

  .hero:not(.hero--editorial),
  .hero__background {
    background-position: center center;
    background-repeat: no-repeat;
    background-size: cover;
  }

  //  to fix bug in IE 10/11 need to nest this flexboxed element within another
  .hero:not(.hero--editorial) > :first-child {
    display: flex;
    align-items: center;
  }


  .hero:not(.hero--editorial) > :first-child,
  .hero__background {
    min-height: 60vh;
    padding-top: $hero-component-v-padding;
    padding-bottom: $hero-component-v-padding;


    @media screen and (min-aspect-ratio: 1/1) {
      min-height: 80vh;
    }

    // for landscape screens: (height / width) * ~75vw
    @media screen and (min-aspect-ratio: 4/3) and (max-aspect-ratio: 16/9) {
      min-height: 55vw;
    }

    @media screen and (min-aspect-ratio: 16/9) and (max-aspect-ratio: 21/9) {
      min-height: 40vw;
    }

    @media screen and (min-aspect-ratio: 21/9) {
      min-height: 33vw;
    }
  }


  .hero__caption {
    @include font(small);

    position: absolute;
    bottom: 0;

    padding: 0.5rem 0;

    @include breakpoint(from mobile-medium) {
      right: 0;
      left: 0;

      text-align: center;
    }

    @include breakpoint(from desktop-small) {
      padding: 1rem 0;
    }
  }


  .hero__content {
    @include golden-ratio-paddings(2,false,1);
    @include add-gutters;


    @media screen and (max-aspect-ratio: 1/1) {
      @include golden-ratio-paddings(4,false,1);
    }
  }


  .hero__inner {
    @include page-grid;
  }


  .hero--with-sidekick .hero__caption {
    bottom: 3rem;
  }


  .hero--editorial {
    position: relative;

    display: block;
    margin-bottom: 5rem;

    background: none;


    @include breakpoint(to mobile-medium) {
      margin-bottom: auto;
    }


    .hero__content {
      position: absolute;
      bottom: -2.5rem;

      padding: 2rem;


      @include breakpoint(to mobile-medium) {
        position: relative;
        bottom: auto;
        left: 0;

        padding: 1rem;
        margin-top: -10rem;
      }
    }


    .hero__inner {
      @include page-grid-responsive;
    }
  }
}

/**
 * section: M2DM/components/meet-the-team
 * title: Meet the Team
 *
 * activateComponent: meet-the-team
 *
 * purpose: Use to convey trust and security to the user about a given project / company and provide an overview of the people behind the scenes.
 *
 * description: |
 *  Consists of a list of team members and a detail panel.
 *
 *  The list of team members are arranged in a grid whose column span varies with the width of the viewport (ranging from 5 columns on large devices to 3 on medium sized screens and 2 on small devices).
 *  
 *  The detail panel just handles the layout and is expected to be inserted into a modal window.
 *  
 *  **This component is very closely aligned to the profile component and modal component.** The profile component is expected to fill in the grid and provide a bunch of faces, names, and job titles, and the modal is used to display the detail panel for each team member.
 *
 *
 * layout: components/meet-the-team/example
 *
 * markup: components/meet-the-team/example-markup
 *
 */

@mixin team-member() {
  $padding-vertical: 1.5rem;
  $padding-horizontal: 1rem;

  $breakpoint-3col: mobile-medium;
  $breakpoint-5col: desktop-medium;

  .meet-the-team__member {
    position: relative;

    padding: $padding-vertical $padding-horizontal;
  }


  .no-flexbox .meet-the-team__member {
    float: left;
  }


  //  2 columns
  @include breakpoint(to $breakpoint-3col) {
    .meet-the-team__member {
      width: (100% / 2);
    }


    .no-flexbox .meet-the-team__member:nth-child(2n + 1) {
      clear: both;
    }
  }


  //  3 columns
  @include breakpoint(from $breakpoint-3col to $breakpoint-5col) {
    .meet-the-team__member {
      width: (100% / 3);
    }


    .no-flexbox .meet-the-team__member:nth-child(3n + 1) {
      clear: both;
    }
  }


  //  5 columns
  @include breakpoint(from $breakpoint-5col) {
    .meet-the-team__member {
      width: (100% / 5);
    }


    .no-flexbox .meet-the-team__member:nth-child(5n + 1) {
      clear: both;
    }
  }
}

@mixin team-member-detail() {
  $padding-compact: 1rem;
  $padding-comfortable: 2rem;


  .meet-the-team__detail {
    padding: $padding-compact;


    @include to(mobile-large) {
      .meet-the-team__detail-col:first-child {
        padding-bottom: $padding-compact;
      }
    }


    @include from(mobile-large) {
      @include columns(2 3);

      padding: $padding-comfortable;
    }
  }
}


@mixin radius-component-meet-the-team {
  .meet-the-team {
    display: flex;
    flex-wrap: wrap;

    .no-flexbox & {
      @include clearfix();
    }
  }

  @include team-member();
  @include team-member-detail();
}

/**
 * section: M2DM/components/modal
 * title: Modal
 *
 * activateComponent: radius-component-modal
 * jsModule: modal
 * jsModuleParameters: '{ animationsOn: transitionsSupported }'
 *
 * abstractLink: 2a42359c-68a4-40ce-8e6e-9ae7244a1fe4
 *
 * purpose: Use to serve additional content in an overlay above all other content.
 *
 * description: |
 *
 *   Only one modal can be displayed at a time.<br><br>
 *
 *   On mobile screens the modal takes up the entire screen width and height. On larger screens, the modal takes up the centre of the page, and displays an overlay over the rest of the content.<br><br>
 *
 *   ### How to use
 *
 *   1. Copy the markup from the example. The modal can live anywhere in the DOM.
 *   1. Add what you wish to display inside the `.modal__content` div.
 *   1. Replace the ID of the modal to something unique. I.e. NOT `dialog-1`
 *   1. Add the button to the page where needed. Ensure the `data-js-modal-open` attribute matches the ID you gave the modal.
 * 
 *   ### How it works
 *
 *   This component is based on the [a11y-dialog](https://github.com/edenspiekermann/a11y-dialog) project, which is designed with accessibility in mind, since modals are especially problematic for screen readers.
 *
 *   The display of the modal is handled by the aria-hidden attribute. When this is set to true, the display property is set to none. The a11y-dialog library toggles only the aria-hidden attribute.
 *
 *   The `js/index.js` file exports a method which finds all the modals (elements with `data-js-modal` attributes), moves them in the DOM to sit just before the closing body tag, and activates them with a method from the a11y-dialog library
 *
 *   It moves the modals to sit just before the closing body tag, because the a11y-dialog library applies aria-hidden=true to every _sibling_ element of the modal. We want everything but the modal to be aria-hidden, so moving modals to just before the closing body tag makes everything else a sibling. If you want to disable that, you can pass the "no-move" value to the `data-js-modal` attribute.
 *
 *   The `data-js-content` attribute is not mandatory; whenever the modal contains an iframe element, you should pass the `video` value to this attribute which will allow interaction with the Youtube API for manipulating the player element within the modal.(**Note:** You'll also have to load the IFrame Player API Javascript code by inserting the following script: ```<script src="https://www.youtube.com/iframe_api"></script>```)
 *
 *   ### Data attributes:
 *   - `[data-js-modal]`: This attribute should be added on the modal wrapper;
 *   - `[data-js-modal-open]`: This attribute should be added on the button that will open the modal;
 *   - `[data-js-modal-close]`: This attribute should be added on the button that will close the modal;
 *   - `[data-js-content]`: This attribute should be added on the modal wrapper; it's used to identify the type of content held in the modal.
 * 
 *   ### Dependencies
 *   This component requires the `transitionsSupported` module to be included: </br />
 *   `import transitionsSupported` from `radius/dist/m2dm/js/transitions-supported`;
 *
 * markup: components/modal/example
 * youtubeApi: true
 *
 */

@mixin radius-component-modal {
  $modal-margin: 2rem;
  $modal-content-padding-top: 3.5rem;
  $modal-content-padding-bottom: 2rem;
  $modal-background-color: get-color(white);
  $modal-box-header-padding: 1rem;
  $close-button-color: get-color(blue, contrast);
  $overlay-background: rgba(0, 0, 0, 0.8);

  // disable scrolling on the body when the modal is open
  body.modal-open { // stylelint-disable-line selector-no-qualifying-type
    overflow: hidden;
  }

  .modal[aria-hidden="true"] {
    display: none;
  }

  .modal {
    @include z-index(modal);

    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }


  .modal__overlay {
    @include z-index(modal, 1);

    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    background: $overlay-background;
  }


  .modal__box {
    @include z-index(modal, 2);

    position: absolute;

    top: 50%;
    left: 50%;

    width: calc(100% - #{$modal-margin * 2});
    max-width: 41rem;
    max-height: calc(100% - #{$modal-margin * 2});
    min-height: 2rem;

    padding-bottom: $modal-content-padding-bottom;
    overflow-y: scroll;

    background: $modal-background-color;

    transform: translate(-50%, -50%);

    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.3);


    @include to(mobile-large) {
      width: 100%;
      height: 100%;
      max-height: 100%;
    }
  }


  .modal__header {
    display: table;
    width: 100%;
    padding-top: $modal-box-header-padding;
    padding-right: $modal-box-header-padding;
    padding-bottom: $modal-box-header-padding;

    text-align: right;
  }
}

/**
 * section: M2DM/components/notice
 * title: Notice
 *
 * activateComponent: radius-component-notice
 *
 * abstractLink: 4502b62c-19ea-4415-9178-4f4a669cd9b4
 *
 * purpose: Use to communicate change, provide feedback as a result of a user’s action or to convey information regarding a potential action.
 *
 * description: |
 *    This component should clearly and succinctly convey the main message, and if applicable, guide the user on the consequence or the best action the user can take next, but without overtaking the page or disrupting the user from performing actions on the page.<br><br>
 *    They can be either static, dismissable or automatically removed after a fixed period of time.<br><br>
 *    Notice bars are not “sticky”, so as the user scrolls down, it may disappear out of view. Both static and animated bars will load with the page, so they should show immediately once the page is loaded.<br><br>
 *    <strong>N.B</strong> when all variants of this notice component have been built it will be used instead of the current notification component, which is a candidate component that will be deprecated over time in favour of the notice.<br><br>
 *
 *    Status variations (see subcategories for usage examples and descriptions):
 *    <ul>
 *      <li>Default (general information)</li>
 *      <li>Success - use this to convey something was successfully completed or changed to the user. Usually success and confirmations are straight-forward, so they should be one-line, short and sweet.</li>
 *      <li>Error/failure - use this to convey something was unsuccessful, and requires immediate attention or action. Choose static or temporary animated appropriately based on use case. Try not to have vague copy like “Something went wrong”, but rather informational and actionable copy.</li>
 *      <li>Attention/warning - use this to convey to the user that there is an issue that requires attention, such as a warning or note, that might not require immediate action.</li>
 *    </ul>
 *
 *    Notice width variations<br><br>
 *    There will be two variants of the notice in terms of the space it occupies, one that spans the content of the parent container, and one that fits to the width of the contained content.
 *    <ul>
 *      <li>Default - spans full width of the parent container</li>
 *      <li>Compact - width determined by the content of the notice, rather than the width of the parent element. For notices that require less prominance/attention. Often used to highlight the result of a user action e.g. uploading a document, saving progress in an application or loss of connection.</li>
 *    </ul>
 *
 *    To avoid “alert fatigue” (where user starts ignoring alerts and notifications because they see it frequently), please only use a notification bar when it requires user’s attention or action on something.<br><br>
 *    <strong>N.B.</strong> When all variants have been built - this component will replace the notification component that is a currently a candidate component and the notification component will be deprecated.
 *
 * layout: components/notice/example-layout
 *
 * markup: components/notice/notice
 * markup-icon: components/notice/notice-icon
 * markup-title: components/notice/notice-title
 * markup-title-icon: components/notice/notice-title-icon
 */

@mixin radius-component-notice {
  $vertical-space: 0.5rem;
  $horizontal-space: 1rem;
  $icon-copy-spacing: 0.5rem;


  .notice {
    overflow: hidden;

    background: get-color(grey, 4x-light);
    border: 1px solid get-color(grey, 2x-light); // stylelint-disable-line declaration-property-unit-whitelist
    border-radius: 1.5rem;


    .notice__support-icon {
      color: get-color(grey, x-light);
    }
  }


  .notice__content {
    display: flex;
    align-items: center;

    padding: $vertical-space $horizontal-space;
  }


  .notice__content .control-icon {
    margin-left: auto;
  }


  .notice__support-icon {
    flex-shrink: 0;
    width: 1.5rem;
    height: 1.5rem;
  }


  .notice__support-icon,
  .notice__support-icon + .notice__copy {
    margin-right: $icon-copy-spacing;
  }


  .notice__copy > * {
    margin: 0;
  }


  .notice__copy,
  .notice__title {
    @include font(medium);
  }


  .notice--compact,
  .notice--compact .notice__content {
    display: inline-flex;
  }


  .notice--success {
    background: get-color(green, 3x-light);

    border-color: get-color(green);


    .notice__support-icon,
    .notice__title {
      color: get-color(green);
    }
  }


  .notice--error {
    background: get-color(red, 3x-light);

    border-color: get-color(red);


    .notice__support-icon,
    .notice__title {
      color: get-color(red);
    }
  }


  .notice--attention {
    background-color: get-color(yellow, 3x-light);

    border-color: get-color(yellow);
  }


  .no-flexbox {
    .notice--compact {
      display: inline-block;
    }
  }
}

/**
 * section: M2DM/components/notification
 * title: Notification
 *
 * activateComponent: radius-component-notification
 *
 * warningContent: This component is a **candidate component** and before being reused it needs to be agreed by the design team.
 *
 * purpose: Use to communicate an alert or a status change to the user without overtaking the page or disrupting the user from performing actions on the page.
 *
 * description: |
 *    <strong>N.B.</strong> This is a candidate component and will soon be replaced by the Notice component, once all of the variants have been created for the Notice. As this candidate component will soon be deprecated, please use the [Notice component](/M2DM/components/notice/) instead, where possible.
 *    It should clearly and succinctly convey the main message, and if applicable, guide the user on the consequence or the best action the user can take next.<br><br>
 *    Notification bars are not “sticky”, so as the user scrolls down, it may disappear out of view. Both static and animated bars will load with the page, so they should show immediately once the page is loaded.<br><br>
 *    Notification bars always live at the top of the page, right under the navigation bar. They can either be:
 *    <ul>
 *      <li>a <strong>static bar</strong> that stays on the page until a condition/status has changed, or</li>
 *      <li>a <strong>temporary animated bar</strong> that shows for 10 seconds, and then slides up to disappear. Add a [data-js-notification-collapse] on the block element to make the notification collapsable.</li>
 *    </ul>
 *    <br><br>
 *    Status variations (see subcategories for usage examples and descriptions):
 *    <ul>
 *      <li>Success</li>
 *      <li>Error/failure</li>
 *      <li>Attention</li>
 *      <li>Information</li>
 *    </ul>
 *
 *    To avoid “alert fatigue” (where user starts ignoring alerts and notifications because they see it frequently), please only use a notification bar when it requires user’s attention or action on something.
 *
 * markup: components/notification/example
 */


/**
 * section: M2DM/components/notification/information
 * title: Information
 *
 * description: |
 *    Use this to inform the user of something that is not urgent and doesn’t require any action. This is usually a system-wide notification about their account. Choose static or temporary animated appropriately based on use case.
 *
 * markup: components/notification/example-information
 */


/**
 * section: M2DM/components/notification/attention
 * title: Attention
 *
 * description: |
 *    Use this to convey there is an issue that requires attention, but maybe not immediate action. Choose static or temporary animated appropriately based on use case.
 *
 * markup: components/notification/example-attention
 */


/**
 * section: M2DM/components/notification/success
 * title: Success
 *
 * description: |
 *    Use this to convey something was successfully completed or changed to the user. This should be a temporary animation that shows for 10 seconds and goes away. Usually success and confirmations are straight-forward, so they should be one-line, short and sweet.
 *
 * markup: components/notification/example-success
 */


/**
 * section: M2DM/components/notification/error
 * title: Error
 *
 * description: |
 *    Use this to convey something was unsuccessful, and requires immediate attention or action. Choose static or temporary animated appropriately based on use case. Try not to have vague copy like “Something went wrong”, but rather informational and actionable copy.
 *
 * markup: components/notification/example-error
 */


@mixin radius-component-notification {
  $breakpoint: tablet-small;

  .notification {
    overflow: hidden;

    background: get-color(yellow, light);

    opacity: 1;
    transition: all 500ms ease;
    transition-property: height, opacity;
    will-change: height, opacity;


    @include to($breakpoint) {
      text-align: center;
    }


    &.is-collapsed {
      height: 0 !important; // stylelint-disable-line declaration-no-important

      opacity: 0;
    }
  }


  .notification__content {
    @include page-grid;

    padding: 1rem 0;

    @include from($breakpoint) {
      @include columns-no-padding(1 5);

      align-items: center;
      width: auto;
    }

    @include from(desktop-large) {
      @include columns-no-padding(1 7);

      width: auto;
    }
  }


  .notification__icon {
    padding-right: 0.5rem;
    padding-left: 0.5rem;
  }


  .notification__icon > * {
    display: block;
    width: 100%;
    max-width: 2.5rem;
    max-height: 2.5rem;
    margin: 0 auto;


    @include to($breakpoint) {
      margin-bottom: 0.5rem;
    }


    @include from($breakpoint) {
      max-width: 3.5rem;
    }
  }


  .notification__title {
    @include font(large);

    margin: 0;

    font-family: get-config(font-family-primary);
    font-weight: bold;
  }


  .notification__copy {
    margin: 0;


    @include to($breakpoint) {
      margin-bottom: 1rem;
    }
  }


  .notification__actionable {
    @include from($breakpoint) {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
    }
  }

  .notification__actionable-copy {
    @include from($breakpoint) {
      padding-right: 1.5rem;
    }
  }


  .notification__actionable-cta {
    white-space: nowrap;
  }


  .notification--success {
    color: get-color(white);

    background: get-color(green, contrast);
  }


  .notification--error {
    color: get-color(white);

    background: get-color(red);
  }
}

/**
 * section: M2DM/components/page-closer
 * title: Page Closer
 *
 * activateComponent: radius-component-page-closer
 *
 * abstractLink: 67589617-cb07-41e0-b798-b58accc4bfcd
 *
 * purpose: Use to provide a final set of prompts to the user if they haven't taken any other action on the page.
 *
 * description: |
 *
 *   This component sits just before the footer. It should provide links to popular pages or articles, and give the user contact information so that they may easily follow up on any queries they have.<br><br>
 *
 *   There are two variants. The first is a 3 column layout, the other is a 4 column layout. An article component can sit in the last column of either variant (the article component itself is not built yet).
 *
 * layout: components/page-closer/example
 *
 * markup: components/page-closer/example-markup
 */

@mixin radius-component-page-closer {
  $breakpoint-comfortable: desktop-medium;
  $breakpoint-compact: tablet-medium;
  $component-v-padding: 3rem;
  $mobile-col-v-padding: 2rem;
  $columns-4: 2 1 1 1;
  $columns-3: 2 1 1;
  $border: 1px solid get-color(grey, 2x-light);


  .page-closer {
    padding-top: $component-v-padding;
    padding-bottom: $component-v-padding;
  }


  .page-closer__inner {
    @include page-grid;
  }


  @include to($breakpoint-comfortable) {
    .page-closer__contact {
      padding-bottom: $mobile-col-v-padding;
    }


    .page-closer__nav-suggestion {
      padding-top: $mobile-col-v-padding;
      padding-bottom: $mobile-col-v-padding;

      border-top: $border;
    }
  }


  @include from($breakpoint-comfortable) {
    .page-closer__grid {
      @include columns($columns-4);


      .page-closer__links {
        @include columns(1 1 1);

        width: get-remaining-columns-width($columns-4, 1);
      }
    }
  }


  @include from($breakpoint-compact) {
    .page-closer--3-col .page-closer__grid {
      @include columns($columns-3);


      .page-closer__links {
        @include columns(1 1);

        width: get-remaining-columns-width($columns-3, 1);
      }


      .page-closer__contact {
        padding-bottom: 0;
      }


      .page-closer__nav-suggestion {
        padding-top: 0;
        padding-bottom: 0;

        border-top: 0;
      }
    }
  }


  .page-closer__links {
    align-self: flex-start;


    > *:last-child {
      padding-right: 0;
      padding-bottom: 0;
    }


    > *:first-child {
      padding-left: 0;
    }
  }


  .page-closer__nav-suggestion {
    display: flex;
    flex-direction: column;
  }


  .page-closer__link--bottom {
    align-self: baseline;
    margin-top: auto;
  }
}

/**
 * section: M2DM/components/process-diagram
 * title: Process diagrams
 *
 * abstractLink: 0ef69164-c5c8-491b-8d3a-f470cae0cb72
 *
 * purpose: Use to communicate a sequence of steps and highlight the benefits of a process to the user.
 *
 */

// components
/**
 * section: M2DM/components/process-diagram/process-diagram
 * title: Process diagram
 *
 * activateComponent: radius-component-process-diagram
 *
 * abstractLink: 0ef69164-c5c8-491b-8d3a-f470cae0cb72
 *
 * description: |
 *   It does not highlight individual, disconnected benefits like a feature list but rather helps describe the user's journey and show the process as a whole.
 *
 *   The default status is the vertical alignement of the numbers, with a `--responsive` variant allowing for the content to flow responsively on the page with the numbers horizontally aligned.<br><br>
 *
 *   **Warning**: if a browser does not support rem units, the content might be obscured.
 *
 * markup: components/process-diagram/scss/process-diagram/example
 */

@function half($arg) {
  @return $arg / 2;
}


@mixin radius-component-process-diagram {
  $circle-size: 1.5rem;
  $brand-color: get-color(purple, contrast);
  $line-thickness: 2px;
  $item-vspace: vspace(small);
  $compact-layout: tablet-medium;
  $comfortable-layout: desktop-small;
  $minimum-column-size: 16rem;


  .process-diagram {
    padding: 0;
    margin: 0;

    list-style: none;

    counter-reset: process-diagram;
  }


  .process-diagram__container {
    position: relative;


    padding-right: 1rem;
    padding-left: 2rem;
    margin-bottom: $item-vspace;
  }


  // circles
  .process-diagram__container { // stylelint-disable-line no-duplicate-selectors
    &::before {
      @include font(small, false);

      position: absolute;
      top: 0;
      left: 0;
      z-index: 1;

      display: block;
      width: $circle-size;
      margin: 0 auto;

      font-weight: bold;
      line-height: calc(#{$circle-size} - #{2 * $line-thickness});
      color: $brand-color;
      text-align: center;

      background-color: get-color(white);
      border: $line-thickness solid;
      border-radius: 50%;

      content: counter(process-diagram);
      counter-increment: process-diagram;
    }
  }


  // line connecting the circles
  @supports (display: flex) {
    .process-diagram__container { // stylelint-disable-line no-duplicate-selectors
      &::after {
        position: absolute;
        z-index: 0;

        background-color: $brand-color;

        content: "";
      }


      &:not(:last-child)::after {
        top: $circle-size;
        left: calc(#{half($circle-size)} - #{half($line-thickness)});

        width: $line-thickness;
        height: 100%;
      }
    }
  }


  .process-diagram--responsive {
    @include from($compact-layout) {
      display: table;
      width: 100%;
      margin-bottom: $item-vspace;

      table-layout: fixed;


      .process-diagram__content {
        max-width: $minimum-column-size;

        margin: 0 auto;

        text-align: center;
      }
    }


    @supports (display: flex) {
      @include breakpoint(from $compact-layout) {
        display: flex;
        flex-wrap: wrap;
      }


      @include from($comfortable-layout) {
        flex-wrap: nowrap;
      }
    }
  }


  .process-diagram--responsive .process-diagram__container {
    &::before {
      @include breakpoint(from $compact-layout) {
        left: calc(50% - #{half($circle-size)});
      }
    }


    @include from($compact-layout) {
      display: table-cell;
      width: 1%;
      padding-top: 2.5rem;
      padding-left: 1rem;
      margin-bottom: initial;
    }


    @supports (display: flex) {
      @include breakpoint(from $compact-layout to $comfortable-layout) {
        width: 50%;
        padding-top: 0;


        &:nth-child(even)::before {
          top: -1 * half($circle-size);
        }


        &:nth-child(odd)::before {
          top: auto;
          bottom: -1 * half($circle-size);
        }


        &:nth-last-child(n+4),
        &:nth-last-child(n+4) ~ .process-diagram__container {
          width: 40%;
        }


        &:nth-child(even) {
          left: 25%;

          padding-top: $item-vspace;
        }


        &:nth-last-child(n+4) ~ :nth-child(even) {
          left: 20%;
        }


        &:nth-child(2) {
          order: 3;
        }


        &:nth-child(3) {
          order: 2;
        }


        &:nth-child(n+4) {
          order: 4;
        }


        &:nth-child(odd) {
          padding-bottom: $item-vspace;
        }
      }


      @include from($comfortable-layout) {
        flex-grow: 1;
        padding-top: 2.5rem;
      }


      // connect the lines
      @include breakpoint(from $compact-layout to $comfortable-layout) {
        &:nth-child(even):not(:last-child)::after {
          top: -1 * half($line-thickness);
        }


        &:nth-child(odd):not(:last-child)::after {
          top: inherit;
          bottom: -1 * half($line-thickness);
        }
      }


      @include breakpoint(from $compact-layout) {
        &:not(:last-child)::after {
          left: 50%;

          width: 50%;
          height: $line-thickness;
        }
      }


      @include from($comfortable-layout) {
        &:not(:last-child)::after {
          top: half($circle-size);

          width: 100%;
        }
      }
    }
  }
}

/**
 * section: M2DM/components/process-diagram/process-steps
 * title: Process steps
 *
 * activateComponent: radius-component-process-steps
 *
 * purpose: Provide the user with context for their place in a multi-step process. Show completion progress, current location and remaining steps.
 *
 * description: |
 *   Each one of the process step components is made up of process step items. These are the element with the attached class name of `process-steps__item`.
 *   To change the state of one of these components you can use state classes. These items have multiple options as displayed below in the example and markup and list:
 *     - *NO CLASS* : this is the default state of the step item. This displays the yet to be complete and not active class.
 *     - `is-active` : this state will be the current step the user is on.
 *     - `is-complete` : this state exists for previous steps that have been completed.
 *
 * markup: components/process-diagram/scss/process-steps/example
 */

@mixin radius-component-process-steps {
  $circle-size: 1.5rem;
  $complete-color: get-color(green, base);
  $active-color: get-color(purple, contrast);
  $incomplete-color: get-color(grey, x-light);
  $line-thickness: 2px;
  $compact-layout: tablet-medium;
  $text-bottom-spacing: 1rem;


  .process-steps {
    position: relative;

    display: table;
    width: 100%;
    padding: 0;
    margin: 0;

    text-align: center;

    list-style: none;

    table-layout: fixed;

    counter-reset: process-steps;


    @supports (display: flex) {
      display: flex;
      flex-wrap: nowrap;
      justify-content: space-between;
    }


    &::before {
      position: absolute;
      bottom: $circle-size / 2;
      left: 0;

      display: none;
      width: 100%;
      height: $line-thickness;

      background-color: $incomplete-color;

      content: "";


      @supports (display: flex) {
        display: block;
      }
    }
  }


  .process-steps__item {
    position: relative;

    display: table-cell;
    width: 1%;

    color: $incomplete-color;

    vertical-align: bottom;


    @supports (display: flex) {
      display: flex;
      align-content: flex-end;
      flex: 1;
      flex-wrap: wrap;
      width: auto;
    }


    &::after {
      @include font(small, false);

      position: relative;
      top: (-1) * $line-thickness;
      z-index: 1;

      display: block;
      width: $circle-size;
      height: $circle-size;
      margin: 0 auto;

      font-weight: bold;
      line-height: calc(#{$circle-size} - #{2 * $line-thickness});
      color: $incomplete-color;
      text-align: center;

      background-color: get-color(white);
      border: $line-thickness solid;
      border-radius: 50%;

      content: counter(process-steps);
      counter-increment: process-steps;
    }


    &.is-complete {
      &::after {
        color: $complete-color;
      }
    }


    &.is-active {
      &::after {
        color: $active-color;
      }


      .process-steps__content {
        font-weight: bold;
      }
    }
  }

  .process-steps__content {
    position: relative;

    width: 100%;
    padding-right: 0.5rem;
    padding-bottom: $text-bottom-spacing;
    padding-left: 0.5rem;


    @include from (mobile-medium) {
      padding-right: 1rem;
      padding-left: 1rem;
    }


    @include from ($compact-layout) {
      padding-right: 1.5rem;
      padding-left: 1.5rem;
    }


    &::after {
      position: absolute;
      right: 50%;
      bottom: $circle-size / (-2);

      z-index: 0;

      width: 100%;
      height: $line-thickness;

      background-color: $incomplete-color;

      content: "";
    }
  }

  .process-steps__item:first-child .process-steps__content::after {
    width: 50%;
  }


  .process-steps__item.is-complete .process-steps__content::after {
    background-color: $complete-color;
  }


  .process-steps__item.is-active .process-steps__content::after {
    background-color: $active-color;
  }
}

/**
 * section: M2DM/components/process-diagram/loud-process-diagram
 * title: Loud process diagram
 *
 * activateComponent: radius-component-loud-process-diagram
 *
 * abstractLink: 0ef69164-c5c8-491b-8d3a-f470cae0cb72
 *
 * description: |
 *   It does not highlight individual, disconnected benefits like a feature list but rather helps describe the user's journey and show the process as a whole.
 *
 * markup: components/process-diagram/scss/loud-process-diagram/example
 */

@mixin radius-component-loud-process-diagram {
  $brand-color: get-color(purple, contrast);
  $inactive-color: get-color(grey, 2x-light);
  $background-color: get-color(white);
  $default-spacing: 2rem;
  $vertical-spacing: 3rem;
  $line-thickness: 2px;
  $circle-size: 1.5rem;
  $circle-alignment-offset: $circle-size / -2;
  $gradient: linear-gradient(to bottom, $brand-color 50%, $inactive-color 50%);


  .loud-process-diagram {
    padding: 0 1rem;

    list-style-type: none;
    background-color: $background-color;

    counter-reset: process-diagram;
  }


  .loud-process-diagram__item {
    position: relative;

    background: $gradient fixed;
    background-color: $brand-color;
    border-radius: $default-spacing;


    @include breakpoint(to tablet-large) {
      background-image: none;
    }
  }


  .loud-process-diagram__content {
    min-height: 4rem;

    background-clip: padding-box;
    background-color: $background-color;
    border: 0 solid transparent;
  }


  .loud-process-diagram__item:nth-child(odd) {
    margin-right: 1rem;
  }


  .loud-process-diagram__item:nth-child(even) {
    margin-left: 1rem;
  }


  .loud-process-diagram__item:nth-child(odd) .loud-process-diagram__content {
    padding-left: $default-spacing;
    margin-right: -$default-spacing;

    border-left-width: $line-thickness;
  }


  .loud-process-diagram__item:nth-child(even) .loud-process-diagram__content {
    padding-right: $default-spacing;
    margin-left: -$default-spacing;

    border-right-width: $line-thickness;
  }


  .loud-process-diagram__item:not(:last-child) .loud-process-diagram__content {
    padding-bottom: $vertical-spacing;

    border-bottom-width: $line-thickness;
    border-bottom-right-radius: $default-spacing;
    border-bottom-left-radius: $default-spacing;
  }


  .loud-process-diagram__item:not(:first-child) .loud-process-diagram__content {
    padding-top: $vertical-spacing;
    margin-top: -$line-thickness;

    border-top-width: $line-thickness;
    border-top-right-radius: $default-spacing;
    border-top-left-radius: $default-spacing;
  }


  .loud-process-diagram__item:first-child {
    border-top-left-radius: 0;
  }


  .loud-process-diagram__item:last-child::before {
    position: absolute;
    top: $vertical-spacing + ($circle-size / 2);
    bottom: 0;

    width: $line-thickness + 1;

    background-color: $background-color;

    content: "";
  }


  .loud-process-diagram__item:nth-child(odd):last-child::before {
    left: 0;
  }


  .loud-process-diagram__item:nth-child(even):last-child::before {
    right: 0;
  }


  .loud-process-diagram__content::after,
  .loud-process-diagram__content::before {
    @include font(small, false);

    position: absolute;
    top: $vertical-spacing;

    display: block;
    width: $circle-size;
    height: $circle-size;
    margin: 0 ($line-thickness * 0.5);

    font-weight: bold;
    line-height: calc(#{$circle-size} - #{$line-thickness * 2});
    color: $brand-color;
    text-align: center;

    background-color: $background-color;
    border-radius: 50%;
  }


  .loud-process-diagram__content::before {
    background: $gradient fixed;
    background-color: $brand-color;

    content: "";


    @include breakpoint(to tablet-large) {
      background-image: none;
    }
  }


  .loud-process-diagram__content::after {
    background-clip: padding-box;
    border: $line-thickness solid transparent;

    content: counter(process-diagram);
    counter-increment: process-diagram;
  }


  .loud-process-diagram__item:first-child .loud-process-diagram__content::before,
  .loud-process-diagram__item:first-child .loud-process-diagram__content::after {
    top: 0;
  }


  .loud-process-diagram__item:nth-child(odd) .loud-process-diagram__content::before,
  .loud-process-diagram__item:nth-child(odd) .loud-process-diagram__content::after {
    left: $circle-alignment-offset;
  }


  .loud-process-diagram__item:nth-child(even) .loud-process-diagram__content::before,
  .loud-process-diagram__item:nth-child(even) .loud-process-diagram__content::after {
    right: $circle-alignment-offset;
  }
}


/**
 * section: M2DM/components/profile
 * title: Profile
 *
 * activateComponent: radius-component-profile
 *
 * purpose: Use to provide a visual representation of a person or an object with associated information.
 *
 * description: |
 *   
 *   Display a picture element (typically of someone's face), alongside two text elements that sit on top of each other. Example usage of the text is that one line features a phone number, and the other line features a prompt to call for help.
 *   
 *   If using a phone number, make sure you change the phone number in the `href` attribute too, so that it dials the correct number when clicked.
 *   
 *   ## Variants
 *
 *   ### Default
 *   The default layout is "horizontal" with the picture sitting on the same row as the text. It is responsive and moves to the "vertical" layout (detailed below) if there isn't enough space.
 *
 *   ### Vertical
 *   This makes the picture always sit on the row above the text. It is not responsive and always uses this format.
 *
 *   ### Team
 *   This makes the picture sit on the row above the text, and centers the content. It is used in the grid of the Meet the Team component.
 *
 * markup: components/profile/example
 *
 */

@mixin radius-component-profile {
  $picture-size: 4rem;


  .no-flexbox {
    .profile:not(.profile--vertical):not(.profile--team) {
      .profile__picture,
      .profile__text {
        float: left;
      }

      @include clearfix();
    }
  }


  .profile {
    display: flex;
    flex-wrap: wrap;
  }


  .profile__picture {
    width: $picture-size;
    height: $picture-size;
    margin-right: 1rem;
  }


  .profile__picture img {
    display: block;
    width: 100%;
    height: 100%;

    border-radius: $picture-size;
  }


  .profile__text {
    display: flex;
    flex-direction: column;
    justify-content: center;

    padding-top: 0.5rem;
    padding-bottom: 0.5rem;

    box-sizing: border-box;
  }


  .profile__text-heading {
    margin: 0;

    @include font(x-large, false);
    font-family: get-config(font-family-primary);
    font-weight: bold;
    line-height: 1.8rem;
    color: get-color(grey);

    cursor: default;
  }


  .profile__text-copy {
    margin: 0;

    @include font(medium);
    font-family: get-config(font-family-default);
    color: get-color(grey, light);
  }


  .cta-link.profile__text-team-member-name {
    padding: 0;
    margin: 0;
    margin-bottom: 0.5rem;
    
    font-weight: bold;
    line-height: 1;
  }


  .profile--vertical {
    flex-direction: column;
  }


  .profile--team {
    flex-direction: column;
  }


  .profile--team .profile__picture {
    margin-right: auto;
    margin-left: auto;
  }


  .profile--team .profile__text {
    display: block;

    text-align: center;
  }
}

/**
 * section: M2DM/components/progress
 * title: Progress
 *
 * activateComponent: radius-component-progress
 *
 * purpose: Use to display the progress of a task or to represent advancement towards a total.
 *
 * description: |
 *   ### Context:
 *     This component can sit within other components, it runs full width of the space it occupies.
 * 
 *   ### Behaviour:
 *     - The speed of progress is determined by the task.
 *     - The indicator should always fill from 0% to 100%, in instances where progress has been made off view, the active progress should be animated from left to right.
 * 
 *   ### Elements:
 *     - `.progress`: This is the main element in which indicates the length of the progress to complete.
 *       - `.is-complete`: This is the state class which indicates when the progress bar is complete. This is to be applied to any ancestor of the `.progress` element or the `.progress` element itself.
 *     - `.progress__activity`: This is the element which represents the current progress of the activity. This is where you apply an inline width (`style="width: 50%;"`) to represent the progress.
 * 
 *   ### Use the input to test the progress bar:
 *     <input type="number" value="50" min="0" max="100" data-js-progress-percentage/>%
 *
 * markup: components/progress/scss/example
 */

$progress-height: 0.5rem;

@mixin radius-component-progress {
  .progress {
    width: 100%;
    height: $progress-height;
    overflow: hidden;

    background: get-color(grey, x-light);

    border-radius: ($progress-height/2);
  }


  .progress__activity {
    width: 0;
    height: 100%;
    max-width: 100%;

    background: get-color(purple, contrast);

    transition-duration: 1s;
    transition-property: width, background-color;
    transition-timing-function: ease;
  }


  .is-complete .progress__activity {
    width: 100%;

    background: get-color(green);
  }
}

/**
 * section: M2DM/components/quote
 * title: Quote
 *
 * activateComponent: radius-component-quote
 *
 * purpose: Use to cite words said by a person or organisation.
 *
 * description: |
 *   Can include a citation (i.e. the quote's author), but this is optional.
 *
 *   There are three class modifiers that can be used. And one further modifier which is set by the page language.
 *
 *   ### Class Modifiers
 *
 *   `quote--trustpilot-author`: For when the quote is sourced from TrustPilot. Makes the author text green.
 *
 *   `quote--large`: Larger, bold font.
 *
 *   `quote--shrink`: On smaller screens, the text gets smaller and switches to the default font.
 *
 *   ### Locale modifier
 *
 *   If the page language is set to `de`, different quote marks are used due to the way the German language works.
 *
 *   When this component is used, it is assumed the correct lang attribute is set on the page.
 *
 *   To observe the difference, use the below select box to switch the lang attribute on the html tag and see the examples change.
 *
 *   <select class="html-lang-input">
 *    <option value="en">en</option>
 *    <option value="de">de</option>
 *   </select>
 *
 * layout: components/quote/example
 *
 * markup: components/quote/example-markup
 */

@mixin radius-component-quote {
  $base-color-lighter: get-color(grey, light);
  $trustpilot-green: #00b67a;
  $compact-layout: tablet-medium;
  $apostrophe-offset: 0.5rem;
  $apostrophe-offset-large: 0.9rem;


  .quote__content {
    margin: 0 0 0.5rem 0; // stylelint-disable-line shorthand-property-no-redundant-values

    @include font(large);
    font-family: get-config(font-family-primary);


    &::before {
      display: inline-block;
      width: $apostrophe-offset;
      margin-left: ($apostrophe-offset * (-1));

      content: "\201C";
    }


    &::after {
      content: "\201D";
    }
  }


  .quote__author {
    @include font(medium);
    font-style: normal;

    color: $base-color-lighter;


    &::before {
      padding-right: 0.3rem;

      content: "\2014";
    }
  }


  html[lang="de"] .quote__content { // stylelint-disable-line selector-no-qualifying-type
    &::before {
      content: "\201E";
    }

    &::after {
      content: "\201C";
    }
  }


  .quote--large .quote__content {
    @include font(x-large);
    font-weight: bold;


    &::before {
      width: $apostrophe-offset-large;
      margin-left: ($apostrophe-offset-large * (-1));
    }
  }


  .quote--shrink .quote__content {
    @include to($compact-layout) {
      @include font(medium);
      font-family: get-config(font-family-default);
    }
  }


  .quote--trustpilot-author .quote__author {
    color: $trustpilot-green;
  }
}

/**
 * section: M2DM/components/screamer
 * title: Screamer
 *
 * activateComponent: radius-component-screamer
 *
 * abstractLink: be099061-cd98-472b-af9a-8e58d76e39a6
 *
 * purpose: Use to suggest actions a user should take and the reasons behind these actions.
 *
 * description: |
 *   This component includes a body of text with a large font and a customised content on the right (often a CTA button, a stat component). On smaller screens the two columns stack.
 *
 *   ### Variations
 *   
 *   **Default** `.screamer`
 *   
 *   Aligns the text to the left always
 *   
 *   **Center aligned** `.screamer .screamer--centered`
 *   
 *   Center aligns the text and content always (except for .screamer__message on desktop where the text is left aligned)
 *
 * layout: components/screamer/scss/example
 * 
 * markup: components/screamer/scss/example-markup
 */

@mixin radius-component-screamer {
  $component-vspace: 2rem;
  $action-vspace: 1.75rem;

  .screamer {
    padding-top: $component-vspace;
    padding-bottom: $component-vspace;
  }


  .screamer__inner {
    @include page-grid;
  }


  @include from(tablet-small) {
    .screamer__inner {
      @include columns(2 1);

      align-items: center;
      width: auto;

    }
  }

  // ".screamer__action" class deprecated - removed from the documentation to avoid continued use
  .screamer__action,
  .screamer__hook {
    @include to(tablet-small) {
      margin-top: $action-vspace;
    }


    @include from(tablet-small) {
      display: flex;

      justify-content: center;
    }
  }


  // ".screamer__action" class deprecated - removed from the documentation to avoid continued use
  .screamer--centered .screamer__action,
  .screamer--centered .screamer__hook {
    text-align: center;
  }


  .screamer--centered .screamer__message {
    @include to(tablet-small) {
      text-align: center;
    }
  }
}

/**
 * section: M2DM/components/statistics
 * title: Statistics
 *
 * activateComponent: radius-component-statistics
 *
 * purpose: Use to represent quantitative information through rectangle bars.
 *
 * description: |
 *  Groups can contain one or more bars.<br><br>
 *  Size of bars is determined by height and width  declarations in style attribute.<br><br>
 *  Labels are defined in HTML in attributes and text. See HTML example for configuration details.
 *  
 *  ### Classes and Attributes:
 *   - `.bar-graph`: On component root element
 *   - `.bar-graph__group[data-label]`: A group of bars. data-label specifies the label for the bar 
 *   - `.bar-graph__item.bar-graph__item--green`: A bar. The modifier specifies color of bar
 *
 * layout: components/statistics/example
 * 
 * markup: components/statistics/example-markup
 */
@mixin graph-color($color, $shade, $breakpoint) {
  color: get-color($color);

  background: get-color($color, $shade);
  background: linear-gradient(to right, transparentize(get-color($color, $shade), 0.95) 0%, transparentize(get-color($color, $shade), 0.6) 100%);

  border-color: get-color($color, $shade);


  @include from($breakpoint) {
    @supports (display: flex) {
      background: linear-gradient(to bottom, transparentize(get-color($color, $shade), 0.6) 0%, transparentize(get-color($color, $shade), 0.95) 100%);
    }
  }
}

@mixin bar-graph() {
  $breakpoint: tablet-small;
  $graph-axis-color: get-color(grey, 2x-light);
  $group-label-color: get-color(grey, light);
  $bar-tip-width: 2px;
  $group-label-font: 1rem;

  $max-width-mobile: 35rem;
  $max-item-height-mobile: 1.5rem;
  $group-label-width-mobile: 3rem;
  $bar-margin-bottom-mobile: 1rem;
  $item-left-padding-mobile: 0.5rem;

  $max-width-desktop: 100%;
  
  $max-item-height-desktop: 100%;
  $group-min-height-desktop: 17rem;
  $item-bottom-padding-desktop: 0.25rem;
  $item-min-width-desktop: 2.5rem;
  $group-padding-horizontal-desktop: 1.5rem;
  $group-label-padding-desktop: 0.5rem;
  $group-label-height-desktop: ($group-label-padding-desktop * 2) + $group-label-font;

  .bar-graph {
    max-width: $max-width-mobile;
    padding: 0;
    margin: 0 auto;

    list-style: none;

    @supports (display: flex) {
      @include from($breakpoint) {
        display: flex;
        justify-content: space-between;
        width: 100%;
        max-width: $max-width-desktop;
        
        margin-bottom: $group-label-height-desktop; // label is absolutely positioned below graph so we need this to make space for it

        border-bottom: solid 1px $graph-axis-color;
      }
    }
  }

  .bar-graph > * {
    @supports (display: flex) {
      @include from($breakpoint) {
        flex-grow: 1;
      }
    }
  }

  .bar-graph__group {
    position: relative;

    padding: 0 0 0 $group-label-width-mobile;  // label is absolutely positioned so need this to make space for it

    margin: 0 0 $bar-margin-bottom-mobile;

    list-style: none;

    @supports (display: flex) {
      @include from($breakpoint) {
        display: flex;
        align-items: stretch;
        justify-content: center;

        min-height: $group-min-height-desktop;

        padding: 0 $group-padding-horizontal-desktop;
        margin-bottom: 0;
      }
    }
  }

  //  to create vertical axis, we add a border to each group element.
  .bar-graph__group::after {

    position: absolute;
    top: 0;
    left: $group-label-width-mobile;

    height: calc(100% + #{$bar-margin-bottom-mobile});

    border-right: solid 1px $graph-axis-color;

    content: "";

    @include from($breakpoint) {
      content: initial;
    }
  }
  
  //  axis for first group on mobile only
  .bar-graph > li:first-child .bar-graph__group::after {
    $height: $bar-margin-bottom-mobile * 2;
    top: -1 * $bar-margin-bottom-mobile;

    height: calc(100% + #{$height});
  }

  //  year label
  .bar-graph__group::before {
    position: absolute;
    top: 50%;
    bottom: 0;
    left: 0;
    
    height: $group-label-font;

    font-size: $group-label-font;
    
    line-height: 1;

    color: $group-label-color;

    text-align: center;

    content: attr(data-label);
    transform: translateY(-50%);

    @supports (display: flex) {
      @include from($breakpoint) {
        top: 100%;
        right: 0;

        width: 100%;

        padding-top: $group-label-padding-desktop;
        padding-bottom: $group-label-padding-desktop;

        transform: initial;
      }
    }
  }

  .bar-graph--contrast .bar-graph__group::before {
    color: transparentize(get-color(white), 0.3);
  }

  .bar-graph__item {
    position: relative;

    display: block;
    width: 100%;
    padding: 0;

    line-height: 1.5rem;

    @supports (display: flex) {
      @include from($breakpoint) {

        min-width: $item-min-width-desktop;
      }
    }
  }

  .bar-graph__item span {
    display: block;
    max-height: $max-item-height-mobile;
    
    padding: 0 0 0 $item-left-padding-mobile;

    border-style: solid;
    border-width: 0 $bar-tip-width 0 0;

    @supports (display: flex) {
      @include from($breakpoint) {
        position: absolute;
        bottom: 0;
        left: 0;

        display: flex;
        align-items: flex-end;
        justify-content: center;

        width: 100% !important; // stylelint-disable-line declaration-no-important
        
        max-height: $max-item-height-desktop;
        
        padding: 0 0 $item-bottom-padding-desktop;

        border-width: $bar-tip-width 0 0;
      }
    }
  }

  .no-flexbox .bar-graph__item span,
  .bar-graph--contrast .bar-graph__item span {
    color: get-color(white);
  }

  .bar-graph__item--blue span {
    @include graph-color(blue, base, $breakpoint);
  }

  .bar-graph__item--green span {
    @include graph-color(green, base, $breakpoint);
  }
}


@mixin radius-component-statistics {

  @include bar-graph();
}
 

/**
 * section: M2DM/components/step-card
 * title: Step card
 *
 * activateComponent: radius-component-step-card
 * jsModule: step-card
 * jsFunction: stepCard
 *
 * purpose: Use to break a long user flow into a sequence of logical steps.
 *
 * description: |
 *   The step card is a pattern built for forms with multiple consecutive parts but also has a static modifier to be used without its javascript counterpart.<br><br>
 *
 *   ### Modifier:
 *   `step-card--grey` - if there is only one card per page, then this modifier should be applied.
 *
 *   ### Elements:
 *     - `step-card`: The main element. This element has the option of two classes:
 *       - `is-collapsed`: which shows the `step-card__collapse` element and hides the `step-card__content`
 *       - `is-inactive`: which shows the `step-card__inactive` element and hides the `step-card__content`
 *     - `step-card__content`: The meat of the content. This element wraps the general content where other components will be placed.
 *     - `step-card__collapse`: Contains the summarised content.
 *     - `step-card__inactive`: Contains the inactive content.
 *
 * markup: components/step-card/example
 */

@mixin radius-component-step-card {
  $animation-duration: 0.4s;
  $fade-duration: 0.2s;
  $tick-icon: svg-icon("tick");

  .step-card {
    position: relative;

    max-width: 47rem;
    margin: 0 auto 1rem;
    overflow: hidden;

    background: get-color(white);

    box-shadow: 0 0 2px 0 rgba(get-color(black), 0.12),
      0 2px 2px 0 rgba(get-color(black), 0.24);

    transition: height $animation-duration;
  }


  .step-card--grey {
    background: get-color(grey, 3x-light);

    border: 1px solid get-color(grey, 2x-light);

    box-shadow: none;
  }


  .step-card.is-collapsed {
    background: get-color(grey, 4x-light);

    border: 1px solid get-color(grey, 2x-light);

    box-shadow: none;
  }


  .step-card.is-inactive {
    color: get-color(grey, light);

    pointer-events: none;

    border: 1px solid get-color(grey, 3x-light);

    box-shadow: none;
  }


  .step-card__content,
  .step-card__collapse,
  .step-card__inactive {
    @include golden-ratio-paddings(7, 1, 1);

    padding-top: 4rem;
    padding-bottom: 4rem;

    transition: opacity $fade-duration;
    will-change: opacity;


    @include breakpoint(from mobile-medium) {
      @include golden-ratio-paddings(6, 2, 2);
    }


    @include breakpoint(from mobile-large) {
      @include golden-ratio-paddings(6, 3, 3);
    }
  }


  .step-card__collapse,
  .step-card__inactive {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }


  .step-card__collapse,
  .step-card.is-collapsed .step-card__content {
    opacity: 0;
  }


  .step-card.is-collapsed .step-card__collapse {
    opacity: 1;
  }


  .step-card__collapse,
  .step-card__inactive,
  .step-card.is-collapsed .step-card__content,
  .step-card.is-inactive .step-card__content {
    display: none;
  }


  .step-card.is-collapsed .step-card__collapse,
  .step-card.is-inactive .step-card__inactive {
    display: block;
  }


  .step-card__support-icon {
    @include get-single-column-width(1 7 1);

    position: absolute;
    top: 0;
    left: 0;

    height: 100%;
    padding-top: 2rem;


    &::after {
      display: block;
      width: 1.75rem;
      height: 100%;
      max-width: 100%;
      margin: 0 auto;

      background-image: url($tick-icon);
      background-position: center top;
      background-repeat: no-repeat;
      background-size: 100%;

      content: "";
    }


    @include breakpoint(to mobile-medium) {
      display: none;
    }


    @include breakpoint(from mobile-medium) {
      @include get-single-column-width(2 6 2);
    }


    @include breakpoint(from mobile-large) {
      @include get-single-column-width(3 6 3);
    }
  }
}

/**
 * section: M2DM/components/tabs
 * title: Tabs
 *
 * activateComponent: radius-component-tabs
 * jsModule: tabs
 *
 * abstractLink: 2f11850b-4d82-4b4c-9145-f8e4b45bb85e
 *
 * purpose: Use tabs to make it easy to explore and switch between different views.
 *
 * description: |
 *   A tab provides the affordance for displaying grouped content. A tab label succinctly describes the tab’s associated grouping of content.
 *   
 *   Tabs enable content organization at a high level, such as switching between views, data sets, or functional aspects of an app.
 *   
 *   The default layout for the tabs is horizontal across all screen sizes and is designed to be used with a small number of groups of content (typically 3 or less).
 *
 * modifiers:
 *   tabs--vertical: This variant should be used when a large number of content groups is needed (more than 3). This variant will fallback to the horizontal layout on mobile to make better use of available space
 *
 * markup: components/tabs/markup
 */

@mixin tabs {
  $column-padding: 1.5rem;
  $desktop-padding: 5rem;
  $selected-bar-size: 3px;

  .tabs--vertical {
    @include from(mobile-large) {
      @include columns(1 3);


      .tablist {
        position: relative;

        flex-direction: column;
        justify-content: flex-start;

        padding-top: $desktop-padding;

        border-right: 1px solid get-color(grey, 2x-light);
        border-bottom: 0;
      }


      .tablist__item:nth-child(n+2) {
        margin-left: 0;
      }


      .tablist__link.is-selected::before,
      .tablist__link:hover::before {
        top: 0;
        left: $column-padding * (-1);

        width: $selected-bar-size;
        height: 1.5rem;
        margin-top: auto;
        margin-bottom: auto;
      }
    }
  }


  .tablist {
    display: flex;
    justify-content: center;

    padding-right: $column-padding;
    padding-left: $column-padding;
    margin-top: 0;
    margin-bottom: 0;
    margin-left: 0;

    list-style: none;
    background: get-color(white);
    border-bottom: 1px solid get-color(grey, 2x-light);
  }


  .tablist__item {
    display: flex;


    &:nth-child(n+2) {
      margin-left: 2rem;
    }
  }


  .tablist__link {
    position: relative;

    width: 100%;
    padding-top: 1rem;
    padding-bottom: 1rem;

    color: get-color(grey, light);


    &.is-selected,
    &:hover {
      color: get-color(grey, contrast);

      outline: none;


      &::before {
        position: absolute;
        bottom: 0;
        left: 0;

        display: block;
        width: 100%;
        height: $selected-bar-size;

        background: get-color(orange);

        content: "";
      }
    }

  }


  .tabpanels {
    padding-top: $desktop-padding;
    padding-bottom: $desktop-padding;
  }


  .tabpanels__item.is-hidden {
    display: none;
  }


  .tabpanels__item.is-selected {
    display: block;
  }
}


@mixin radius-component-tabs {
  $column-padding: 1.5rem;
  $desktop-padding: 5rem;
  $selected-bar-size: 3px;

  .tablist {
    display: none;
  }

  @supports (display: flex) {
    .has-js {
      @include tabs();
    }
  }
}

/**
 * section: M2DM/components/text-block
 * title: Text block
 *
 * activateComponent: radius-component-text-block
 *
 * abstractLink: e9847b2d-69e1-49a9-b0df-333acee75116
 *
 * purpose: Use to educate readers on a certain subject such as brand story, product information and USPs.
 *
 * description: |
 *   Modifiers for large, medium, small and xsmall variants are responsible for combining different typographic elements depending on the type of message to be conveyed.<br>
 *   
 *   The `large` and `medium` variants incorporate section headings, while the `small` and `xsmall` variants make use of paragraph headings. More details about headings can be found in the typography section (see: `rules/typography/headings`).<br>
 *   
 *   In the context of the `--large` variant, the heading is followed by an `accent bar` which is meant to draw users attention. Two variants of the `accent bar` exists dependent of the font used (these variants are: `--brand` and `--primary`).<br>
 *   
 *   When used on dark backgrounds, an utility class needs to be added which will change the text block color to `white` (see: `developer/utility classes/modifiers`).
 *   
 *   |                      | Heading  | Accent bar | Lead paragraph | Paragraph |
 *   | -------------------- |:--------:|:----------:|:--------------:|:---------:|
 *   | `text-block--large`  | required | required   | required       | optional  |
 *   | `text-block--medium` | optional | N/A        | optional       | optional  |
 *   | `text-block--small`  | optional | N/A        | N/A            | required  |
 *   | `text-block--xsmall` | optional | N/A        | N/A            | required  |
 *   
 *   
 *   ### Modifiers |
 *   `text-block--center`: use when you need a center aligned text block
 *
 * layout: components/text-block/example
 *
 * markup: components/text-block/example-markup
 */


@mixin radius-component-text-block {
  $color-accent: get-color(orange);

  // basic heading bar style
  %heading-bar {
    display: block;
    width: 3rem;
    height: 0.1875rem;

    background-color: $color-accent;

    content: "";
  }


  .text-block--center {
    text-align: center;
  }


  .text-block--center .text-block__heading-bar--primary,
  .text-block--center .text-block__heading-bar--brand {
    &::after {
      margin-right: auto;
      margin-left: auto;
    }
  }


  .text-block > *:last-child {
    margin-bottom: 0;
  }


  .text-block__heading-bar--primary {
    &::after {
      @extend %heading-bar !optional;

      margin-top: 0.5rem;
    }
  }


  .text-block__heading-bar--brand {
    &::after {
      @extend %heading-bar !optional;

      margin-top: 0.75rem;
    }
  }


  .text-block__lead-paragraph {
    @include font(large);

    font-family: get-config(font-family-primary);
    font-weight: normal;


    @include breakpoint(from mobile-large) {
      @include font(x-large);
    }
  }


  .text-block .text-block__paragraph {
    @include font(medium);
  }


  .text-block--xsmall .text-block__paragraph {
    color: get-color(grey, light);
  }
}

/**
 * section: M2DM/components/totaliser
 * title: Totaliser
 *
 * activateComponent: radius-component-totaliser
 *
 * purpose: Use to represent a visualisation of the active sum of a whole.
 *
 * description: |
 *   ### Context:
 *     The Totaliser component is a compound component containing, label, stat and progress sub components.
 *   
 *   ### Behaviour:
 *     The Totaliser component inherits the behaviour from its sub components.
 *
 * markup: components/totaliser/scss/example
 */

@mixin radius-component-totaliser {
  .totaliser {
    padding-top: 1rem;
    padding-bottom: 2rem;


    @supports (display: flex) {
      display: flex;

      flex-direction: column;


      @include breakpoint(from mobile-large) {
        display: block;
      }
    }
  }


  .totaliser.is-complete {
    color: get-color(green);
  }


  .totaliser.is-complete .totaliser__goal {
    display: none;
  }


  .totaliser__progress-indicator {
    order: 1;


    @include breakpoint(from mobile-large) {
      float: left;
      width: 50%;
    }
  }


  .totaliser__progress {
    order: 2;

    clear: both;


    @include breakpoint(to mobile-large) {
      margin-bottom: 0.5rem;
    }
  }


  .totaliser__goal {
    order: 3;

    color: get-color(grey, x-light);
    text-align: right;
  }
}

/**
 * section: M2DM/components/trust/trust-bar
 * title: Trust bar
 *
 * activateComponent: radius-component-trust-bar
 *
 * purpose: Use to convey 3rd party endorsements.
 *
 * description: |
 *   This component displays a set of logos of 3rd party companies or organisations that have endorsed or recommended Funding Circle.<br><br>
 *
 *   It displays a different number of logos depending on the screen size. There shouldn't be more than max 6 "trust-bar__item" elements. Any more will be hidden. Each item may link to an article or blog post on the 3rd party organisation's website.<br><br>
 *
 *   It has a transparent background as it may sit in a section with a background colour that should show through.
 *
 * markup: components/trust-bar/example
 */

@mixin radius-component-trust-bar {
  $component-vspace: 1.5rem;
  $component-hspace: 1.5rem;
  $compact-layout: tablet-small;
  $comfortable-layout: desktop-small;
  $item-hspace: 0.5rem;

  .trust-bar {
    width: 100%;
    padding-top: $component-vspace;
    padding-bottom: $component-vspace;
  }


  .trust-bar__inner {
    @include page-grid;
  }


  .trust-bar__content {
    display: flex;

    align-items: center;
    justify-content: space-between;

    > :nth-child(1) {
      padding-left: 0;
    }


    @include from(mobile-large) {
      padding-right: $component-hspace;
      padding-left: $component-hspace;
    }
  }


  .trust-bar__item {
    padding-right: $item-hspace;
    padding-left: $item-hspace;


    img {
      max-width: 100%;
      max-height: 4rem;
    }
  }


  .no-flexbox {
    .trust-bar__content {
      display: table;
      width: 100%;
    }

    .trust-bar__item {
      display: table-cell;
      width: 1%;

      text-align: center;
    }
  }


  @include to($compact-layout) {
    .trust-bar__content {
      > :nth-child(n+4) {
        display: none;
      }

      > :nth-child(3) {
        padding-right: 0;
      }
    }
  }


  @include breakpoint(from $compact-layout to $comfortable-layout) {
    .trust-bar__content {
      > :nth-child(n+5) {
        display: none;
      }

      > :nth-child(4) {
        padding-right: 0;
      }
    }
  }


  @include from($comfortable-layout) {
    .trust-bar__content {
      > :nth-child(n+7) {
        display: none;
      }

      > :nth-child(6) {
        padding-right: 0;
      }
    }
  }
}

/**
 * section: M2DM/components/trust
 * title: Trust components
 *
 * purpose: Use to convey trust.
 *
 * description: |
 *   Trust components convey trust by offering social proof (by citing either customers or press statements) or by including details of the various partnerships.
 */

/**
 * section: M2DM/components/trust/trust-block
 * title: Trust block
 *
 * activateComponent: radius-component-trust-block
 *
 * abstractLink: 58e554e6-7f11-4cc3-aedc-ed14c4cf1228
 *
 * purpose: Use to build trust by including details of the various partnerships.
 *
 * description: |
 *   This component may often include a variation of the `text block` or a `quote` combined with a logo image or a Trustpilot widget. It's responsible for setting up the layout while being flexible in terms of content.<br><br>
 *
 *   _When living beside other components_ in a 1:1 grid (equal columns) the section housing the copy stacks above the section housing the logo or Trustpilot widget across all screen sizes.<br><br>
 *
 *   _When living by itself_, the trust block will spread across the full width of the screen. In this case, the section housing the logo or the Trustpilot widget will live on the left side of the container being followed by the section housing the copy (on the right side). For generating more complex layouts between custom breakpoints the component makes use of the `get-columns-widths` function (which is part of the `rs-golden-ratio-grid` project imported in Radius as node module dependency). In this user case, the component will require the usage of the modifier class: `.trust-block--full-width` to ensure the layout is applied.<br><br>
 *
 *   The HTML markup should follow the order in which elements will appear on the page for each case which will result in a natural flow of the elements on the page.
 *
 * layout: components/trust-block/example
 *
 * markup: components/trust-block/example-markup
 */

@mixin radius-component-trust-block {
  $component-vspace: 1.5rem;
  $item-vspace: 0.5rem;
  $compact-layout: mobile-large;


  .trust-block__wrapper {
    display: flex;
    flex-flow: row wrap;

    padding-top: $component-vspace;
    padding-bottom: $component-vspace;
  }


  .trust-block__wrapper > * {
    width: 100%;

    padding-top: $item-vspace;
    padding-bottom: $item-vspace;
  }


  .trust-block--full-width .trust-block__wrapper {
    @include page-grid;

    align-items: center;
    justify-content: center;


    @include from($compact-layout) {
      @include columns(1 3) ;

      width: auto;
    }
  }


  .trust-block--full-width .trust-block__media {
    text-align: center;

    @include to($compact-layout) {
      order: 2;
    };
  }


  .trust-block--full-width .trust-block__content {
    @include to($compact-layout) {
      text-align: center;
    }
  }
}

/**
 * section: M2DM/components/trust/trustpilot
 * title: Trustpilot
 *
 * activateComponent: radius-component-trustpilot
 * jsModule: trustpilot
 * jsFunction: trustpilot().start
 *
 * purpose: Use to increase credibility and trust based on the visual representation of the Trustpilot logo, rating and reviews.
 *
 * description: |
 *   When paired with Trustpilot quotes, this component offers an opportunity to demonstrate social proof and support claims about our products and service.<br><br>
 *
 *   The TrustPilot component can be used as a standalone section. It can also be paired with other content or contained within other components, eg. it can be paired with a heading or contained within the Hero or Trust block, but it cannot contain any other content. It can live in the context of the `Third Party Block` or inside the `Hero` component.<br><br>
 *
 *   ### Usage

 *   Ensure the component contains the data attribute `data-js-trustpilot-api`.<br><br>
 *
 *   ### API
 *
 *   This component fetches data from the Trustpilot API in order to show the current star rating, trustscore, and number of reviews. To reduce API calls, it stores the API data in localStorage, and only refreshes from the API after one day.<br><br>
 *
 *   ### Variants
 *
 *   `.trustpilot--small` - makes it a bit smaller <br>
 *   `.trustpilot--inverse` - for use on dark background. **make sure you use the inverse trustpilot logo too**<br><br>
 *   `.trustpilot--centered` - centers the content of the component<br><br>
 *
 *   ### Other
 *
 *   The element will automatically be hidden, if the number of stars on Trustpilot is 3 or less. This is so if there is a dramatic drop in the Trustpilot score, at least it won't be advertised on the website.<br><br>
 *
 *   ### Logo
 *
 *   The link for the logo is optional - please remove hyperlink from the example markup if not required.<br><br>
 *
 *   ### Dynamic elements
 *
 *   To use the information returned from the API, there are 4 dynamic elements that can be used. These are span tags with data attributes on them. When the trustpilot script runs, these tags will be found and replaced with the correct data.
 *
 *   - `<span data-js-trustpilot-headline-rating data-content-4stars="Great" data-content-5stars="Excellent"></span>` - Displays a word which reflects the current star rating. The word displayed must be provided as a data attribute
 *   - `<span data-js-trustpilot-stars></span>` - Displays images of stars. This element will be filled with either 4 or 5 image tags, depending on the current star rating.
 *   - `<span data-js-trustpilot-trustscore></span>` - Displays the current trustscore
 *   - `<span data-js-trustpilot-review-count></span>` - Displays the current number of reviews written
 *
 * layout: components/trustpilot/example
 *
 * markup: components/trustpilot/example-markup
 */


@mixin radius-component-trustpilot {
  $trustpilot-green: #00b67a;

  .trustpilot {
    opacity: 0;

    transition: opacity 0.5s;
  }


  .trustpilot.is-visible {
    opacity: 1;
  }


  .trustpilot__row {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }


  .trustpilot__star-group {
    display: flex;
    margin-bottom: 0.5rem;
  }


  .trustpilot__star {
    width: 1.25rem;
    height: 1.25rem;

    background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGZpbGw9IiMwMEI2N0EiIGQ9Ik0wIDBoMjB2MjBIMHoiLz48cGF0aCBkPSJNMTAgMTMuMTA0bDMuMDQyLS43NyAxLjI3IDMuOTE2TDEwIDEzLjEwNHptNy01LjA2MmgtNS4zNTRMMTAgMyA4LjM1NCA4LjA0MkgzbDQuMzMzIDMuMTI1LTEuNjQ2IDUuMDQxIDQuMzM0LTMuMTI1IDIuNjY2LTEuOTE2TDE3IDguMDQyeiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=");
    background-position: bottom left;
    background-repeat: no-repeat;
    background-size: contain;
  }


  .trustpilot__star:not(:last-child) {
    margin-right: 0.125rem;
  }


  .trustpilot__headline-rating {
    @include font(x-large);

    margin-right: 0.5rem;

    font-family: get-config(font-family-primary);
    font-weight: bold;
    color: $trustpilot-green;
  }


  .trustpilot__tp-logo {
    width: 6rem;
  }


  .trustpilot__reviews-summary {
    margin-bottom: 0;
  }


  .trustpilot__review-count {
    color: get-color(grey, light);
  }


  .trustpilot__review-count--with-divider {
    position: relative;

    padding-left: 0.5rem;
    margin-left: 0.5rem;


    &::before {
      position: absolute;
      top: 50%;
      left: 0;

      display: block;

      width: 0.0625rem;
      height: 1rem;

      background: get-color(grey, x-light);

      content: "";

      transform: translateY(-50%);
    }
  }


  .trustpilot:not(.trustpilot--small) .trustpilot__reviews-summary + .trustpilot__tp-logo {
    width: 7rem;
  }


  // Small variant
  .trustpilot--small {
    .trustpilot__star-group {
      margin-bottom: 0.3rem;
    }


    .trustpilot__star {
      width: 1rem;
      height: 1rem;
    }


    .trustpilot__headline-rating {
      @include font(large);
    }


    .trustpilot__tp-logo {
      width: 5rem;
    }


    .trustpilot__review-count {
      text-transform: uppercase;
    }


    .trustpilot__reviews-summary,
    .trustpilot__review-count {
      @include font(small);
    }
  }


  // Inverse variant
  .trustpilot--inverse {
    .trustpilot__reviews-summary,
    .trustpilot__review-count {
      color: get-color(grey, 3x-light);
    }


    .trustpilot__headline-rating {
      color: get-color(white);
    }
  }


  .trustpilot--centered {
    .trustpilot__row {
      justify-content: center;
    }


    .trustpilot__headline-rating,
    .trustpilot__star-group {
      margin-right: 0.25rem;
      margin-left: 0.25rem;
    }
  }
}

/**
 * section: M2DM/components/uploader
 * title: Uploader
 *
 * activateComponent: radius-component-uploader
 *
 * abstractLink: 1d293c07-a19b-44fd-ab61-39e181f15d8d
 *
 * purpose: To allow users to easily upload, manage and remove files.
 *
 * description: |
 *   ### This component depends upon the ```radius-component-card``` as the uploader lives inside of the card.
 *
 * markup: components/uploader/example
 */

@mixin radius-component-uploader {
  $inline-margins: 0.5rem 0.625rem;


  .uploader__call {
    display: inline-block;
    margin: $inline-margins;
  }


  .uploader__file-types {
    display: inline-block;
    margin: $inline-margins;

    white-space: nowrap;
  }


  .uploader__file-types > *:not(:last-child) {
    margin-right: 1rem;
  }


  .uploader__list {
    padding: 0;
    margin: 0;

    list-style-type: none;
  }


  .uploader__item {
    display: flex;
    align-items: center;

    min-height: 2rem;


    &:not(:last-child) {
      margin-bottom: 1rem;
    }
  }


  .uploader__file {
    position: relative;

    flex: 1;

    padding-right: 0.5rem;
  }


  .uploader__file > svg {
    position: absolute;
    top: 50%;
    left: 0;

    transform: translateY(-50%);
  }


  .uploader__file-name {
    padding-left: 2.5rem;
  }


  .uploader__actions {
    float: right;
    padding: 0;
    margin: 0;

    list-style-type: none;
  }
}

/**
 * section: M2DM/components/video-block
 * title: Video block
 *
 * activateComponent: radius-component-video-block
 * jsModule: video-block
 * jsFunction: videoBlock
 *
 * purpose: Use to communicate complex information visually through a video.
 *
 * description: |
 *   This component provides a YouTube video block that can be used anywhere on a page.
 *
 *   ### How to use
 *   1. Copy the `video-block` markup from the example.
 *   1. Change the video URL and make sure `enablejsapi=1` param is added.
 *   1. Add `data-js-video-block-container="{video-name}"` to a chosen ancestor element - the video block will fill this container when activated.
 *   1. Make sure all `data-js` attributes use the same video name. You don't need a value on `data-js-video-block-player`.
 *   
 *   ### Good to know
 *   - `position: relative` will be added to the marked container if its position is static.
 *   - The video player always maintains a 16:9 aspect ratio while the video-block covers the entire container providing letterboxing.
 *   - The video starts playing automatically when it becomes visible and pauses when it's hidden.
 *   - This component does not need the YouTube Iframe API for it to work.
 *   - You can make the video always visible by adding a `video-block--visible` class on the video block element. The `data-js-video-block-trigger` elements are optional.
 *   - You can have as many video blocks on one page as you want, provided they use different names.
 *
 * markup: components/video-block/example
 */

@mixin radius-component-video-block {
  $overlay-color: get-color(grey, contrast);
  $overlay-color-value: rgba($overlay-color, 0.9);
  $close-icon-color: get-color(white);
  $close-icon-size: 1.5rem;
  $close-icon-spacing: 1rem;

  .video-block {
    position: absolute;
    top: 0;
    left: 0;

    display: none;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    overflow: hidden;

    background-color: $overlay-color-value;

    opacity: 0;
    transition: opacity 0.4s ease-out;
  }


  .video-block.is-transitioning {
    display: flex;
  }


  .video-block.is-visible {
    display: flex;

    opacity: 1;
    transition: opacity 0.8s ease-in;
  }

  
  .no-flexbox .video-block.is-transitioning,
  .no-flexbox .video-block.is-visible {
    display: block;
  }


  .video-block__close {
    position: absolute;
    top: $close-icon-spacing;
    right: $close-icon-spacing;

    width: $close-icon-size;
    height: $close-icon-size;

    cursor: pointer;
  }
}


