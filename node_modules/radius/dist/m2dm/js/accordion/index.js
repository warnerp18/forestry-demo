(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define('radius/accordion/js/index', ['exports'], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports);
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports);
    global.radiusAccordionJsIndex = mod.exports;
  }
})(this, function (exports) {
  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports['default'] = function () {
    var CLASS_ACTIVE = 'is-active';

    var accordions = Array.from(document.querySelectorAll('[data-js-accordion]'));

    if (!accordions.length) {
      return;
    }

    accordions.forEach(function (accordion) {
      var items = Array.from(accordion.querySelectorAll('[data-js-accordion-item]'));
      var triggers = Array.from(accordion.querySelectorAll('[data-js-accordion-trigger]'));

      items.forEach(function (item) {
        item.classList.remove(CLASS_ACTIVE);

        item.addEventListener('click', function (e) {
          var el = e.target;
          if (triggers.includes(el)) {
            var status = item.classList.contains(CLASS_ACTIVE);
            items.forEach(function (i) {
              i.classList.remove(CLASS_ACTIVE);
            });

            item.classList.toggle(CLASS_ACTIVE, !status);
          }
        }, false);
      });
    });
  };
});