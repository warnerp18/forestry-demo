(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define('radius/toggle/index', ['exports'], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports);
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports);
    global.radiusToggleIndex = mod.exports;
  }
})(this, function (exports) {
  'use strict';

  Object.defineProperty(exports, "__esModule", {
    value: true
  });

  exports['default'] = function () {
    var CLASS_ACTIVE = 'is-active';
    var toggles = Array.from(document.querySelectorAll('[data-js-toggle]'));

    if (!toggles.length) {
      return;
    }

    toggles.forEach(function (toggle) {
      var toggleSwitch = toggle.querySelector('[data-js-toggle-switch]');

      toggleSwitch.addEventListener('click', function (e) {
        e.stopPropagation();
        var status = toggle.classList.contains(CLASS_ACTIVE);

        toggles.forEach(function (el) {
          el.classList.remove(CLASS_ACTIVE);
        });

        toggle.classList.toggle(CLASS_ACTIVE, !status);
      }, false);

      document.addEventListener('click', function () {
        toggle.classList.remove(CLASS_ACTIVE);
      });
    });
  };
});